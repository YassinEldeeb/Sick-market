{"version":3,"sources":["actions/register.js","pages/Register.js"],"names":["userRegisterAction","name","email","password","dispatch","a","type","cancelToken","axios","CancelToken","source","config","headers","Content_Type","token","post","data","payload","localStorage","setItem","JSON","stringify","response","message","removeItem","StyledRegister","styled","div","Register","inputRef","useRef","inputRef2","useState","setName","emailValue","setEmailValue","passwordValue","setPasswordValue","confirmPasswordValue","setConfirmPasswordValue","show","setShow","passwordMatch","SetpasswordMatch","useDispatch","location","useLocation","history","useHistory","useSelector","state","userInfo","loading","user","error","search","replace","redirect","useEffect","push","window","scroll","top","left","onSubmit","e","preventDefault","isNaN","vibrating","visiblity","msg","includes","errorFunctionHandler","className","htmlFor","value","id","onChange","target","onClick","style","display","length","src","xSign","alt","ref","closedEye","draggable","current","focus","setTimeout","selectionStart","selectionEnd","eye","to"],"mappings":"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","file":"static/js/10.7237a72f.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst userRegisterAction = (name, email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: 'REGISTER_REQUEST' })\r\n\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      headers: {\r\n        Content_Type: 'application/json',\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    const { data } = await axios.post(\r\n      '/api/users',\r\n      { name, email, password },\r\n      config\r\n    )\r\n    dispatch({ type: 'REGISTER_SUCCESS' })\r\n    dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data })\r\n    if (data) localStorage.setItem('sickUserInfo', JSON.stringify(data))\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'REGISTER_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n    localStorage.removeItem('sickUserInfo')\r\n  }\r\n}\r\nexport default userRegisterAction\r\n","import React, { useState, useEffect, useRef } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport xSign from \"../img/xSign.svg\"\r\nimport closedEye from \"../img/closedEye.svg\"\r\nimport eye from \"../img/eye.svg\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport userRegisterAction from \"../actions/register\"\r\nimport Message from \"../components/message\"\r\nimport Loader from \"../components/loader\"\r\nimport { useHistory, useLocation, Link } from \"react-router-dom\"\r\n\r\nconst Register = () => {\r\n  const inputRef = useRef(null)\r\n  const inputRef2 = useRef(null)\r\n  const [name, setName] = useState(\"\")\r\n  const [emailValue, setEmailValue] = useState(\"\")\r\n  const [passwordValue, setPasswordValue] = useState(\"\")\r\n  const [confirmPasswordValue, setConfirmPasswordValue] = useState(\"\")\r\n  const [show, setShow] = useState(false)\r\n  const [passwordMatch, SetpasswordMatch] = useState(null)\r\n\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (passwordValue !== confirmPasswordValue) {\r\n      SetpasswordMatch(\"Password & Confirm Password don't match\")\r\n    } else {\r\n      if ((!name, !emailValue, !passwordValue)) {\r\n        SetpasswordMatch(\"name, Email and Password are Required\")\r\n      } else {\r\n        if (!isNaN(name)) {\r\n          SetpasswordMatch(\"Name must be alphabetical letters!\")\r\n        } else {\r\n          SetpasswordMatch(null)\r\n          dispatch(userRegisterAction(name, emailValue, passwordValue))\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const { loading, user, error } = useSelector((state) => state.userInfo)\r\n\r\n  const search = location.search.replace(\"?redirect=\", \"\")\r\n  const redirect = search !== \"/\" ? search : \"/verify\"\r\n\r\n  useEffect(() => {\r\n    if (user.name) {\r\n      history.push(redirect)\r\n    }\r\n  }, [user, history, redirect])\r\n\r\n  const errorFunctionHandler = () => {\r\n    if (passwordMatch) {\r\n      return passwordMatch\r\n    } else {\r\n      if (error) {\r\n        if (error.includes(\"mongo\")) {\r\n          return \"Server Error\"\r\n        }\r\n        if (error.includes(\"timed out\")) {\r\n          return \"Network Error\"\r\n        }\r\n        if (error.includes(\"is shorter than the minimum allowed length (8)\")) {\r\n          return \"Password is shorter than the minimum allowed length (8).\"\r\n        }\r\n        switch (error) {\r\n          case \"User validation failed: password: Password can't contain any sort of 'password' keyword\":\r\n            return \"Your Password can't contain any sort of the 'password' keyword.\"\r\n          default:\r\n            return error\r\n        }\r\n      } else {\r\n        return \"ok\"\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (passwordMatch || error) {\r\n      window.scroll({\r\n        top: 0,\r\n        left: 0,\r\n      })\r\n    }\r\n  }, [error, passwordMatch])\r\n\r\n  return (\r\n    <StyledRegister>\r\n      <form onSubmit={submitHandler}>\r\n        <h1>Sign Up</h1>\r\n        <Message\r\n          vibrating='true'\r\n          visiblity={error || passwordMatch ? true : false}\r\n          msg={errorFunctionHandler()}\r\n          type='error'\r\n        />\r\n\r\n        <div className='name'>\r\n          <label htmlFor='name'>Name</label>\r\n          <input\r\n            value={name}\r\n            id='name'\r\n            type='text'\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n          <img\r\n            onClick={() => setName(\"\")}\r\n            style={{ display: `${name.length ? \"block\" : \"none\"}` }}\r\n            className='xSign2'\r\n            src={xSign}\r\n            alt='X icon'\r\n          />\r\n        </div>\r\n        <div className='email'>\r\n          <label htmlFor='email'>Email Address</label>\r\n          <input\r\n            value={emailValue}\r\n            id='email'\r\n            type='text'\r\n            onChange={(e) => setEmailValue(e.target.value)}\r\n          />\r\n          <img\r\n            onClick={() => setEmailValue(\"\")}\r\n            style={{ display: `${emailValue.length ? \"block\" : \"none\"}` }}\r\n            className='xSign2'\r\n            src={xSign}\r\n            alt='X icon'\r\n          />\r\n        </div>\r\n        <div className='password'>\r\n          <label htmlFor='password'>Password</label>\r\n          <input\r\n            ref={inputRef}\r\n            value={passwordValue}\r\n            id='password'\r\n            type={`${show ? \"text\" : \"password\"}`}\r\n            onChange={(e) => setPasswordValue(e.target.value)}\r\n          />\r\n          <img\r\n            style={{ display: `${show ? \"none\" : \"block\"}` }}\r\n            className='eye eye1'\r\n            src={closedEye}\r\n            alt='closedEye'\r\n            draggable='false'\r\n            onClick={() => {\r\n              inputRef.current.focus()\r\n              setShow(!show)\r\n              setTimeout(function () {\r\n                inputRef.current.selectionStart = inputRef.current.selectionEnd = 10000\r\n              }, 0)\r\n            }}\r\n          />\r\n          <img\r\n            style={{ display: `${!show ? \"none\" : \"block\"}` }}\r\n            className='eye eye2'\r\n            src={eye}\r\n            alt='eye'\r\n            draggable='false'\r\n            onClick={() => {\r\n              inputRef.current.focus()\r\n              setShow(!show)\r\n              setTimeout(function () {\r\n                inputRef.current.selectionStart = inputRef.current.selectionEnd = 10000\r\n              }, 0)\r\n            }}\r\n          />\r\n        </div>\r\n        <div className='password'>\r\n          <label htmlFor='confirmPassword'>Confirm Password</label>\r\n          <input\r\n            ref={inputRef2}\r\n            value={confirmPasswordValue}\r\n            id='confirmPassword'\r\n            type={`${show ? \"text\" : \"password\"}`}\r\n            onChange={(e) => setConfirmPasswordValue(e.target.value)}\r\n          />\r\n          <img\r\n            style={{ display: `${show ? \"none\" : \"block\"}` }}\r\n            className='eye eye1'\r\n            src={closedEye}\r\n            alt='closedEye'\r\n            draggable='false'\r\n            onClick={() => {\r\n              inputRef2.current.focus()\r\n              setShow(!show)\r\n              setTimeout(function () {\r\n                inputRef2.current.selectionStart = inputRef2.current.selectionEnd = 10000\r\n              }, 0)\r\n            }}\r\n          />\r\n          <img\r\n            style={{ display: `${!show ? \"none\" : \"block\"}` }}\r\n            className='eye eye2'\r\n            src={eye}\r\n            alt='eye'\r\n            draggable='false'\r\n            onClick={() => {\r\n              inputRef2.current.focus()\r\n              setShow(!show)\r\n              setTimeout(function () {\r\n                inputRef2.current.selectionStart = inputRef2.current.selectionEnd = 10000\r\n              }, 0)\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <button className='registerBtn' type='submit'>\r\n          Register {loading && <Loader />}\r\n        </button>\r\n        <p className='desktop'>\r\n          Have an Account?{\" \"}\r\n          <span className='register'>\r\n            <Link to={`/login?redirect=${redirect}`}>Login</Link>\r\n          </span>\r\n        </p>\r\n      </form>\r\n      <p className='mobile'>\r\n        Have an Account?{\" \"}\r\n        <span className='register'>\r\n          <Link to={`/login?redirect=${redirect}`}>Login</Link>\r\n        </span>\r\n      </p>\r\n    </StyledRegister>\r\n  )\r\n}\r\n\r\nconst StyledRegister = styled.div`\r\n  .eye2 {\r\n    transform: translate(-50%, 8%) !important;\r\n  }\r\n  .xSign2 {\r\n    position: absolute;\r\n    right: 0%;\r\n    top: 50%;\r\n    transform: translate(-50%, -12%);\r\n    width: calc(0.75rem + 1vw);\r\n    cursor: pointer;\r\n    padding: 0.2rem;\r\n  }\r\n  .eye {\r\n    position: absolute;\r\n    right: 0%;\r\n    top: 50%;\r\n    transform: translate(-50%, -6%);\r\n    width: calc(1.8rem + 0.3vw);\r\n    cursor: pointer;\r\n  }\r\n  .mobile {\r\n    display: none;\r\n  }\r\n  .desktop {\r\n    display: block;\r\n  }\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex: 1 1 auto;\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    width: 35%;\r\n    justify-content: center;\r\n    margin-top: clamp(20px, 14vh, 80px);\r\n    margin-bottom: 2.5rem;\r\n    h1 {\r\n      color: #1a1a1a;\r\n      font-weight: 500;\r\n      font-size: calc(2rem + 1vw);\r\n    }\r\n    .signInDiv {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      width: 100%;\r\n    }\r\n    .email,\r\n    .password,\r\n    .name {\r\n      position: relative;\r\n      width: 100%;\r\n      input {\r\n        background: #f3f3f3;\r\n        border: none;\r\n        padding: 0.5rem 1rem;\r\n        border-radius: 6px;\r\n        width: 100%;\r\n        font-size: calc(1rem + 0.3vw);\r\n      }\r\n      label {\r\n        font-size: calc(1rem + 0.3vw);\r\n        color: #343a40;\r\n      }\r\n    }\r\n    .registerBtn {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.45rem 1.1rem;\r\n      border: none;\r\n      background: #00b2d8;\r\n      color: white;\r\n      border-radius: 6px;\r\n      font-size: calc(1.2rem + 0.3vw);\r\n      cursor: pointer;\r\n      transition: 0.1s;\r\n      &:hover {\r\n        background: #00a8ce;\r\n      }\r\n      #loader:first-child {\r\n        width: calc(0.9rem + 0.5vw);\r\n        height: calc(0.9rem + 0.5vw);\r\n        margin-left: 0.45rem;\r\n        #greybackground path {\r\n          stroke: white;\r\n        }\r\n      }\r\n    }\r\n    #email,\r\n    #password,\r\n    #confirmPassword,\r\n    #name {\r\n      margin-bottom: 1rem;\r\n      margin-top: 0.3rem;\r\n      padding-right: 2.8rem;\r\n    }\r\n  }\r\n  .desktop,\r\n  .mobile {\r\n    font-size: calc(0.9rem + 0.2vw);\r\n    margin-top: 1.2rem;\r\n    span a {\r\n      color: #0084a0;\r\n      cursor: pointer;\r\n      transition: 0.1s;\r\n\r\n      &:hover {\r\n        color: #0094b6;\r\n      }\r\n    }\r\n  }\r\n  .message {\r\n    margin-top: 0.1rem;\r\n    width: 100%;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    form {\r\n      margin-bottom: 1rem;\r\n    }\r\n    .message {\r\n      padding: 0.5rem 0.7rem !important;\r\n    }\r\n    .eye {\r\n      position: absolute;\r\n      right: 0%;\r\n      top: 50%;\r\n      cursor: pointer;\r\n      padding: 0.6rem;\r\n      transform: translate(-18%, -36%);\r\n      width: calc(2.8rem + 1vw);\r\n    }\r\n    .eye2 {\r\n      transform: translate(-18%, -35%) !important;\r\n    }\r\n    .xSign2 {\r\n      transform: translate(-50%, -24%) !important;\r\n      width: calc(2rem + 1vw);\r\n      cursor: pointer;\r\n      padding: 0.6rem;\r\n      transform: translate(-12%, -36%) !important;\r\n    }\r\n    justify-content: space-around;\r\n    form {\r\n      margin-top: 1.1rem;\r\n      margin-bottom: 0;\r\n      width: 90%;\r\n      h1 {\r\n        font-size: calc(2.5rem + 1vw);\r\n      }\r\n      input {\r\n        font-size: calc(1.1rem + 0.3vw);\r\n      }\r\n      label {\r\n        font-size: calc(1.3rem + 0.3vw);\r\n      }\r\n      button {\r\n        font-size: calc(1.2rem + 0.3vw);\r\n        padding: 0.5rem 1.1rem;\r\n        border-radius: 6px;\r\n      }\r\n      #email,\r\n      #password {\r\n        margin-bottom: 1.3rem;\r\n      }\r\n    }\r\n    .mobile {\r\n      margin: 1.8rem 0;\r\n      display: block;\r\n      font-size: calc(1.1rem + 0.2vw);\r\n    }\r\n    .desktop {\r\n      display: none;\r\n    }\r\n    .filepond--drop-label.filepond--drop-label label {\r\n      font-size: calc(0.9rem + 1vw) !important;\r\n    }\r\n    .filepond--wrapper {\r\n      align-self: center;\r\n      width: 12rem;\r\n      margin-bottom: 0.65rem;\r\n    }\r\n    .filepond--root.filepond--hopper {\r\n      height: 12rem !important;\r\n    }\r\n  }\r\n  .filepond--drop-label.filepond--drop-label label {\r\n    font-size: 1.2rem;\r\n  }\r\n`\r\n\r\nexport default Register\r\n"],"sourceRoot":""}