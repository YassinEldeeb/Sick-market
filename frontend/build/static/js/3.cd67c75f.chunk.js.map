{"version":3,"sources":["../node_modules/core-js/library/modules/_core.js","../node_modules/core-js/library/modules/_global.js","../node_modules/core-js/library/modules/_export.js","../node_modules/core-js/library/modules/_object-dp.js","../node_modules/core-js/library/modules/_descriptors.js","../node_modules/core-js/library/modules/_has.js","../node_modules/core-js/library/modules/_hide.js","../node_modules/core-js/library/modules/_is-object.js","../node_modules/core-js/library/modules/_fails.js","../node_modules/core-js/library/modules/_to-iobject.js","../node_modules/core-js/library/modules/_wks.js","../node_modules/core-js/library/modules/_an-object.js","../node_modules/core-js/library/modules/_property-desc.js","../node_modules/core-js/library/modules/_object-keys.js","../node_modules/core-js/library/modules/_library.js","../node_modules/core-js/library/modules/_uid.js","../node_modules/core-js/library/modules/_object-pie.js","../node_modules/core-js/library/modules/_to-primitive.js","../node_modules/core-js/library/modules/_defined.js","../node_modules/core-js/library/modules/_to-integer.js","../node_modules/core-js/library/modules/_shared-key.js","../node_modules/core-js/library/modules/_shared.js","../node_modules/core-js/library/modules/_enum-bug-keys.js","../node_modules/core-js/library/modules/_object-gops.js","../node_modules/core-js/library/modules/_to-object.js","../node_modules/core-js/library/modules/_iterators.js","../node_modules/core-js/library/modules/_object-create.js","../node_modules/core-js/library/modules/_set-to-string-tag.js","../node_modules/core-js/library/modules/_wks-ext.js","../node_modules/core-js/library/modules/_wks-define.js","../node_modules/sdp/sdp.js","../node_modules/core-js/library/modules/_ctx.js","../node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/core-js/library/modules/_dom-create.js","../node_modules/core-js/library/modules/_object-keys-internal.js","../node_modules/core-js/library/modules/_iobject.js","../node_modules/core-js/library/modules/_cof.js","../node_modules/core-js/library/modules/_object-gpo.js","../node_modules/babel-runtime/helpers/typeof.js","../node_modules/core-js/library/modules/_iter-define.js","../node_modules/core-js/library/modules/_redefine.js","../node_modules/core-js/library/modules/_object-gopn.js","../node_modules/core-js/library/modules/_object-gopd.js","../node_modules/react-qr-reader/lib/index.js","../node_modules/react-qr-reader/lib/getDeviceId.js","../node_modules/react-qr-reader/lib/errors.js","../node_modules/react-qr-reader/lib/havePropsChanged.js","../node_modules/react-qr-reader/lib/createBlob.js","../node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","../node_modules/react-lottie/dist/index.js","../node_modules/babel-runtime/helpers/extends.js","../node_modules/babel-runtime/core-js/object/assign.js","../node_modules/core-js/library/fn/object/assign.js","../node_modules/core-js/library/modules/es6.object.assign.js","../node_modules/core-js/library/modules/_a-function.js","../node_modules/core-js/library/modules/_object-assign.js","../node_modules/core-js/library/modules/_array-includes.js","../node_modules/core-js/library/modules/_to-length.js","../node_modules/core-js/library/modules/_to-absolute-index.js","../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../node_modules/core-js/library/fn/object/get-prototype-of.js","../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../node_modules/core-js/library/modules/_object-sap.js","../node_modules/babel-runtime/helpers/classCallCheck.js","../node_modules/babel-runtime/helpers/createClass.js","../node_modules/babel-runtime/core-js/object/define-property.js","../node_modules/core-js/library/fn/object/define-property.js","../node_modules/core-js/library/modules/es6.object.define-property.js","../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../node_modules/babel-runtime/core-js/symbol/iterator.js","../node_modules/core-js/library/fn/symbol/iterator.js","../node_modules/core-js/library/modules/es6.string.iterator.js","../node_modules/core-js/library/modules/_string-at.js","../node_modules/core-js/library/modules/_iter-create.js","../node_modules/core-js/library/modules/_object-dps.js","../node_modules/core-js/library/modules/_html.js","../node_modules/core-js/library/modules/web.dom.iterable.js","../node_modules/core-js/library/modules/es6.array.iterator.js","../node_modules/core-js/library/modules/_add-to-unscopables.js","../node_modules/core-js/library/modules/_iter-step.js","../node_modules/babel-runtime/core-js/symbol.js","../node_modules/core-js/library/fn/symbol/index.js","../node_modules/core-js/library/modules/es6.symbol.js","../node_modules/core-js/library/modules/_meta.js","../node_modules/core-js/library/modules/_enum-keys.js","../node_modules/core-js/library/modules/_is-array.js","../node_modules/core-js/library/modules/_object-gopn-ext.js","../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../node_modules/core-js/library/modules/es7.symbol.observable.js","../node_modules/babel-runtime/helpers/inherits.js","../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../node_modules/core-js/library/fn/object/set-prototype-of.js","../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../node_modules/core-js/library/modules/_set-proto.js","../node_modules/babel-runtime/core-js/object/create.js","../node_modules/core-js/library/fn/object/create.js","../node_modules/core-js/library/modules/es6.object.create.js","../node_modules/lottie-web/build/player/lottie.js","../../src/index.tsx","../node_modules/webrtc-adapter/src/js/utils.js","../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../node_modules/webrtc-adapter/src/js/edge/getusermedia.js","../node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/edge/edge_shim.js","../node_modules/webrtc-adapter/src/js/edge/filtericeservers.js","../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js","../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../node_modules/webrtc-adapter/src/js/common_shim.js","../node_modules/webrtc-adapter/src/js/adapter_core.js","../node_modules/webrtc-adapter/src/js/adapter_factory.js"],"names":["core","module","exports","version","__e","global","window","Math","self","Function","__g","require","ctx","hide","has","$export","type","name","source","key","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","target","undefined","C","a","b","c","this","arguments","length","apply","call","virtual","R","U","anObject","IE8_DOM_DEFINE","toPrimitive","dP","Object","defineProperty","f","O","Attributes","e","TypeError","value","get","hasOwnProperty","it","createDesc","object","exec","IObject","defined","store","uid","Symbol","USE_SYMBOL","isObject","bitmap","enumerable","configurable","writable","$keys","enumBugKeys","keys","id","px","random","concat","toString","propertyIsEnumerable","fn","val","valueOf","ceil","floor","isNaN","shared","SHARED","push","mode","copyright","split","getOwnPropertySymbols","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","i","style","display","appendChild","src","contentWindow","document","open","write","lt","close","create","Properties","result","def","TAG","tag","stat","prototype","LIBRARY","wksExt","$Symbol","charAt","SDPUtils","substr","localCName","generateIdentifier","splitLines","blob","trim","map","line","splitSections","part","index","getDescription","sections","getMediaSections","shift","matchPrefix","prefix","filter","indexOf","parseCandidate","parts","candidate","foundation","substring","component","parseInt","protocol","toLowerCase","priority","ip","address","port","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","sdp","toUpperCase","join","parseIceOptions","parseRtpMap","parsed","payloadType","clockRate","channels","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","params","forEach","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","parseSsrcGroup","semantics","ssrcs","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","parseCryptoLine","cryptoSuite","keyParams","sessionParams","slice","writeCryptoLine","writeCryptoKeyParams","parseCryptoKeyParams","keyMethod","keySalt","lifeTime","mkiValue","mkiLength","getCryptoParameters","getIceParameters","pwd","password","writeIceParameters","parseRtpParameters","description","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","kind","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","JSON","parse","stringify","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","obj","cname","rsize","reducedSize","compound","mux","parseMsid","spec","stream","track","planB","msidParts","parseSctpDescription","maxMessageSize","parseMLine","maxSizeLine","sctpPort","fmt","writeSctpDescription","media","sctp","output","generateSessionId","writeSessionBoilerplate","sessId","sessVer","sessUser","writeMediaSection","transceiver","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseOLine","username","sessionId","sessionVersion","netType","addressType","isValidSDP","aFunction","that","is","createElement","toIObject","arrayIndexOf","names","cof","toObject","ObjectProto","getPrototypeOf","constructor","__esModule","_iterator2","_interopRequireDefault","_symbol2","_typeof","default","redefine","Iterators","$iterCreate","setToStringTag","ITERATOR","BUGGY","KEYS","VALUES","returnThis","Base","NAME","Constructor","next","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","values","hiddenKeys","getOwnPropertyNames","pIE","gOPD","getOwnPropertyDescriptor","_class","_temp","_extends","assign","_createClass","defineProperties","props","descriptor","protoProps","staticProps","React","Component","PropTypes","_require","getDeviceId","havePropsChanged","getFacingModePattern","createBlob","workerBlob","propsKeys","_Component","Reader","instance","_classCallCheck","_this","ReferenceError","_possibleConstructorReturn","__proto__","els","state","mirrorVideo","initiate","bind","initiateLegacyMode","check","handleVideo","handleLoadStart","handleInputChange","clearComponent","handleReaderLoad","openImageDialog","handleWorkerMessage","setRefFactory","subClass","superClass","setPrototypeOf","_inherits","worker","Worker","URL","createObjectURL","onmessage","legacyMode","nextProps","changedProps","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","prop","delay","timeout","setTimeout","clearTimeout","componentDidUpdate","err","return","nextState","terminate","stopCamera","reader","removeEventListener","img","onError","facingMode","isFirefox","test","navigator","userAgent","supported","mediaDevices","getSupportedConstraints","constraints","ideal","frameRate","min","vConstraintsPromise","Promise","resolve","then","deviceId","video","getUserMedia","catch","preview","srcObject","mozSrcObject","webkitURL","playsInline","streamTrack","getTracks","stop","addEventListener","setState","streamLabel","label","_props","onLoad","_state","play","_props2","resolution","_els","canvas","width","naturalWidth","videoWidth","height","naturalHeight","videoHeight","hozOffset","vertOffset","ratio","_ratio","previewIsPlaying","readyState","HAVE_ENOUGH_DATA","getContext","drawImage","imageData","getImageData","postMessage","_props3","onScan","data","FileReader","selectedImg","files","readAsDataURL","input","click","_this2","element","_props4","className","onImageLoad","showViewFinder","hiddenStyle","previewStyle","top","left","position","overflow","videoPreviewStyle","objectFit","transform","imgPreviewStyle","paddingTop","zIndex","boxSizing","border","boxShadow","accept","ref","onChange","propTypes","func","isRequired","oneOfType","number","bool","oneOf","any","string","defaultProps","NoVideoInputDevicesError","defaultDeviceIdChooser","filteredDevices","videoDevices","chooseDeviceId","reject","enumerateDevices","devices","device","pattern","_ref","message","Error","prevProps","properties","Blob","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","dtlsRole","trackId","_initialTrackId","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","action","signalingState","offer","setLocalDescription","setRemoteDescription","answer","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","find","remoteCandidate","addRemoteCandidate","makeError","code","NotSupportedError","InvalidStateError","InvalidAccessError","OperationError","edgeVersion","addTrackToStreamAndFireEvent","addTrack","dispatchEvent","MediaStreamTrackEvent","fireAddTrack","pc","receiver","streams","trackEvent","Event","_dispatchEvent","RTCPeerConnection","config","_eventTarget","createDocumentFragment","method","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","_localDescription","_remoteDescription","iceConnectionState","connectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","iceTransportPolicy","iceServers","hasTurn","server","urls","url","console","warn","isString","filterIceServers","_iceGatherers","iceCandidatePoolSize","RTCIceGatherer","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_isClosed","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","event","_emitGatheringStateChange","getConfiguration","getLocalStreams","getRemoteStreams","_createTransceiver","doNotAdd","hasBundleTransport","recvEncodingParameters","associatedRemoteMediaStreams","wantReceive","transports","_createIceAndDtlsTransports","s","_maybeFireNegotiationNeeded","RTCRtpSender","addStream","clonedStream","clone","idx","clonedTrack","enabled","removeTrack","sender","t","splice","removeStream","getSenders","getReceivers","_createIceGatherer","sdpMLineIndex","bufferedCandidateEvents","bufferCandidates","end","_gather","onlocalcandidate","evt","sdpMid","cand","serializedCandidate","toJSON","complete","every","RTCIceTransport","onicestatechange","_updateIceConnectionState","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","send","recv","encodings","p","receive","isIceLite","rejected","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","receiverList","iceOptions","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","MediaStream","RTCRtpReceiver","getCapabilities","isNewTrack","nativeTrack","removeTrackFromStreamAndFireEvent","sid","item","newState","states","closed","checking","connected","completed","disconnected","failed","new","connecting","createOffer","numAudioTracks","numVideoTracks","offerOptions","mandatory","optional","offerToReceiveAudio","offerToReceiveVideo","remoteCodec","hdrExt","rHdrExt","getLocalCandidates","desc","RTCSessionDescription","createAnswer","mediaSectionsInOffer","localTrack","getAudioTracks","getVideoTracks","addIceCandidate","candidateString","getStats","selector","MediaStreamTrack","senderOrReceiver","promises","all","allStats","results","Map","stats","set","ortcObjectName","nativeGetstats","nativeStats","mapStats","inboundrtp","outboundrtp","candidatepair","localcandidate","remotecandidate","nativeMethod","args","error","_extends3","_getPrototypeOf2","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_react2","_propTypes2","_lottieWeb2","Lottie","_React$Component","_ret","_len","Array","_key","handleClickToPause","anim","isPaused","pause","options","eventListeners","loop","autoplay","animationData","rendererSettings","segments","container","el","renderer","loadAnimation","registerEvents","deRegisterEvents","destroy","isStopped","playSegments","setSpeed","setDirection","speed","eventListener","eventName","callback","_this3","_this4","ariaRole","ariaLabel","isClickToPauseDisabled","title","getSize","initial","lottieStyles","margin","outline","onClickHandler","onClick","tabIndex","arrayOf","_assign","_assign2","getKeys","gOPS","$assign","A","K","k","T","aLen","getSymbols","isEnum","toLength","toAbsoluteIndex","IS_INCLUDES","$this","fromIndex","toInteger","max","$getPrototypeOf","fails","KEY","exp","_defineProperty","_defineProperty2","$Object","_typeof2","_typeof3","$at","String","iterated","_t","_i","point","TO_STRING","pos","l","charCodeAt","documentElement","TO_STRING_TAG","DOMIterables","Collection","addToUnscopables","step","_k","Arguments","DESCRIPTORS","META","$fails","wks","wksDefine","enumKeys","isArray","_create","gOPNExt","$GOPD","$DP","gOPN","$JSON","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","replacer","$replacer","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","symbols","arg","windowNames","getWindowNames","_setPrototypeOf2","_create2","buggy","root","factory","svgNS","locationHref","initialDefaultFrame","subframeEnabled","expressionsPlugin","isSafari","cachedColors","bmRnd","bmPow","pow","bmSqrt","sqrt","bmFloor","bmMax","bmMin","BMMath","ProjectInterface","propertyNames","len","abs","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","round","styleDiv","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","v","r","g","q","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","_cbs","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createNS","createElementNS","createTag","DynamicPropertyContainer","addDynamicProperty","dynamicProperties","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","reset","rotate","angle","mCos","mSin","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","m","n","o","translate","tx","ty","tz","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","x","y","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","startdenom","significance","mask","ARC4","keylen","me","count","copy","flatten","depth","typ","mixkey","seed","smear","stringseed","tostring","fromCharCode","shortseed","entropy","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","Date","screen","autoseed","arc4","prng","int32","quick","double","pass","is_math_call","BezierFactory","ob","nm","str","replace","beziers","bezEasing","BezierEasing","kSampleStepSize","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","points","_mSampleValues","_precomputed","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","extendPrototype","sources","destination","sourcePrototype","attr","getDescriptor","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","lastPoint","lengthData","bezierLengthPool","newElement","percents","lengths","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","segmentsLengthPool","pathV","pathO","pathI","_length","totalLength","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","bez","dataFunctionManager","completeLayers","layers","comps","fontManager","layerData","jLen","kLen","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","singleShape","__used","ks","path","checkVersion","minimum","animVersionString","animVersion","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","assets","checkChars","chars","pathData","paths","__converted","checkColors","iterateShapes","checkShapes","completeClosingShapes","cl","moduleOb","__complete","dataManager","getFontProperties","fontData","styles","fStyle","fWeight","weight","FontManager","emptyChar","size","combinedCharacters","setUpNode","font","family","parentNode","fontFamily","node","innerText","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","body","offsetWidth","familyArray","enabledFamilies","trimFontOptions","parent","createHelper","tHelper","fontProps","setAttribute","fFamily","textContent","fClass","Font","fonts","typekitLoaded","isLoaded","_warned","initTime","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","getCombinedCharacterCodes","addChars","found","ch","addFonts","defs","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","origin","querySelectorAll","href","rel","sc","helper","cache","getCharData","char","getFontByName","fName","measureText","fontName","doubleSize","getComputedTextLength","singleSize","loadedCount","removeChild","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","fnc","iterationIndex","lastIndex","keyframes","endValue","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","quaternionToEuler","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","slerp","createQuaternion","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","py","pz","rx","ry","rz","or","sk","sa","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v1","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","pointPool","doubleArrayLength","setXYAt","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shape1","shape2","shapesEqual","shapePool","releaseShapes","addShape","ShapeProperty","shapeCollectionPool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","ir","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","clonedPath","currentV","currentI","currentO","closerV","distance","newPosPerc","amount","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","copies","group","ix","reloadShapes","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","op","comparePoints","buildShapeString","pathNodes","_o","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","imagesLoadedCb","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","ImagePreloaderFactory","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","getImage","createImgData","crossOrigin","createImageData","setAttributeNS","_elementHelper","setCacheType","elementHelper","featureSupport","maskType","filtersFactory","filId","fil","feColorMatrix","assetLoader","formatResponse","xhr","response","responseText","load","errorCallback","XMLHttpRequest","responseType","onreadystatechange","status","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","sw","fc","fh","fs","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","extra","an","animatorOffset","add","rot","atan","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","newLineFlag","charData","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","textProperty","easer","tot","newCharsFlag","divisor","poolFactory","initialLength","_release","pooling","cloned","shapeCollection","BaseRenderer","SVGRenderer","animationItem","svgElement","titleElement","titleId","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","focusable","filterSize","pendingElements","destroyed","rendererType","CanvasRenderer","clearCanvas","context","dpr","wrapper","devicePixelRatio","currentGlobalAlpha","contextData","CVContextData","transformMat","HybridRenderer","threeDElements","camera","supports3d","MaskElement","viewData","solidPath","rect","expansor","feMorph","currentMasks","layerId","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","AudioElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextLottieElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","show","CVShapeElement","CVTextElement","CVImageElement","CVCompElement","CVSolidElement","ctxTransform","cProps","cTr","trProps","canvasContext","ctxOpacity","globalAlpha","cO","restore","save","actionFlag","cArrPos","duplicate","saved","savedOp","blendMode","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","par","fillType","beginPath","closePath","clip","clearRect","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","HShapeElement","HTextElement","HCameraElement","HImageElement","HCompElement","HSolidElement","startPos","endPos","perspectiveElem","createThreeDContainer","center","webkitTransform","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","svg","setup","cWidth","cHeight","webkitPerspective","perspective","floatingContainer","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","opFill","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","tm","_placeholder","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","createFilter","createAlphaToLuminanceFilter","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","lcEnum","ljEnum","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","elems","getElements","destroyElements","pr","volumeValue","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","lc","lj","ml","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","opacity","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","children","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","ef","filters","CVBaseElement","CVMaskElement","hasMasks","stroke","fill","currentRender","sWidth","fValue","CVEffects","HBaseElement","shapesContainer","currentBBox","textPaths","isMasked","pe","_prevMat","HEffects","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","newLength","currentSavedOp","createElements","globalCompositeOperation","hideElement","showElement","forceRealStack","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","moveTo","lineTo","bezierCurveTo","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","lastFill","lastStroke","lastStrokeW","checkBlendMode","tg","transformedElementStyle","matrixValue","addEffects","backgroundColor","_createBaseContainerElements","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","boundingBox","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","bounds","shapeBoundingBox","xMax","right","yMax","bottom","tempBoundingBox","p3","b2ac","t2","calculateF","calculateBoundingBox","currentBoxContains","box","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","strokeWidth","lineHeight","tParent","tCont","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","svgTransform","Image","imageElem","perspectiveStyle","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","animation","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","addPlayingCount","activate","nowTime","elapsedTime","advanceTime","first","setParams","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","lenAnims","getElementsByTagName","div","resize","goToAndStop","isFrame","freeze","unfreeze","getRegisteredAnimations","animations","currentRawFrame","frameMult","playSpeed","playDirection","playCount","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","animType","autoloadSegments","initialSegment","lastIndexOf","fileName","trigger","wrapperAttributes","attributes","getNamedItem","prerender","completeData","loadNextSegment","time","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","frameModifier","goToAndPlay","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onComplete","onSegmentStart","onDestroy","getPath","getDuration","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","ExpressionManager","$bm_isInstanceOfArray","isNumerable","tOfV","Number","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","sum","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","property","needsVelocity","_needsRandom","elemType","$bm_transform","effect","thisProperty","valueAtTime","frameDuration","displayStartTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","duration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","frames","fps","timeToFrames","seedRandom","seedrandom","randSeed","posterizeTime","framesPerSecond","hasParent","executeExpression","_value","frameExpressionId","expressionHelpers","searchExpressions","getSpeedAtTime","delta","_cachingAtTime","getStaticValueAtTime","setGroupProperty","propertyGroup","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","skewAxis","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","propertyIndex","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","propertyGetShapeProp","trims","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","ShapePathInterface","view","interfaceFunction","_propertyGroup","propertyGroupFactory","PropertyInterface","_name","mn","parentPropertyGroup","propertyName","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","interfaces","numProperties","transformInterface","transformInterfaceFactory","cix","contentsInterfaceFactory","np","ExpressionPropertyInterface","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","_prevValue","_sourceText","_thisLayerFunction","sourceText","stringValue","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","anchorPointDescriptor","TransformExpressionInterface","anchor_point","startTime","MaskManagerInterface","effects","pixelAspect","numLayers","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","compositions","_thisProjectFunction","createGroupInterface","groupInterface","createValueInterface","en","expressionProperty","effectsData","MaskInterface","_mask","_data","_masksInterfaces","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","effectItem","GroupEffect","propertyGetTextProp","TextExpressionSelectorPropFactory","eff","lottie","setLocationHref","setSubframeRendering","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","__getFactory","scripts","myScript","define","PayPalButton","isSdkReady","actions","currency","shippingPreference","purchase_units","currency_code","application_context","shipping_preference","onSuccess","createOrder","createSubscription","onApprove","Button","ReactDOM","createOrderFn","onButtonReady","queryParams","script","catchError","clientId","merchantId","intent","commit","vault","disableFunding","disableCard","integrationDate","locale","buyerCountry","debug","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","match","wrapPeerConnectionEvent","eventNameToWrap","nativeAddEventListener","nativeEventName","wrappedCallback","modifiedEvent","handleEvent","_eventMap","nativeRemoveEventListener","unwrappedCb","delete","disableLog","disableWarnings","log","deprecated","oldMethod","newMethod","detectBrowser","mozGetUserMedia","webkitGetUserMedia","isSecureContext","webkitRTCPeerConnection","supportsUnifiedPlan","RTCRtpTransceiver","compactObject","reduce","accumulator","isObj","isEmptyObject","walkStats","base","resultSet","endsWith","filterStats","outbound","streamStatsType","filteredResult","trackStats","trackIdentifier","trackStat","logging","utils","shimGetUserMedia","browserDetails","constraintsToChrome_","cc","exact","oldname_","oc","mix","advanced","shimConstraints_","remap","face","matches","getSupportedFacingModeLies","dev","some","includes","shimError_","PermissionDeniedError","PermissionDismissedError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","constraint","constraintName","origGetUserMedia","cs","DOMException","shimGetDisplayMedia","getSourceId","getDisplayMedia","sourceId","widthSpecified","heightSpecified","frameRateSpecified","chromeMediaSource","chromeMediaSourceId","maxFrameRate","maxWidth","maxHeight","shimMediaStream","webkitMediaStream","shimOnTrack","_ontrack","origSetRemoteDescription","_ontrackpoly","te","shimGetSendersWithDtmf","shimSenderWithDtmf","_dtmf","createDTMFSender","_pc","_senders","origAddTrack","origRemoveTrack","origAddStream","origRemoveStream","origGetSenders","senders","shimGetStats","origGetStats","onSucc","onErr","fixChromeStats_","standardReport","report","standardStats","timestamp","makeMapStats","successCallbackWrapper_","shimSenderReceiverGetStats","origGetReceivers","receivers","srcElement","shimAddTrackRemoveTrackWithNative","_shimmedLocalStreams","streamId","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","alreadyExists","oldStream","methodObj","isLegacyCall","replaceInternalStreamId","origSetLocalDescription","replaceExternalStreamId","origLocalDescription","streamid","internalId","externalStream","internalStream","RegExp","shimPeerConnection","addIceCandidateNullSupported","RTCIceCandidate","nativeAddIceCandidate","fixNegotiationNeeded","sdpSemantics","origMSTEnabled","RTCDtmfSender","RTCDTMFSender","RTCPeerConnectionShim","shimRTCPeerConnection","validTurn","startsWith","shimReplaceTrack","replaceTrack","setTrack","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","preferredMediaSource","mediaSource","RTCTrackEvent","mozRTCPeerConnection","modernStatsTypes","nativeGetStats","shimSenderGetStats","shimReceiverGetStats","shimRemoveStream","shimRTCDataChannel","DataChannel","RTCDataChannel","shimAddTransceiver","origAddTransceiver","addTransceiver","setParametersPromises","initParameters","shouldPerformCheck","sendEncodings","encodingParam","rid","parseFloat","scaleResolutionDownBy","RangeError","maxFramerate","getParameters","setParameters","shimGetParameters","origGetParameters","shimCreateOffer","origCreateOffer","finally","shimCreateAnswer","origCreateAnswer","shimLocalStreamsAPI","_localStreams","_addTrack","tracks","shimRemoteStreamsAPI","_remoteStreams","_onaddstream","_onaddstreampoly","shimCallbacksAPI","successCallback","failureCallback","promise","withCallback","_getUserMedia","shimConstraints","errcb","shimRTCIceServerUrls","OrigPeerConnection","pcConfig","pcConstraints","newIceServers","generateCertificate","shimTrackEventTransceiver","shimCreateOfferLegacy","audioTransceiver","getTransceivers","videoTransceiver","shimAudioContext","AudioContext","webkitAudioContext","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","shimMaxMessageSize","_sctp","sctpInDescription","mLine","getRemoteFirefoxVersion","getCanSendMaxMessageSize","remoteIsFirefox","canSendMaxMessageSize","getMaxMessageSize","canSendMMS","remoteMMS","POSITIVE_INFINITY","shimSendThrowTypeError","origCreateDataChannel","createDataChannel","dataChannel","wrapDcSend","channel","dc","origDataChannelSend","byteLength","shimConnectionState","_onconnectionstatechange","origMethod","_connectionstatechangepoly","_lastConnectionState","newEvent","removeAllowExtmapMixed","nativeSRD","adapter","shimChrome","shimFirefox","shimEdge","shimSafari","commonShim","chromeShim","browserShim","firefoxShim","edgeShim","safariShim","adapterFactory"],"mappings":"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","file":"static/js/3.cd67c75f.chunk.js","sourcesContent":["var core = module.exports = { version: '2.6.4' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","module.exports = true;\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","exports.f = {}.propertyIsEnumerable;\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","exports.f = Object.getOwnPropertySymbols;\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","module.exports = {};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","exports.f = require('./_wks');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","/* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// returns the session description.\nSDPUtils.getDescription = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  var channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n        ? '/' + headerExtension.direction\n        : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      if (codec.parameters[param]) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\nSDPUtils.parseSsrcGroup = function(line) {\n  var parts = line.substr(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(function(ssrc) {\n      return parseInt(ssrc, 10);\n    })\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n};\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\nSDPUtils.parseCryptoLine = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    tag: parseInt(parts[0], 10),\n    cryptoSuite: parts[1],\n    keyParams: parts[2],\n    sessionParams: parts.slice(3),\n  };\n};\n\nSDPUtils.writeCryptoLine = function(parameters) {\n  return 'a=crypto:' + parameters.tag + ' ' +\n    parameters.cryptoSuite + ' ' +\n    (typeof parameters.keyParams === 'object'\n      ? SDPUtils.writeCryptoKeyParams(parameters.keyParams)\n      : parameters.keyParams) +\n    (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') +\n    '\\r\\n';\n};\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\nSDPUtils.parseCryptoKeyParams = function(keyParams) {\n  if (keyParams.indexOf('inline:') !== 0) {\n    return null;\n  }\n  var parts = keyParams.substr(7).split('|');\n  return {\n    keyMethod: 'inline',\n    keySalt: parts[0],\n    lifeTime: parts[1],\n    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined,\n  };\n};\n\nSDPUtils.writeCryptoKeyParams = function(keyParams) {\n  return keyParams.keyMethod + ':'\n    + keyParams.keySalt +\n    (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') +\n    (keyParams.mkiValue && keyParams.mkiLength\n      ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength\n      : '');\n};\n\n// Extracts all SDES paramters.\nSDPUtils.getCryptoParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=crypto:');\n  return lines.map(SDPUtils.parseCryptoLine);\n};\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-ufrag:')[0];\n  var pwd = SDPUtils.matchPrefix(mediaSection + sessionpart,\n    'a=ice-pwd:')[0];\n  if (!(ufrag && pwd)) {\n    return null;\n  }\n  return {\n    usernameFragment: ufrag.substr(12),\n    password: pwd.substr(10),\n  };\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n      mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n        mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(function(extension) {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(parts) {\n      return parts.attribute === 'cname';\n    });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n    .map(function(line) {\n      var parts = line.substr(17).split(' ');\n      return parts.map(function(part) {\n        return parseInt(part, 10);\n      });\n    });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10)\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = {ssrc: secondarySsrc};\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  // Gets the first SSRC. Note tha with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(obj) {\n      return obj.attribute === 'cname';\n    })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n    .map(function(line) {\n      return SDPUtils.parseSsrcMedia(line);\n    })\n    .filter(function(msidParts) {\n      return msidParts.attribute === 'msid';\n    });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function(mediaSection) {\n  var mline = SDPUtils.parseMLine(mediaSection);\n  var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  var maxMessageSize;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substr(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize: maxMessageSize\n    };\n  }\n  var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    var parts = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:')[0]\n      .substr(10)\n      .split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize: maxMessageSize\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function(media, sctp) {\n  var output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctp-port:' + sctp.port + '\\r\\n'\n    ];\n  } else {\n    output = [\n      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n',\n      'c=IN IP4 0.0.0.0\\r\\n',\n      'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n'\n    ];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  var user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=' + user + ' ' + sessionId + ' ' + version +\n        ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n    transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n    transceiver.dtlsTransport.getLocalParameters(),\n    type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substr(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substr(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5]\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function(blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  var lines = SDPUtils.splitLines(blob);\n  for (var i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = require('./_hide');\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar Component = React.Component;\n\nvar PropTypes = require('prop-types');\n\nvar _require = require('./getDeviceId'),\n    getDeviceId = _require.getDeviceId,\n    getFacingModePattern = _require.getFacingModePattern;\n\nvar havePropsChanged = require('./havePropsChanged');\nvar createBlob = require('./createBlob');\n\n// Require adapter to support older browser implementations\nrequire('webrtc-adapter');\n\n// Inline worker.js as a string value of workerBlob.\n// eslint-disable-next-line\nvar workerBlob = createBlob([\"!function(o,e){\\\"object\\\"==typeof exports&&\\\"object\\\"==typeof module?module.exports=e():\\\"function\\\"==typeof define&&define.amd?define([],e):\\\"object\\\"==typeof exports?exports.jsQR=e():o.jsQR=e()}(\\\"undefined\\\"!=typeof self?self:this,function(){return function(o){function e(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return o[t].call(c.exports,c,c.exports,e),c.l=!0,c.exports}var r={};return e.m=o,e.c=r,e.d=function(o,r,t){e.o(o,r)||Object.defineProperty(o,r,{configurable:!1,enumerable:!0,get:t})},e.n=function(o){var r=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(r,\\\"a\\\",r),r},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p=\\\"\\\",e(e.s=3)}([function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var t=function(){function o(o,e){this.width=e,this.height=o.length/e,this.data=o}return o.createEmpty=function(e,r){return new o(new Uint8ClampedArray(e*r),e)},o.prototype.get=function(o,e){return!(o<0||o>=this.width||e<0||e>=this.height)&&!!this.data[e*this.width+o]},o.prototype.set=function(o,e,r){this.data[e*this.width+o]=r?1:0},o.prototype.setRegion=function(o,e,r,t,c){for(var s=e;s<e+t;s++)for(var a=o;a<o+r;a++)this.set(a,s,!!c)},o}();e.BitMatrix=t},function(o,e,r){\\\"use strict\\\";function t(o,e){return o^e}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var c=r(2);e.addOrSubtractGF=t;var s=function(){function o(o,e,r){this.primitive=o,this.size=e,this.generatorBase=r,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var t=1,s=0;s<this.size;s++)this.expTable[s]=t,(t*=2)>=this.size&&(t=(t^this.primitive)&this.size-1);for(var s=0;s<this.size-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new c.default(this,Uint8ClampedArray.from([0])),this.one=new c.default(this,Uint8ClampedArray.from([1]))}return o.prototype.multiply=function(o,e){return 0===o||0===e?0:this.expTable[(this.logTable[o]+this.logTable[e])%(this.size-1)]},o.prototype.inverse=function(o){if(0===o)throw new Error(\\\"Can't invert 0\\\");return this.expTable[this.size-this.logTable[o]-1]},o.prototype.buildMonomial=function(o,e){if(o<0)throw new Error(\\\"Invalid monomial degree less than 0\\\");if(0===e)return this.zero;var r=new Uint8ClampedArray(o+1);return r[0]=e,new c.default(this,r)},o.prototype.log=function(o){if(0===o)throw new Error(\\\"Can't take log(0)\\\");return this.logTable[o]},o.prototype.exp=function(o){return this.expTable[o]},o}();e.default=s},function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var t=r(1),c=function(){function o(o,e){if(0===e.length)throw new Error(\\\"No coefficients.\\\");this.field=o;var r=e.length;if(r>1&&0===e[0]){for(var t=1;t<r&&0===e[t];)t++;if(t===r)this.coefficients=o.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(r-t);for(var c=0;c<this.coefficients.length;c++)this.coefficients[c]=e[t+c]}}else this.coefficients=e}return o.prototype.degree=function(){return this.coefficients.length-1},o.prototype.isZero=function(){return 0===this.coefficients[0]},o.prototype.getCoefficient=function(o){return this.coefficients[this.coefficients.length-1-o]},o.prototype.addOrSubtract=function(e){if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,c=e.coefficients;r.length>c.length&&(n=[c,r],r=n[0],c=n[1]);for(var s=new Uint8ClampedArray(c.length),a=c.length-r.length,d=0;d<a;d++)s[d]=c[d];for(var d=a;d<c.length;d++)s[d]=t.addOrSubtractGF(r[d-a],c[d]);return new o(this.field,s);var n},o.prototype.multiply=function(e){if(0===e)return this.field.zero;if(1===e)return this;for(var r=this.coefficients.length,t=new Uint8ClampedArray(r),c=0;c<r;c++)t[c]=this.field.multiply(this.coefficients[c],e);return new o(this.field,t)},o.prototype.multiplyPoly=function(e){if(this.isZero()||e.isZero())return this.field.zero;for(var r=this.coefficients,c=r.length,s=e.coefficients,a=s.length,d=new Uint8ClampedArray(c+a-1),n=0;n<c;n++)for(var l=r[n],i=0;i<a;i++)d[n+i]=t.addOrSubtractGF(d[n+i],this.field.multiply(l,s[i]));return new o(this.field,d)},o.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Error(\\\"Invalid degree less than 0\\\");if(0===r)return this.field.zero;for(var t=this.coefficients.length,c=new Uint8ClampedArray(t+e),s=0;s<t;s++)c[s]=this.field.multiply(this.coefficients[s],r);return new o(this.field,c)},o.prototype.evaluateAt=function(o){var e=0;if(0===o)return this.getCoefficient(0);var r=this.coefficients.length;if(1===o)return this.coefficients.forEach(function(o){e=t.addOrSubtractGF(e,o)}),e;e=this.coefficients[0];for(var c=1;c<r;c++)e=t.addOrSubtractGF(this.field.multiply(o,e),this.coefficients[c]);return e},o}();e.default=c},function(o,e,r){\\\"use strict\\\";function t(o){var e=n.locate(o);if(!e)return null;var r=d.extract(o,e),t=a.decode(r.matrix);return t?{binaryData:t.bytes,data:t.text,chunks:t.chunks,location:{topRightCorner:r.mappingFunction(e.dimension,0),topLeftCorner:r.mappingFunction(0,0),bottomRightCorner:r.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:r.mappingFunction(0,e.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern}}:null}function c(o,e,r,c){void 0===c&&(c={});var a=l;Object.keys(a||{}).forEach(function(o){a[o]=c[o]||a[o]});var d=\\\"attemptBoth\\\"===a.inversionAttempts||\\\"invertFirst\\\"===a.inversionAttempts,n=\\\"onlyInvert\\\"===a.inversionAttempts||\\\"invertFirst\\\"===a.inversionAttempts,i=s.binarize(o,e,r,d),B=i.binarized,k=i.inverted,u=t(n?k:B);return u||\\\"attemptBoth\\\"!==a.inversionAttempts&&\\\"invertFirst\\\"!==a.inversionAttempts||(u=t(n?B:k)),u}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var s=r(4),a=r(5),d=r(11),n=r(12),l={inversionAttempts:\\\"attemptBoth\\\"};c.default=c,e.default=c},function(o,e,r){\\\"use strict\\\";function t(o,e,r){return o<e?e:o>r?r:o}function c(o,e,r,c){if(o.length!==e*r*4)throw new Error(\\\"Malformed data passed to binarizer.\\\");for(var l=new n(e,r),i=0;i<e;i++)for(var B=0;B<r;B++){var k=o[4*(B*e+i)+0],u=o[4*(B*e+i)+1],C=o[4*(B*e+i)+2];l.set(i,B,.2126*k+.7152*u+.0722*C)}for(var m=Math.ceil(e/a),f=Math.ceil(r/a),w=new n(m,f),P=0;P<f;P++)for(var v=0;v<m;v++){for(var h=0,p=1/0,y=0,B=0;B<a;B++)for(var i=0;i<a;i++){var b=l.get(v*a+i,P*a+B);h+=b,p=Math.min(p,b),y=Math.max(y,b)}var g=h/Math.pow(a,2);if(y-p<=d&&(g=p/2,P>0&&v>0)){var x=(w.get(v,P-1)+2*w.get(v-1,P)+w.get(v-1,P-1))/4;p<x&&(g=x)}w.set(v,P,g)}var M=s.BitMatrix.createEmpty(e,r),L=null;c&&(L=s.BitMatrix.createEmpty(e,r));for(var P=0;P<f;P++)for(var v=0;v<m;v++){for(var N=t(v,2,m-3),I=t(P,2,f-3),h=0,O=-2;O<=2;O++)for(var z=-2;z<=2;z++)h+=w.get(N+O,I+z);for(var S=h/25,O=0;O<a;O++)for(var z=0;z<a;z++){var i=v*a+O,B=P*a+z,X=l.get(i,B);M.set(i,B,X<=S),c&&L.set(i,B,!(X<=S))}}return c?{binarized:M,inverted:L}:{binarized:M}}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var s=r(0),a=8,d=24,n=function(){function o(o,e){this.width=o,this.data=new Uint8ClampedArray(o*e)}return o.prototype.get=function(o,e){return this.data[e*this.width+o]},o.prototype.set=function(o,e,r){this.data[e*this.width+o]=r},o}();e.binarize=c},function(o,e,r){\\\"use strict\\\";function t(o,e){for(var r=o^e,t=0;r;)t++,r&=r-1;return t}function c(o,e){return e<<1|o}function s(o){var e=17+4*o.versionNumber,r=k.BitMatrix.createEmpty(e,e);r.setRegion(0,0,9,9,!0),r.setRegion(e-8,0,8,9,!0),r.setRegion(0,e-8,9,8,!0);for(var t=0,c=o.alignmentPatternCenters;t<c.length;t++)for(var s=c[t],a=0,d=o.alignmentPatternCenters;a<d.length;a++){var n=d[a];6===s&&6===n||6===s&&n===e-7||s===e-7&&6===n||r.setRegion(s-2,n-2,5,5,!0)}return r.setRegion(6,9,1,e-17,!0),r.setRegion(9,6,e-17,1,!0),o.versionNumber>6&&(r.setRegion(e-11,0,3,6,!0),r.setRegion(0,e-11,6,3,!0)),r}function a(o,e,r){for(var t=w[r.dataMask],a=o.height,d=s(e),n=[],l=0,i=0,B=!0,k=a-1;k>0;k-=2){6===k&&k--;for(var u=0;u<a;u++)for(var C=B?a-1-u:u,m=0;m<2;m++){var f=k-m;if(!d.get(f,C)){i++;var P=o.get(f,C);t({y:C,x:f})&&(P=!P),l=c(P,l),8===i&&(n.push(l),i=0,l=0)}}B=!B}return n}function d(o){var e=o.height,r=Math.floor((e-17)/4);if(r<=6)return m.VERSIONS[r-1];for(var s=0,a=5;a>=0;a--)for(var d=e-9;d>=e-11;d--)s=c(o.get(d,a),s);for(var n=0,d=5;d>=0;d--)for(var a=e-9;a>=e-11;a--)n=c(o.get(d,a),n);for(var l,i=1/0,B=0,k=m.VERSIONS;B<k.length;B++){var u=k[B];if(u.infoBits===s||u.infoBits===n)return u;var C=t(s,u.infoBits);C<i&&(l=u,i=C),C=t(n,u.infoBits),C<i&&(l=u,i=C)}return i<=3?l:void 0}function n(o){for(var e=0,r=0;r<=8;r++)6!==r&&(e=c(o.get(r,8),e));for(var s=7;s>=0;s--)6!==s&&(e=c(o.get(8,s),e));for(var a=o.height,d=0,s=a-1;s>=a-7;s--)d=c(o.get(8,s),d);for(var r=a-8;r<a;r++)d=c(o.get(r,8),d);for(var n=1/0,l=null,i=0,B=f;i<B.length;i++){var k=B[i],u=k.bits,C=k.formatInfo;if(u===e||u===d)return C;var m=t(e,u);m<n&&(l=C,n=m),e!==d&&(m=t(d,u))<n&&(l=C,n=m)}return n<=3?l:null}function l(o,e,r){var t=e.errorCorrectionLevels[r],c=[],s=0;if(t.ecBlocks.forEach(function(o){for(var e=0;e<o.numBlocks;e++)c.push({numDataCodewords:o.dataCodewordsPerBlock,codewords:[]}),s+=o.dataCodewordsPerBlock+t.ecCodewordsPerBlock}),o.length<s)return null;o=o.slice(0,s);for(var a=t.ecBlocks[0].dataCodewordsPerBlock,d=0;d<a;d++)for(var n=0,l=c;n<l.length;n++){var i=l[n];i.codewords.push(o.shift())}if(t.ecBlocks.length>1)for(var B=t.ecBlocks[0].numBlocks,k=t.ecBlocks[1].numBlocks,d=0;d<k;d++)c[B+d].codewords.push(o.shift());for(;o.length>0;)for(var u=0,C=c;u<C.length;u++){var i=C[u];i.codewords.push(o.shift())}return c}function i(o){var e=d(o);if(!e)return null;var r=n(o);if(!r)return null;var t=a(o,e,r),c=l(t,e,r.errorCorrectionLevel);if(!c)return null;for(var s=c.reduce(function(o,e){return o+e.numDataCodewords},0),i=new Uint8ClampedArray(s),B=0,k=0,m=c;k<m.length;k++){var f=m[k],w=C.decode(f.codewords,f.codewords.length-f.numDataCodewords);if(!w)return null;for(var P=0;P<f.numDataCodewords;P++)i[B++]=w[P]}try{return u.decode(i,e.versionNumber)}catch(o){return null}}function B(o){if(null==o)return null;var e=i(o);if(e)return e;for(var r=0;r<o.width;r++)for(var t=r+1;t<o.height;t++)o.get(r,t)!==o.get(t,r)&&(o.set(r,t,!o.get(r,t)),o.set(t,r,!o.get(t,r)));return i(o)}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var k=r(0),u=r(6),C=r(9),m=r(10),f=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],w=[function(o){return(o.y+o.x)%2==0},function(o){return o.y%2==0},function(o){return o.x%3==0},function(o){return(o.y+o.x)%3==0},function(o){return(Math.floor(o.y/2)+Math.floor(o.x/3))%2==0},function(o){return o.x*o.y%2+o.x*o.y%3==0},function(o){return(o.y*o.x%2+o.y*o.x%3)%2==0},function(o){return((o.y+o.x)%2+o.y*o.x%3)%2==0}];e.decode=B},function(o,e,r){\\\"use strict\\\";function t(o,e){for(var r=[],t=\\\"\\\",c=[10,12,14][e],s=o.readBits(c);s>=3;){var a=o.readBits(10);if(a>=1e3)throw new Error(\\\"Invalid numeric value above 999\\\");var d=Math.floor(a/100),n=Math.floor(a/10)%10,l=a%10;r.push(48+d,48+n,48+l),t+=d.toString()+n.toString()+l.toString(),s-=3}if(2===s){var a=o.readBits(7);if(a>=100)throw new Error(\\\"Invalid numeric value above 99\\\");var d=Math.floor(a/10),n=a%10;r.push(48+d,48+n),t+=d.toString()+n.toString()}else if(1===s){var a=o.readBits(4);if(a>=10)throw new Error(\\\"Invalid numeric value above 9\\\");r.push(48+a),t+=a.toString()}return{bytes:r,text:t}}function c(o,e){for(var r=[],t=\\\"\\\",c=[9,11,13][e],s=o.readBits(c);s>=2;){var a=o.readBits(11),d=Math.floor(a/45),n=a%45;r.push(k[d].charCodeAt(0),k[n].charCodeAt(0)),t+=k[d]+k[n],s-=2}if(1===s){var d=o.readBits(6);r.push(k[d].charCodeAt(0)),t+=k[d]}return{bytes:r,text:t}}function s(o,e){for(var r=[],t=\\\"\\\",c=[8,16,16][e],s=o.readBits(c),a=0;a<s;a++){var d=o.readBits(8);r.push(d)}try{t+=decodeURIComponent(r.map(function(o){return\\\"%\\\"+(\\\"0\\\"+o.toString(16)).substr(-2)}).join(\\\"\\\"))}catch(o){}return{bytes:r,text:t}}function a(o,e){for(var r=[],t=\\\"\\\",c=[8,10,12][e],s=o.readBits(c),a=0;a<s;a++){var d=o.readBits(13),n=Math.floor(d/192)<<8|d%192;n+=n<7936?33088:49472,r.push(n>>8,255&n),t+=String.fromCharCode(i.shiftJISTable[n])}return{bytes:r,text:t}}function d(o,e){for(var r=new l.BitStream(o),d=e<=9?0:e<=26?1:2,i={text:\\\"\\\",bytes:[],chunks:[]};r.available()>=4;){var k=r.readBits(4);if(k===B.Terminator)return i;if(k===B.ECI)0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(7)}):0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(14)}):0===r.readBits(1)?i.chunks.push({type:n.ECI,assignmentNumber:r.readBits(21)}):i.chunks.push({type:n.ECI,assignmentNumber:-1});else if(k===B.Numeric){var u=t(r,d);i.text+=u.text,(w=i.bytes).push.apply(w,u.bytes),i.chunks.push({type:n.Numeric,text:u.text})}else if(k===B.Alphanumeric){var C=c(r,d);i.text+=C.text,(P=i.bytes).push.apply(P,C.bytes),i.chunks.push({type:n.Alphanumeric,text:C.text})}else if(k===B.Byte){var m=s(r,d);i.text+=m.text,(v=i.bytes).push.apply(v,m.bytes),i.chunks.push({type:n.Byte,bytes:m.bytes,text:m.text})}else if(k===B.Kanji){var f=a(r,d);i.text+=f.text,(h=i.bytes).push.apply(h,f.bytes),i.chunks.push({type:n.Kanji,bytes:f.bytes,text:f.text})}}var w,P,v,h}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var n,l=r(7),i=r(8);!function(o){o.Numeric=\\\"numeric\\\",o.Alphanumeric=\\\"alphanumeric\\\",o.Byte=\\\"byte\\\",o.Kanji=\\\"kanji\\\",o.ECI=\\\"eci\\\"}(n=e.Mode||(e.Mode={}));var B;!function(o){o[o.Terminator=0]=\\\"Terminator\\\",o[o.Numeric=1]=\\\"Numeric\\\",o[o.Alphanumeric=2]=\\\"Alphanumeric\\\",o[o.Byte=4]=\\\"Byte\\\",o[o.Kanji=8]=\\\"Kanji\\\",o[o.ECI=7]=\\\"ECI\\\"}(B||(B={}));var k=[\\\"0\\\",\\\"1\\\",\\\"2\\\",\\\"3\\\",\\\"4\\\",\\\"5\\\",\\\"6\\\",\\\"7\\\",\\\"8\\\",\\\"9\\\",\\\"A\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"E\\\",\\\"F\\\",\\\"G\\\",\\\"H\\\",\\\"I\\\",\\\"J\\\",\\\"K\\\",\\\"L\\\",\\\"M\\\",\\\"N\\\",\\\"O\\\",\\\"P\\\",\\\"Q\\\",\\\"R\\\",\\\"S\\\",\\\"T\\\",\\\"U\\\",\\\"V\\\",\\\"W\\\",\\\"X\\\",\\\"Y\\\",\\\"Z\\\",\\\" \\\",\\\"$\\\",\\\"%\\\",\\\"*\\\",\\\"+\\\",\\\"-\\\",\\\".\\\",\\\"/\\\",\\\":\\\"];e.decode=d},function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var t=function(){function o(o){this.byteOffset=0,this.bitOffset=0,this.bytes=o}return o.prototype.readBits=function(o){if(o<1||o>32||o>this.available())throw new Error(\\\"Cannot read \\\"+o.toString()+\\\" bits\\\");var e=0;if(this.bitOffset>0){var r=8-this.bitOffset,t=o<r?o:r,c=r-t,s=255>>8-t<<c;e=(this.bytes[this.byteOffset]&s)>>c,o-=t,this.bitOffset+=t,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(o>0){for(;o>=8;)e=e<<8|255&this.bytes[this.byteOffset],this.byteOffset++,o-=8;if(o>0){var c=8-o,s=255>>c<<c;e=e<<o|(this.bytes[this.byteOffset]&s)>>c,this.bitOffset+=o}}return e},o.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},o}();e.BitStream=t},function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),e.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,\\n36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,\\n39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,\\n59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(o,e,r){\\\"use strict\\\";function t(o,e,r,t){e.degree()<r.degree()&&(w=[r,e],e=w[0],r=w[1]);for(var c=e,s=r,a=o.zero,d=o.one;s.degree()>=t/2;){var n=c,l=a;if(c=s,a=d,c.isZero())return null;s=n;for(var i=o.zero,B=c.getCoefficient(c.degree()),k=o.inverse(B);s.degree()>=c.degree()&&!s.isZero();){var u=s.degree()-c.degree(),C=o.multiply(s.getCoefficient(s.degree()),k);i=i.addOrSubtract(o.buildMonomial(u,C)),s=s.addOrSubtract(c.multiplyByMonomial(u,C))}if(d=i.multiplyPoly(a).addOrSubtract(l),s.degree()>=c.degree())return null}var m=d.getCoefficient(0);if(0===m)return null;var f=o.inverse(m);return[d.multiply(f),s.multiply(f)];var w}function c(o,e){var r=e.degree();if(1===r)return[e.getCoefficient(1)];for(var t=new Array(r),c=0,s=1;s<o.size&&c<r;s++)0===e.evaluateAt(s)&&(t[c]=o.inverse(s),c++);return c!==r?null:t}function s(o,e,r){for(var t=r.length,c=new Array(t),s=0;s<t;s++){for(var a=o.inverse(r[s]),n=1,l=0;l<t;l++)s!==l&&(n=o.multiply(n,d.addOrSubtractGF(1,o.multiply(r[l],a))));c[s]=o.multiply(e.evaluateAt(a),o.inverse(n)),0!==o.generatorBase&&(c[s]=o.multiply(c[s],a))}return c}function a(o,e){var r=new Uint8ClampedArray(o.length);r.set(o);for(var a=new d.default(285,256,0),l=new n.default(a,r),i=new Uint8ClampedArray(e),B=!1,k=0;k<e;k++){var u=l.evaluateAt(a.exp(k+a.generatorBase));i[i.length-1-k]=u,0!==u&&(B=!0)}if(!B)return r;var C=new n.default(a,i),m=t(a,a.buildMonomial(e,1),C,e);if(null===m)return null;var f=c(a,m[0]);if(null==f)return null;for(var w=s(a,m[1],f),P=0;P<f.length;P++){var v=r.length-1-a.log(f[P]);if(v<0)return null;r[v]=d.addOrSubtractGF(r[v],w[P])}return r}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var d=r(1),n=r(2);e.decode=a},function(o,e,r){\\\"use strict\\\";Object.defineProperty(e,\\\"__esModule\\\",{value:!0}),e.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(o,e,r){\\\"use strict\\\";function t(o,e,r,t){var c=o.x-e.x+r.x-t.x,s=o.y-e.y+r.y-t.y;if(0===c&&0===s)return{a11:e.x-o.x,a12:e.y-o.y,a13:0,a21:r.x-e.x,a22:r.y-e.y,a23:0,a31:o.x,a32:o.y,a33:1};var a=e.x-r.x,d=t.x-r.x,n=e.y-r.y,l=t.y-r.y,i=a*l-d*n,B=(c*l-d*s)/i,k=(a*s-c*n)/i;return{a11:e.x-o.x+B*e.x,a12:e.y-o.y+B*e.y,a13:B,a21:t.x-o.x+k*t.x,a22:t.y-o.y+k*t.y,a23:k,a31:o.x,a32:o.y,a33:1}}function c(o,e,r,c){var s=t(o,e,r,c);return{a11:s.a22*s.a33-s.a23*s.a32,a12:s.a13*s.a32-s.a12*s.a33,a13:s.a12*s.a23-s.a13*s.a22,a21:s.a23*s.a31-s.a21*s.a33,a22:s.a11*s.a33-s.a13*s.a31,a23:s.a13*s.a21-s.a11*s.a23,a31:s.a21*s.a32-s.a22*s.a31,a32:s.a12*s.a31-s.a11*s.a32,a33:s.a11*s.a22-s.a12*s.a21}}function s(o,e){return{a11:o.a11*e.a11+o.a21*e.a12+o.a31*e.a13,a12:o.a12*e.a11+o.a22*e.a12+o.a32*e.a13,a13:o.a13*e.a11+o.a23*e.a12+o.a33*e.a13,a21:o.a11*e.a21+o.a21*e.a22+o.a31*e.a23,a22:o.a12*e.a21+o.a22*e.a22+o.a32*e.a23,a23:o.a13*e.a21+o.a23*e.a22+o.a33*e.a23,a31:o.a11*e.a31+o.a21*e.a32+o.a31*e.a33,a32:o.a12*e.a31+o.a22*e.a32+o.a32*e.a33,a33:o.a13*e.a31+o.a23*e.a32+o.a33*e.a33}}function a(o,e){for(var r=c({x:3.5,y:3.5},{x:e.dimension-3.5,y:3.5},{x:e.dimension-6.5,y:e.dimension-6.5},{x:3.5,y:e.dimension-3.5}),a=t(e.topLeft,e.topRight,e.alignmentPattern,e.bottomLeft),n=s(a,r),l=d.BitMatrix.createEmpty(e.dimension,e.dimension),i=function(o,e){var r=n.a13*o+n.a23*e+n.a33;return{x:(n.a11*o+n.a21*e+n.a31)/r,y:(n.a12*o+n.a22*e+n.a32)/r}},B=0;B<e.dimension;B++)for(var k=0;k<e.dimension;k++){var u=k+.5,C=B+.5,m=i(u,C);l.set(k,B,o.get(Math.floor(m.x),Math.floor(m.y)))}return{matrix:l,mappingFunction:i}}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var d=r(0);e.extract=a},function(o,e,r){\\\"use strict\\\";function t(o){return o.reduce(function(o,e){return o+e})}function c(o,e,r){var t,c,s,a=C(o,e),d=C(e,r),n=C(o,r);return d>=a&&d>=n?(l=[e,o,r],t=l[0],c=l[1],s=l[2]):n>=d&&n>=a?(i=[o,e,r],t=i[0],c=i[1],s=i[2]):(B=[o,r,e],t=B[0],c=B[1],s=B[2]),(s.x-c.x)*(t.y-c.y)-(s.y-c.y)*(t.x-c.x)<0&&(k=[s,t],t=k[0],s=k[1]),{bottomLeft:t,topLeft:c,topRight:s};var l,i,B,k}function s(o,e,r,c){var s=(t(d(o,r,c,5))/7+t(d(o,e,c,5))/7+t(d(r,o,c,5))/7+t(d(e,o,c,5))/7)/4;if(s<1)throw new Error(\\\"Invalid module size\\\");var a=Math.round(C(o,e)/s),n=Math.round(C(o,r)/s),l=Math.floor((a+n)/2)+7;switch(l%4){case 0:l++;break;case 2:l--}return{dimension:l,moduleSize:s}}function a(o,e,r,t){var c,s,a,d,n=[{x:Math.floor(o.x),y:Math.floor(o.y)}],l=Math.abs(e.y-o.y)>Math.abs(e.x-o.x);l?(c=Math.floor(o.y),s=Math.floor(o.x),a=Math.floor(e.y),d=Math.floor(e.x)):(c=Math.floor(o.x),s=Math.floor(o.y),a=Math.floor(e.x),d=Math.floor(e.y));for(var i=Math.abs(a-c),B=Math.abs(d-s),k=Math.floor(-i/2),u=c<a?1:-1,m=s<d?1:-1,f=!0,w=c,P=s;w!==a+u;w+=u){var v=l?P:w,h=l?w:P;if(r.get(v,h)!==f&&(f=!f,n.push({x:v,y:h}),n.length===t+1))break;if((k+=B)>0){if(P===d)break;P+=m,k-=i}}for(var p=[],y=0;y<t;y++)n[y]&&n[y+1]?p.push(C(n[y],n[y+1])):p.push(0);return p}function d(o,e,r,t){var c=e.y-o.y,s=e.x-o.x,d=a(o,e,r,Math.ceil(t/2)),n=a(o,{x:o.x-s,y:o.y-c},r,Math.ceil(t/2)),l=d.shift()+n.shift()-1;return(i=n.concat(l)).concat.apply(i,d);var i}function n(o,e){var r=t(o)/t(e),c=0;return e.forEach(function(e,t){c+=Math.pow(o[t]-e*r,2)}),{averageSize:r,error:c}}function l(o,e,r){try{var t=d(o,{x:-1,y:o.y},r,e.length),c=d(o,{x:o.x,y:-1},r,e.length),s={x:Math.max(0,o.x-o.y)-1,y:Math.max(0,o.y-o.x)-1},a=d(o,s,r,e.length),l={x:Math.min(r.width,o.x+o.y)+1,y:Math.min(r.height,o.y+o.x)+1},i=d(o,l,r,e.length),B=n(t,e),k=n(c,e),u=n(a,e),C=n(i,e),m=Math.sqrt(B.error*B.error+k.error*k.error+u.error*u.error+C.error*C.error),f=(B.averageSize+k.averageSize+u.averageSize+C.averageSize)/4;return m+(Math.pow(B.averageSize-f,2)+Math.pow(k.averageSize-f,2)+Math.pow(u.averageSize-f,2)+Math.pow(C.averageSize-f,2))/f}catch(o){return 1/0}}function i(o){for(var e=[],r=[],a=[],d=[],n=0;n<=o.height;n++)!function(c){for(var s=0,n=!1,l=[0,0,0,0,0],i=-1;i<=o.width;i++)!function(e){var a=o.get(e,c);if(a===n)s++;else{l=[l[1],l[2],l[3],l[4],s],s=1,n=a;var i=t(l)/7,B=Math.abs(l[0]-i)<i&&Math.abs(l[1]-i)<i&&Math.abs(l[2]-3*i)<3*i&&Math.abs(l[3]-i)<i&&Math.abs(l[4]-i)<i&&!a,C=t(l.slice(-3))/3,m=Math.abs(l[2]-C)<C&&Math.abs(l[3]-C)<C&&Math.abs(l[4]-C)<C&&a;if(B){var f=e-l[3]-l[4],w=f-l[2],P={startX:w,endX:f,y:c},v=r.filter(function(o){return w>=o.bottom.startX&&w<=o.bottom.endX||f>=o.bottom.startX&&w<=o.bottom.endX||w<=o.bottom.startX&&f>=o.bottom.endX&&l[2]/(o.bottom.endX-o.bottom.startX)<u&&l[2]/(o.bottom.endX-o.bottom.startX)>k});v.length>0?v[0].bottom=P:r.push({top:P,bottom:P})}if(m){var h=e-l[4],p=h-l[3],P={startX:p,y:c,endX:h},v=d.filter(function(o){return p>=o.bottom.startX&&p<=o.bottom.endX||h>=o.bottom.startX&&p<=o.bottom.endX||p<=o.bottom.startX&&h>=o.bottom.endX&&l[2]/(o.bottom.endX-o.bottom.startX)<u&&l[2]/(o.bottom.endX-o.bottom.startX)>k});v.length>0?v[0].bottom=P:d.push({top:P,bottom:P})}}}(i);e.push.apply(e,r.filter(function(o){return o.bottom.y!==c&&o.bottom.y-o.top.y>=2})),r=r.filter(function(o){return o.bottom.y===c}),a.push.apply(a,d.filter(function(o){return o.bottom.y!==c})),d=d.filter(function(o){return o.bottom.y===c})}(n);e.push.apply(e,r.filter(function(o){return o.bottom.y-o.top.y>=2})),a.push.apply(a,d);var i=e.filter(function(o){return o.bottom.y-o.top.y>=2}).map(function(e){var r=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,c=(e.top.y+e.bottom.y+1)/2;if(o.get(Math.round(r),Math.round(c))){\\nvar s=[e.top.endX-e.top.startX,e.bottom.endX-e.bottom.startX,e.bottom.y-e.top.y+1],a=t(s)/s.length;return{score:l({x:Math.round(r),y:Math.round(c)},[1,1,3,1,1],o),x:r,y:c,size:a}}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score}).map(function(o,e,r){if(e>B)return null;var t=r.filter(function(o,r){return e!==r}).map(function(e){return{x:e.x,y:e.y,score:e.score+Math.pow(e.size-o.size,2)/o.size,size:e.size}}).sort(function(o,e){return o.score-e.score});if(t.length<2)return null;var c=o.score+t[0].score+t[1].score;return{points:[o].concat(t.slice(0,2)),score:c}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score});if(0===i.length)return null;var m,f,w=c(i[0].points[0],i[0].points[1],i[0].points[2]),P=w.topRight,v=w.topLeft,h=w.bottomLeft;try{L=s(v,P,h,o),m=L.dimension,f=L.moduleSize}catch(o){return null}var p={x:P.x-v.x+h.x,y:P.y-v.y+h.y},y=(C(v,h)+C(v,P))/2/f,b=1-3/y,g={x:v.x+b*(p.x-v.x),y:v.y+b*(p.y-v.y)},x=a.map(function(e){var r=(e.top.startX+e.top.endX+e.bottom.startX+e.bottom.endX)/4,c=(e.top.y+e.bottom.y+1)/2;if(o.get(Math.floor(r),Math.floor(c))){var s=[e.top.endX-e.top.startX,e.bottom.endX-e.bottom.startX,e.bottom.y-e.top.y+1];t(s);return{x:r,y:c,score:l({x:Math.floor(r),y:Math.floor(c)},[1,1,1],o)+C({x:r,y:c},g)}}}).filter(function(o){return!!o}).sort(function(o,e){return o.score-e.score}),M=y>=15&&x.length?x[0]:g;return{alignmentPattern:{x:M.x,y:M.y},bottomLeft:{x:h.x,y:h.y},dimension:m,topLeft:{x:v.x,y:v.y},topRight:{x:P.x,y:P.y}};var L}Object.defineProperty(e,\\\"__esModule\\\",{value:!0});var B=4,k=.5,u=1.5,C=function(o,e){return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))};e.locate=i}]).default}),self.addEventListener(\\\"message\\\",function(o){var e=jsQR(o.data.data,o.data.width,o.data.height);e?postMessage(e.data):postMessage(null)});\"], {\n  type: 'application/javascript'\n});\n\n// Props that are allowed to change dynamicly\nvar propsKeys = ['delay', 'legacyMode', 'facingMode'];\n\nmodule.exports = (_temp = _class = function (_Component) {\n  _inherits(Reader, _Component);\n\n  function Reader(props) {\n    _classCallCheck(this, Reader);\n\n    var _this = _possibleConstructorReturn(this, (Reader.__proto__ || Object.getPrototypeOf(Reader)).call(this, props));\n\n    _this.els = {};\n\n\n    _this.state = {\n      mirrorVideo: false\n\n      // Bind function to the class\n    };_this.initiate = _this.initiate.bind(_this);\n    _this.initiateLegacyMode = _this.initiateLegacyMode.bind(_this);\n    _this.check = _this.check.bind(_this);\n    _this.handleVideo = _this.handleVideo.bind(_this);\n    _this.handleLoadStart = _this.handleLoadStart.bind(_this);\n    _this.handleInputChange = _this.handleInputChange.bind(_this);\n    _this.clearComponent = _this.clearComponent.bind(_this);\n    _this.handleReaderLoad = _this.handleReaderLoad.bind(_this);\n    _this.openImageDialog = _this.openImageDialog.bind(_this);\n    _this.handleWorkerMessage = _this.handleWorkerMessage.bind(_this);\n    _this.setRefFactory = _this.setRefFactory.bind(_this);\n    return _this;\n  }\n\n  _createClass(Reader, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Initiate web worker execute handler according to mode.\n      this.worker = new Worker(URL.createObjectURL(workerBlob));\n      this.worker.onmessage = this.handleWorkerMessage;\n\n      if (!this.props.legacyMode) {\n        this.initiate();\n      } else {\n        this.initiateLegacyMode();\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      // React according to change in props\n      var changedProps = havePropsChanged(this.props, nextProps, propsKeys);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = changedProps[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var prop = _step.value;\n\n          if (prop == 'facingMode') {\n            this.clearComponent();\n            this.initiate(nextProps);\n            break;\n          } else if (prop == 'delay') {\n            if (this.props.delay == false && !nextProps.legacyMode) {\n              this.timeout = setTimeout(this.check, nextProps.delay);\n            }\n            if (nextProps.delay == false) {\n              clearTimeout(this.timeout);\n            }\n          } else if (prop == 'legacyMode') {\n            if (this.props.legacyMode && !nextProps.legacyMode) {\n              this.clearComponent();\n              this.initiate(nextProps);\n            } else {\n              this.clearComponent();\n              this.componentDidUpdate = this.initiateLegacyMode;\n            }\n            break;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextState !== this.state) {\n        return true;\n      }\n\n      // Only render when the `propsKeys` have changed.\n      var changedProps = havePropsChanged(this.props, nextProps, propsKeys);\n      return changedProps.length > 0;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      // Stop web-worker and clear the component\n      if (this.worker) {\n        this.worker.terminate();\n        this.worker = undefined;\n      }\n      this.clearComponent();\n    }\n  }, {\n    key: 'clearComponent',\n    value: function clearComponent() {\n      // Remove all event listeners and variables\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = undefined;\n      }\n      if (this.stopCamera) {\n        this.stopCamera();\n      }\n      if (this.reader) {\n        this.reader.removeEventListener('load', this.handleReaderLoad);\n      }\n      if (this.els.img) {\n        this.els.img.removeEventListener('load', this.check);\n      }\n    }\n  }, {\n    key: 'initiate',\n    value: function initiate() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var onError = props.onError,\n          facingMode = props.facingMode;\n\n      // Check browser facingMode constraint support\n      // Firefox ignores facingMode or deviceId constraints\n\n      var isFirefox = /firefox/i.test(navigator.userAgent);\n      var supported = {};\n      if (navigator.mediaDevices && typeof navigator.mediaDevices.getSupportedConstraints === 'function') {\n        supported = navigator.mediaDevices.getSupportedConstraints();\n      }\n      var constraints = {};\n\n      if (supported.facingMode) {\n        constraints.facingMode = { ideal: facingMode };\n      }\n      if (supported.frameRate) {\n        constraints.frameRate = { ideal: 25, min: 10 };\n      }\n\n      var vConstraintsPromise = supported.facingMode || isFirefox ? Promise.resolve(props.constraints || constraints) : getDeviceId(facingMode).then(function (deviceId) {\n        return Object.assign({}, { deviceId: deviceId }, props.constraints);\n      });\n\n      vConstraintsPromise.then(function (video) {\n        return navigator.mediaDevices.getUserMedia({ video: video });\n      }).then(this.handleVideo).catch(onError);\n    }\n  }, {\n    key: 'handleVideo',\n    value: function handleVideo(stream) {\n      var preview = this.els.preview;\n      var facingMode = this.props.facingMode;\n\n      // Preview element hasn't been rendered so wait for it.\n\n      if (!preview) {\n        return setTimeout(this.handleVideo, 200, stream);\n      }\n\n      // Handle different browser implementations of MediaStreams as src\n      if ((preview || {}).srcObject !== undefined) {\n        preview.srcObject = stream;\n      } else if (preview.mozSrcObject !== undefined) {\n        preview.mozSrcObject = stream;\n      } else if (window.URL.createObjectURL) {\n        preview.src = window.URL.createObjectURL(stream);\n      } else if (window.webkitURL) {\n        preview.src = window.webkitURL.createObjectURL(stream);\n      } else {\n        preview.src = stream;\n      }\n\n      // IOS play in fullscreen\n      preview.playsInline = true;\n\n      var streamTrack = stream.getTracks()[0];\n      // Assign `stopCamera` so the track can be stopped once component is cleared\n      this.stopCamera = streamTrack.stop.bind(streamTrack);\n\n      preview.addEventListener('loadstart', this.handleLoadStart);\n\n      this.setState({ mirrorVideo: facingMode == 'user', streamLabel: streamTrack.label });\n    }\n  }, {\n    key: 'handleLoadStart',\n    value: function handleLoadStart() {\n      var _props = this.props,\n          delay = _props.delay,\n          onLoad = _props.onLoad;\n      var _state = this.state,\n          mirrorVideo = _state.mirrorVideo,\n          streamLabel = _state.streamLabel;\n\n      var preview = this.els.preview;\n      preview.play();\n\n      if (typeof onLoad == 'function') {\n        onLoad({ mirrorVideo: mirrorVideo, streamLabel: streamLabel });\n      }\n\n      if (typeof delay == 'number') {\n        this.timeout = setTimeout(this.check, delay);\n      }\n\n      // Some browsers call loadstart continuously\n      preview.removeEventListener('loadstart', this.handleLoadStart);\n    }\n  }, {\n    key: 'check',\n    value: function check() {\n      var _props2 = this.props,\n          legacyMode = _props2.legacyMode,\n          resolution = _props2.resolution,\n          delay = _props2.delay;\n      var _els = this.els,\n          preview = _els.preview,\n          canvas = _els.canvas,\n          img = _els.img;\n\n      // Get image/video dimensions\n\n      var width = Math.floor(legacyMode ? img.naturalWidth : preview.videoWidth);\n      var height = Math.floor(legacyMode ? img.naturalHeight : preview.videoHeight);\n\n      // Canvas draw offsets\n      var hozOffset = 0;\n      var vertOffset = 0;\n\n      // Scale image to correct resolution\n      if (legacyMode) {\n        // Keep image aspect ratio\n        var greatestSize = width > height ? width : height;\n        var ratio = resolution / greatestSize;\n\n        height = ratio * height;\n        width = ratio * width;\n\n        canvas.width = width;\n        canvas.height = height;\n      } else {\n        // Crop image to fit 1:1 aspect ratio\n        var smallestSize = width < height ? width : height;\n        var _ratio = resolution / smallestSize;\n\n        height = _ratio * height;\n        width = _ratio * width;\n\n        vertOffset = (height - resolution) / 2 * -1;\n        hozOffset = (width - resolution) / 2 * -1;\n\n        canvas.width = resolution;\n        canvas.height = resolution;\n      }\n\n      var previewIsPlaying = preview && preview.readyState === preview.HAVE_ENOUGH_DATA;\n\n      if (legacyMode || previewIsPlaying) {\n        var ctx = canvas.getContext('2d');\n\n        ctx.drawImage(legacyMode ? img : preview, hozOffset, vertOffset, width, height);\n\n        var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        // Send data to web-worker\n        this.worker.postMessage(imageData);\n      } else {\n        // Preview not ready -> check later\n        this.timeout = setTimeout(this.check, delay);\n      }\n    }\n  }, {\n    key: 'handleWorkerMessage',\n    value: function handleWorkerMessage(e) {\n      var _props3 = this.props,\n          onScan = _props3.onScan,\n          legacyMode = _props3.legacyMode,\n          delay = _props3.delay;\n\n      var decoded = e.data;\n      onScan(decoded || null);\n\n      if (!legacyMode && typeof delay == 'number' && this.worker) {\n        this.timeout = setTimeout(this.check, delay);\n      }\n    }\n  }, {\n    key: 'initiateLegacyMode',\n    value: function initiateLegacyMode() {\n      this.reader = new FileReader();\n      this.reader.addEventListener('load', this.handleReaderLoad);\n      this.els.img.addEventListener('load', this.check, false);\n\n      // Reset componentDidUpdate\n      this.componentDidUpdate = undefined;\n\n      if (typeof this.props.onLoad == 'function') {\n        this.props.onLoad();\n      }\n    }\n  }, {\n    key: 'handleInputChange',\n    value: function handleInputChange(e) {\n      var selectedImg = e.target.files[0];\n      this.reader.readAsDataURL(selectedImg);\n    }\n  }, {\n    key: 'handleReaderLoad',\n    value: function handleReaderLoad(e) {\n      // Set selected image blob as img source\n      this.els.img.src = e.target.result;\n    }\n  }, {\n    key: 'openImageDialog',\n    value: function openImageDialog() {\n      // Function to be executed by parent in user action context to trigger img file uploader\n      this.els.input.click();\n    }\n  }, {\n    key: 'setRefFactory',\n    value: function setRefFactory(key) {\n      var _this2 = this;\n\n      return function (element) {\n        _this2.els[key] = element;\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props4 = this.props,\n          style = _props4.style,\n          className = _props4.className,\n          onImageLoad = _props4.onImageLoad,\n          legacyMode = _props4.legacyMode,\n          showViewFinder = _props4.showViewFinder,\n          facingMode = _props4.facingMode;\n\n\n      var containerStyle = {\n        overflow: 'hidden',\n        position: 'relative',\n        width: '100%',\n        paddingTop: '100%'\n      };\n      var hiddenStyle = { display: 'none' };\n      var previewStyle = {\n        top: 0,\n        left: 0,\n        display: 'block',\n        position: 'absolute',\n        overflow: 'hidden',\n        width: '100%',\n        height: '100%'\n      };\n      var videoPreviewStyle = _extends({}, previewStyle, {\n        objectFit: 'cover',\n        transform: this.state.mirrorVideo ? 'scaleX(-1)' : undefined\n      });\n      var imgPreviewStyle = _extends({}, previewStyle, {\n        objectFit: 'scale-down'\n      });\n\n      var viewFinderStyle = {\n        top: 0,\n        left: 0,\n        zIndex: 1,\n        boxSizing: 'border-box',\n        border: '50px solid rgba(0, 0, 0, 0.3)',\n        boxShadow: 'inset 0 0 0 5px rgba(255, 0, 0, 0.5)',\n        position: 'absolute',\n        width: '100%',\n        height: '100%'\n      };\n\n      return React.createElement(\n        'section',\n        { className: className, style: style },\n        React.createElement(\n          'section',\n          { style: containerStyle },\n          !legacyMode && showViewFinder ? React.createElement('div', { style: viewFinderStyle }) : null,\n          legacyMode ? React.createElement('input', {\n            style: hiddenStyle,\n            type: 'file',\n            accept: 'image/*',\n            ref: this.setRefFactory('input'),\n            onChange: this.handleInputChange\n          }) : null,\n          legacyMode ? React.createElement('img', { style: imgPreviewStyle, ref: this.setRefFactory('img'), onLoad: onImageLoad }) : React.createElement('video', { style: videoPreviewStyle, ref: this.setRefFactory('preview') }),\n          React.createElement('canvas', { style: hiddenStyle, ref: this.setRefFactory('canvas') })\n        )\n      );\n    }\n  }]);\n\n  return Reader;\n}(Component), _class.propTypes = {\n  onScan: PropTypes.func.isRequired,\n  onError: PropTypes.func.isRequired,\n  onLoad: PropTypes.func,\n  onImageLoad: PropTypes.func,\n  delay: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n  facingMode: PropTypes.oneOf(['user', 'environment']),\n  legacyMode: PropTypes.bool,\n  resolution: PropTypes.number,\n  showViewFinder: PropTypes.bool,\n  style: PropTypes.any,\n  className: PropTypes.string,\n  constraints: PropTypes.object\n}, _class.defaultProps = {\n  delay: 500,\n  resolution: 600,\n  facingMode: 'environment',\n  showViewFinder: true,\n  constraints: null\n}, _temp);","'use strict';\n\nvar _require = require('./errors'),\n    NoVideoInputDevicesError = _require.NoVideoInputDevicesError;\n\nfunction defaultDeviceIdChooser(filteredDevices, videoDevices, facingMode) {\n  if (filteredDevices.length > 0) {\n    return filteredDevices[0].deviceId;\n  }\n  if (videoDevices.length == 1 || facingMode == 'user') {\n    return videoDevices[0].deviceId;\n  }\n  return videoDevices[1].deviceId;\n}\n\nvar getFacingModePattern = function getFacingModePattern(facingMode) {\n  return facingMode == 'environment' ? /rear|back|environment/ig : /front|user|face/ig;\n};\n\nfunction getDeviceId(facingMode) {\n  var chooseDeviceId = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultDeviceIdChooser;\n\n  // Get manual deviceId from available devices.\n  return new Promise(function (resolve, reject) {\n    var enumerateDevices = void 0;\n    try {\n      enumerateDevices = navigator.mediaDevices.enumerateDevices();\n    } catch (err) {\n      reject(new NoVideoInputDevicesError());\n    }\n    enumerateDevices.then(function (devices) {\n      // Filter out non-videoinputs\n      var videoDevices = devices.filter(function (device) {\n        return device.kind == 'videoinput';\n      });\n\n      if (videoDevices.length < 1) {\n        reject(new NoVideoInputDevicesError());\n        return;\n      }\n\n      var pattern = getFacingModePattern(facingMode);\n\n      // Filter out video devices without the pattern\n      var filteredDevices = videoDevices.filter(function (_ref) {\n        var label = _ref.label;\n        return pattern.test(label);\n      });\n\n      resolve(chooseDeviceId(filteredDevices, videoDevices, facingMode));\n    });\n  });\n}\n\nmodule.exports = { getDeviceId: getDeviceId, getFacingModePattern: getFacingModePattern };","'use strict';\n\nfunction NoVideoInputDevicesError() {\n  this.name = 'NoVideoInputDevicesError';\n  this.message = 'No video input devices found';\n}\nNoVideoInputDevicesError.prototype = new Error();\n\nmodule.exports = {\n  NoVideoInputDevicesError: NoVideoInputDevicesError\n};","\"use strict\";\n\nmodule.exports = function havePropsChanged(prevProps, nextProps, keys) {\n  var changedProps = [];\n  keys.forEach(function (key) {\n    if (prevProps[key] != nextProps[key]) {\n      changedProps.push(key);\n    }\n  });\n  return changedProps;\n};","\"use strict\";\n\n/**\n * From https://gist.github.com/nolanlawson/10340255\n */\nmodule.exports = function createBlob(parts, properties) {\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var BlobBuilder = window.BlobBuilder || window.MSBlobBuilder || window.MozBlobBuilder || window.WebKitBlobBuilder;\n    var builder = new BlobBuilder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n};","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction fixStatsType(stat) {\n  return {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  }[stat.type] || stat.type;\n}\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    var trackId = transceiver.rtpSender._initialTrackId ||\n        transceiver.rtpSender.track.id;\n    transceiver.rtpSender._initialTrackId = trackId;\n    // spec.\n    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +\n        trackId + '\\r\\n';\n    sdp += 'a=' + msid;\n    // for Chrome. Legacy should no longer be required.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n\n    // RTX\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\n\nfunction makeError(name, description) {\n  var e = new Error(description);\n  e.name = name;\n  // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names\n  e.code = {\n    NotSupportedError: 9,\n    InvalidStateError: 11,\n    InvalidAccessError: 15,\n    TypeError: undefined,\n    OperationError: undefined\n  }[name];\n  return e;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  // https://w3c.github.io/mediacapture-main/#mediastream\n  // Helper function to add the track to the stream and\n  // dispatch the event ourselves.\n  function addTrackToStreamAndFireEvent(track, stream) {\n    stream.addTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',\n        {track: track}));\n  }\n\n  function removeTrackFromStreamAndFireEvent(track, stream) {\n    stream.removeTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',\n        {track: track}));\n  }\n\n  function fireAddTrack(pc, track, receiver, streams) {\n    var trackEvent = new Event('track');\n    trackEvent.track = track;\n    trackEvent.receiver = receiver;\n    trackEvent.transceiver = {receiver: receiver};\n    trackEvent.streams = streams;\n    window.setTimeout(function() {\n      pc._dispatchEvent('track', trackEvent);\n    });\n  }\n\n  var RTCPeerConnection = function(config) {\n    var pc = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          pc[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this._localDescription = null;\n    this._remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.connectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      throw(makeError('NotSupportedError',\n          'rtcpMuxPolicy \\'negotiate\\' is not supported'));\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers.push(new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        }));\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n\n    this._isClosed = false;\n  };\n\n  Object.defineProperty(RTCPeerConnection.prototype, 'localDescription', {\n    configurable: true,\n    get: function() {\n      return this._localDescription;\n    }\n  });\n  Object.defineProperty(RTCPeerConnection.prototype, 'remoteDescription', {\n    configurable: true,\n    get: function() {\n      return this._remoteDescription;\n    }\n  });\n\n  // set up event handlers on prototype\n  RTCPeerConnection.prototype.onicecandidate = null;\n  RTCPeerConnection.prototype.onaddstream = null;\n  RTCPeerConnection.prototype.ontrack = null;\n  RTCPeerConnection.prototype.onremovestream = null;\n  RTCPeerConnection.prototype.onsignalingstatechange = null;\n  RTCPeerConnection.prototype.oniceconnectionstatechange = null;\n  RTCPeerConnection.prototype.onconnectionstatechange = null;\n  RTCPeerConnection.prototype.onicegatheringstatechange = null;\n  RTCPeerConnection.prototype.onnegotiationneeded = null;\n  RTCPeerConnection.prototype.ondatachannel = null;\n\n  RTCPeerConnection.prototype._dispatchEvent = function(name, event) {\n    if (this._isClosed) {\n      return;\n    }\n    this.dispatchEvent(event);\n    if (typeof this['on' + name] === 'function') {\n      this['on' + name](event);\n    }\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this._dispatchEvent('icegatheringstatechange', event);\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (which is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      associatedRemoteMediaStreams: [],\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    if (!doNotAdd) {\n      this.transceivers.push(transceiver);\n    }\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call addTrack on a closed peerconnection.');\n    }\n\n    var alreadyExists = this.transceivers.find(function(s) {\n      return s.track === track;\n    });\n\n    if (alreadyExists) {\n      throw makeError('InvalidAccessError', 'Track already exists.');\n    }\n\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var pc = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        pc.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        pc.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeTrack = function(sender) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call removeTrack on a closed peerconnection.');\n    }\n\n    if (!(sender instanceof window.RTCRtpSender)) {\n      throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +\n          'does not implement interface RTCRtpSender.');\n    }\n\n    var transceiver = this.transceivers.find(function(t) {\n      return t.rtpSender === sender;\n    });\n\n    if (!transceiver) {\n      throw makeError('InvalidAccessError',\n          'Sender was not created by this connection.');\n    }\n    var stream = transceiver.stream;\n\n    transceiver.rtpSender.stop();\n    transceiver.rtpSender = null;\n    transceiver.track = null;\n    transceiver.stream = null;\n\n    // remove the stream from the set of local streams\n    var localStreams = this.transceivers.map(function(t) {\n      return t.stream;\n    });\n    if (localStreams.indexOf(stream) === -1 &&\n        this.localStreams.indexOf(stream) > -1) {\n      this.localStreams.splice(this.localStreams.indexOf(stream), 1);\n    }\n\n    this._maybeFireNegotiationNeeded();\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var pc = this;\n    stream.getTracks().forEach(function(track) {\n      var sender = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (sender) {\n        pc.removeTrack(sender);\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var pc = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {\n        pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var pc = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var bufferedCandidateEvents =\n      this.transceivers[sdpMLineIndex].bufferedCandidateEvents;\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (pc.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        // also the usernameFragment. TODO: update SDP to take both variants.\n        cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;\n\n        var serializedCandidate = SDPUtils.writeCandidate(cand);\n        event.candidate = Object.assign(event.candidate,\n            SDPUtils.parseCandidate(serializedCandidate));\n\n        event.candidate.candidate = serializedCandidate;\n        event.candidate.toJSON = function() {\n          return {\n            candidate: event.candidate.candidate,\n            sdpMid: event.candidate.sdpMid,\n            sdpMLineIndex: event.candidate.sdpMLineIndex,\n            usernameFragment: event.candidate.usernameFragment\n          };\n        };\n      }\n\n      // update local description.\n      var sections = SDPUtils.getMediaSections(pc._localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      pc._localDescription.sdp =\n          SDPUtils.getDescription(pc._localDescription.sdp) +\n          sections.join('');\n      var complete = pc.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (pc.iceGatheringState !== 'gathering') {\n        pc.iceGatheringState = 'gathering';\n        pc._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        pc._dispatchEvent('icecandidate', event);\n      }\n      if (complete) {\n        pc._dispatchEvent('icecandidate', new Event('icecandidate'));\n        pc.iceGatheringState = 'complete';\n        pc._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      bufferedCandidateEvents.forEach(function(e) {\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var pc = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      pc._updateIceConnectionState();\n      pc._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      pc._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      pc._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      if (transceiver.recvEncodingParameters.length) {\n        params.encodings = transceiver.recvEncodingParameters;\n      } else {\n        params.encodings = [{}];\n      }\n      params.rtcp = {\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.rtcpParameters.cname) {\n        params.rtcp.cname = transceiver.rtcpParameters.cname;\n      }\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set local ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        pc.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        pc._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(pc._remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n\n        if (!rejected && !transceiver.rejected) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!pc.usingBundle || sdpMLineIndex === 0) {\n            pc._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          pc._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    pc._localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-local-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set remote ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var streams = {};\n    pc.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    pc.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      pc.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if (rejected || (kind === 'application' && (protocol === 'DTLS/SCTP' ||\n          protocol === 'UDP/DTLS/SCTP'))) {\n        // TODO: this is dangerous in the case where a non-rejected m-line\n        //     becomes rejected.\n        pc.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          kind: kind,\n          protocol: protocol,\n          rejected: true\n        };\n        return;\n      }\n\n      if (!rejected && pc.transceivers[sdpMLineIndex] &&\n          pc.transceivers[sdpMLineIndex].rejected) {\n        // recycle a rejected transceiver.\n        pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          pc.transceivers[sdpMLineIndex]) {\n        pc._disposeIceAndDtlsTransports(sdpMLineIndex);\n        pc.transceivers[sdpMLineIndex].iceGatherer =\n            pc.transceivers[0].iceGatherer;\n        pc.transceivers[sdpMLineIndex].iceTransport =\n            pc.transceivers[0].iceTransport;\n        pc.transceivers[sdpMLineIndex].dtlsTransport =\n            pc.transceivers[0].dtlsTransport;\n        if (pc.transceivers[sdpMLineIndex].rtpSender) {\n          pc.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n        if (pc.transceivers[sdpMLineIndex].rtpReceiver) {\n          pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex] ||\n            pc._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid && remoteMsid.stream === '-') {\n              // no-op. a stream id of '-' means: no associated stream.\n            } else if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            if (stream) {\n              addTrackToStreamAndFireEvent(track, stream);\n              transceiver.associatedRemoteMediaStreams.push(stream);\n            }\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {\n          transceiver.associatedRemoteMediaStreams.forEach(function(s) {\n            var nativeTrack = s.getTracks().find(function(t) {\n              return t.id === transceiver.rtpReceiver.track.id;\n            });\n            if (nativeTrack) {\n              removeTrackFromStreamAndFireEvent(nativeTrack, s);\n            }\n          });\n          transceiver.associatedRemoteMediaStreams = [];\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        pc._transceive(pc.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        pc.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        pc.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        // If the offer contained RTX but the answer did not,\n        // remove RTX from sendEncodingParameters.\n        var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n        var hasRtx = commonCapabilities.codecs.filter(function(c) {\n          return c.name.toLowerCase() === 'rtx';\n        }).length;\n        if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n          delete transceiver.sendEncodingParameters[0].rtx;\n        }\n\n        pc._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams.default);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (pc._dtlsRole === undefined) {\n      pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    pc._remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-remote-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (pc.remoteStreams.indexOf(stream) === -1) {\n          pc.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            pc._dispatchEvent('addstream', event);\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          fireAddTrack(pc, track, receiver, [stream]);\n        });\n      }\n    });\n    receiverList.forEach(function(item) {\n      if (item[2]) {\n        return;\n      }\n      fireAddTrack(pc, item[0], item[1], []);\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(pc && pc.transceivers)) {\n        return;\n      }\n      pc.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._isClosed = true;\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this._dispatchEvent('signalingstatechange', event);\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var pc = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (pc.needNegotiation) {\n        pc.needNegotiation = false;\n        var event = new Event('negotiationneeded');\n        pc._dispatchEvent('negotiationneeded', event);\n      }\n    }, 0);\n  };\n\n  // Update the ice connection state.\n  RTCPeerConnection.prototype._updateIceConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.iceTransport && !transceiver.rejected) {\n        states[transceiver.iceTransport.state]++;\n      }\n    });\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.checking > 0) {\n      newState = 'checking';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    } else if (states.completed > 0) {\n      newState = 'completed';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this._dispatchEvent('iceconnectionstatechange', event);\n    }\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      if (transceiver.iceTransport && transceiver.dtlsTransport &&\n          !transceiver.rejected) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      }\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.connectionState) {\n      this.connectionState = newState;\n      var event = new Event('connectionstatechange');\n      this._dispatchEvent('connectionstatechange', event);\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createOffer after close'));\n    }\n\n    var numAudioTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    var offerOptions = arguments[0];\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    pc.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        pc._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        pc._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = transceiver.mid || SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n            pc.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n\n        // for subsequent offers, we might have to re-use the payload\n        // type of the last offer.\n        if (transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.codecs) {\n          transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {\n            if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&\n                codec.clockRate === remoteCodec.clockRate) {\n              codec.preferredPayloadType = remoteCodec.payloadType;\n            }\n          });\n        }\n      });\n      localCapabilities.headerExtensions.forEach(function(hdrExt) {\n        var remoteExtensions = transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.headerExtensions || [];\n        remoteExtensions.forEach(function(rHdrExt) {\n          if (hdrExt.uri === rHdrExt.uri) {\n            hdrExt.id = rHdrExt.id;\n          }\n        });\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (pc._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, pc._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !pc.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer after close'));\n    }\n\n    if (!(pc.signalingState === 'have-remote-offer' ||\n        pc.signalingState === 'have-local-pranswer')) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer in signalingState ' + pc.signalingState));\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    if (pc.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    var mediaSectionsInOffer = SDPUtils.getMediaSections(\n        pc._remoteDescription.sdp).length;\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.rejected) {\n        if (transceiver.kind === 'application') {\n          if (transceiver.protocol === 'DTLS/SCTP') { // legacy fmt\n            sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n';\n          } else {\n            sdp += 'm=application 0 ' + transceiver.protocol +\n                ' webrtc-datachannel\\r\\n';\n          }\n        } else if (transceiver.kind === 'audio') {\n          sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\n' +\n              'a=rtpmap:0 PCMU/8000\\r\\n';\n        } else if (transceiver.kind === 'video') {\n          sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\\r\\n' +\n              'a=rtpmap:120 VP8/90000\\r\\n';\n        }\n        sdp += 'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=inactive\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, pc._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var pc = this;\n    var sections;\n    if (candidate && !(candidate.sdpMLineIndex !== undefined ||\n        candidate.sdpMid)) {\n      return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));\n    }\n\n    // TODO: needs to go into ops queue.\n    return new Promise(function(resolve, reject) {\n      if (!pc._remoteDescription) {\n        return reject(makeError('InvalidStateError',\n            'Can not add ICE candidate without a remote description'));\n      } else if (!candidate || candidate.candidate === '') {\n        for (var j = 0; j < pc.transceivers.length; j++) {\n          if (pc.transceivers[j].rejected) {\n            continue;\n          }\n          pc.transceivers[j].iceTransport.addRemoteCandidate({});\n          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);\n          sections[j] += 'a=end-of-candidates\\r\\n';\n          pc._remoteDescription.sdp =\n              SDPUtils.getDescription(pc._remoteDescription.sdp) +\n              sections.join('');\n          if (pc.usingBundle) {\n            break;\n          }\n        }\n      } else {\n        var sdpMLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < pc.transceivers.length; i++) {\n            if (pc.transceivers[i].mid === candidate.sdpMid) {\n              sdpMLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        if (transceiver) {\n          if (transceiver.rejected) {\n            return resolve();\n          }\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component && cand.component !== 1) {\n            return resolve();\n          }\n          // when using bundle, avoid adding candidates to the wrong\n          // ice transport. And avoid adding candidates added in the SDP.\n          if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n              transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {\n            if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n              return reject(makeError('OperationError',\n                  'Can not add ICE candidate'));\n            }\n          }\n\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);\n          sections[sdpMLineIndex] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          pc._remoteDescription.sdp =\n              SDPUtils.getDescription(pc._remoteDescription.sdp) +\n              sections.join('');\n        } else {\n          return reject(makeError('OperationError',\n              'Can not add ICE candidate'));\n        }\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function(selector) {\n    if (selector && selector instanceof window.MediaStreamTrack) {\n      var senderOrReceiver = null;\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.rtpSender &&\n            transceiver.rtpSender.track === selector) {\n          senderOrReceiver = transceiver.rtpSender;\n        } else if (transceiver.rtpReceiver &&\n            transceiver.rtpReceiver.track === selector) {\n          senderOrReceiver = transceiver.rtpReceiver;\n        }\n      });\n      if (!senderOrReceiver) {\n        throw makeError('InvalidAccessError', 'Invalid selector.');\n      }\n      return senderOrReceiver.getStats();\n    }\n\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    return Promise.all(promises).then(function(allStats) {\n      var results = new Map();\n      allStats.forEach(function(stats) {\n        stats.forEach(function(stat) {\n          results.set(stat.id, stat);\n        });\n      });\n      return results;\n    });\n  };\n\n  // fix low-level stat names and return Map instead of object.\n  var ortcObjects = ['RTCRtpSender', 'RTCRtpReceiver', 'RTCIceGatherer',\n    'RTCIceTransport', 'RTCDtlsTransport'];\n  ortcObjects.forEach(function(ortcObjectName) {\n    var obj = window[ortcObjectName];\n    if (obj && obj.prototype && obj.prototype.getStats) {\n      var nativeGetstats = obj.prototype.getStats;\n      obj.prototype.getStats = function() {\n        return nativeGetstats.apply(this)\n        .then(function(nativeStats) {\n          var mapStats = new Map();\n          Object.keys(nativeStats).forEach(function(id) {\n            nativeStats[id].type = fixStatsType(nativeStats[id]);\n            mapStats.set(id, nativeStats[id]);\n          });\n          return mapStats;\n        });\n      };\n    }\n  });\n\n  // legacy callback shims. Should be moved to adapter.js some days.\n  var methods = ['createOffer', 'createAnswer'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[0] === 'function' ||\n          typeof args[1] === 'function') { // legacy\n        return nativeMethod.apply(this, [arguments[2]])\n        .then(function(description) {\n          if (typeof args[0] === 'function') {\n            args[0].apply(null, [description]);\n          }\n        }, function(error) {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function' ||\n          typeof args[2] === 'function') { // legacy\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        }, function(error) {\n          if (typeof args[2] === 'function') {\n            args[2].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  // getStats is special. It doesn't have a spec legacy method yet we support\n  // getStats(something, cb) without error callbacks.\n  ['getStats'].forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function') {\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  return RTCPeerConnection;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _lottieWeb = require('lottie-web');\n\nvar _lottieWeb2 = _interopRequireDefault(_lottieWeb);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Lottie = function (_React$Component) {\n  (0, _inherits3.default)(Lottie, _React$Component);\n\n  function Lottie() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Lottie);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Lottie.__proto__ || (0, _getPrototypeOf2.default)(Lottie)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickToPause = function () {\n      // The pause() method is for handling pausing by passing a prop isPaused\n      // This method is for handling the ability to pause by clicking on the animation\n      if (_this.anim.isPaused) {\n        _this.anim.play();\n      } else {\n        _this.anim.pause();\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(Lottie, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          options = _props.options,\n          eventListeners = _props.eventListeners;\n      var loop = options.loop,\n          autoplay = options.autoplay,\n          animationData = options.animationData,\n          rendererSettings = options.rendererSettings,\n          segments = options.segments;\n\n\n      this.options = {\n        container: this.el,\n        renderer: 'svg',\n        loop: loop !== false,\n        autoplay: autoplay !== false,\n        segments: segments !== false,\n        animationData: animationData,\n        rendererSettings: rendererSettings\n      };\n\n      this.options = (0, _extends3.default)({}, this.options, options);\n\n      this.anim = _lottieWeb2.default.loadAnimation(this.options);\n      this.registerEvents(eventListeners);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps /* , nextState */) {\n      /* Recreate the animation handle if the data is changed */\n      if (this.options.animationData !== nextProps.options.animationData) {\n        this.deRegisterEvents(this.props.eventListeners);\n        this.destroy();\n        this.options = (0, _extends3.default)({}, this.options, nextProps.options);\n        this.anim = _lottieWeb2.default.loadAnimation(this.options);\n        this.registerEvents(nextProps.eventListeners);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isStopped) {\n        this.stop();\n      } else if (this.props.segments) {\n        this.playSegments();\n      } else {\n        this.play();\n      }\n\n      this.pause();\n      this.setSpeed();\n      this.setDirection();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.deRegisterEvents(this.props.eventListeners);\n      this.destroy();\n      this.options.animationData = null;\n      this.anim = null;\n    }\n  }, {\n    key: 'setSpeed',\n    value: function setSpeed() {\n      this.anim.setSpeed(this.props.speed);\n    }\n  }, {\n    key: 'setDirection',\n    value: function setDirection() {\n      this.anim.setDirection(this.props.direction);\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      this.anim.play();\n    }\n  }, {\n    key: 'playSegments',\n    value: function playSegments() {\n      this.anim.playSegments(this.props.segments);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.anim.stop();\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.props.isPaused && !this.anim.isPaused) {\n        this.anim.pause();\n      } else if (!this.props.isPaused && this.anim.isPaused) {\n        this.anim.pause();\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.anim.destroy();\n    }\n  }, {\n    key: 'registerEvents',\n    value: function registerEvents(eventListeners) {\n      var _this2 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this2.anim.addEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'deRegisterEvents',\n    value: function deRegisterEvents(eventListeners) {\n      var _this3 = this;\n\n      eventListeners.forEach(function (eventListener) {\n        _this3.anim.removeEventListener(eventListener.eventName, eventListener.callback);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height,\n          ariaRole = _props2.ariaRole,\n          ariaLabel = _props2.ariaLabel,\n          isClickToPauseDisabled = _props2.isClickToPauseDisabled,\n          title = _props2.title;\n\n\n      var getSize = function getSize(initial) {\n        var size = void 0;\n\n        if (typeof initial === 'number') {\n          size = initial + 'px';\n        } else {\n          size = initial || '100%';\n        }\n\n        return size;\n      };\n\n      var lottieStyles = (0, _extends3.default)({\n        width: getSize(width),\n        height: getSize(height),\n        overflow: 'hidden',\n        margin: '0 auto',\n        outline: 'none'\n      }, this.props.style);\n\n      var onClickHandler = isClickToPauseDisabled ? function () {\n        return null;\n      } : this.handleClickToPause;\n\n      return (\n        // Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n        // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n        _react2.default.createElement('div', {\n          ref: function ref(c) {\n            _this4.el = c;\n          },\n          style: lottieStyles,\n          onClick: onClickHandler,\n          title: title,\n          role: ariaRole,\n          'aria-label': ariaLabel,\n          tabIndex: '0'\n        })\n      );\n    }\n  }]);\n  return Lottie;\n}(_react2.default.Component);\n\nexports.default = Lottie;\n\n\nLottie.propTypes = {\n  eventListeners: _propTypes2.default.arrayOf(_propTypes2.default.object),\n  options: _propTypes2.default.object.isRequired,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n  isStopped: _propTypes2.default.bool,\n  isPaused: _propTypes2.default.bool,\n  speed: _propTypes2.default.number,\n  segments: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  direction: _propTypes2.default.number,\n  ariaRole: _propTypes2.default.string,\n  ariaLabel: _propTypes2.default.string,\n  isClickToPauseDisabled: _propTypes2.default.bool,\n  title: _propTypes2.default.string\n};\n\nLottie.defaultProps = {\n  eventListeners: [],\n  isStopped: false,\n  isPaused: false,\n  speed: 1,\n  ariaRole: 'button',\n  ariaLabel: 'animation',\n  isClickToPauseDisabled: false,\n  title: ''\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t/* global locationHref:writable, animationManager, subframeEnabled:writable, defaultCurveSegments:writable, roundValues,\r\nexpressionsPlugin:writable, PropertyFactory, ShapePropertyFactory, Matrix */\r\n/* exported locationHref, subframeEnabled, expressionsPlugin */\r\n\r\n'use strict';\r\n\r\n/* exported svgNS, locationHref, initialDefaultFrame */\r\n\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\n/* global createSizedArray */\r\n/* exported subframeEnabled, expressionsPlugin, isSafari, cachedColors, bmPow, bmSqrt, bmFloor, bmMax, bmMin, ProjectInterface,\r\ndefaultCurveSegments, degToRads, roundCorner, bmRnd, styleDiv, BMEnterFrameEvent, BMCompleteEvent, BMCompleteLoopEvent,\r\nBMSegmentStartEvent, BMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, BMAnimationConfigErrorEvent, createElementID,\r\naddSaturationToRGB, addBrightnessToRGB, addHueToRGB, rgbToHex */\r\n\r\nvar subframeEnabled = true;\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bmRnd;\r\nvar bmPow = Math.pow;\r\nvar bmSqrt = Math.sqrt;\r\nvar bmFloor = Math.floor;\r\nvar bmMax = Math.max;\r\nvar bmMin = Math.min;\r\n\r\nvar BMMath = {};\r\n(function () {\r\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n  var i;\r\n  var len = propertyNames.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n  }\r\n}());\r\n\r\nfunction ProjectInterface() { return {}; }\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function (val) {\r\n  var tOfVal = typeof val;\r\n  if (tOfVal === 'object' && val.length) {\r\n    var absArr = createSizedArray(val.length);\r\n    var i;\r\n    var len = val.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      absArr[i] = Math.abs(val[i]);\r\n    }\r\n    return absArr;\r\n  }\r\n  return Math.abs(val);\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI / 180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag) {\r\n  if (flag) {\r\n    bmRnd = Math.round;\r\n  } else {\r\n    bmRnd = function (val) {\r\n      return val;\r\n    };\r\n  }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element) {\r\n  element.style.position = 'absolute';\r\n  element.style.top = 0;\r\n  element.style.left = 0;\r\n  element.style.display = 'block';\r\n  element.style.transformOrigin = '0 0';\r\n  element.style.webkitTransformOrigin = '0 0';\r\n  element.style.backfaceVisibility = 'visible';\r\n  element.style.webkitBackfaceVisibility = 'visible';\r\n  element.style.transformStyle = 'preserve-3d';\r\n  element.style.webkitTransformStyle = 'preserve-3d';\r\n  element.style.mozTransformStyle = 'preserve-3d';\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentTime = currentTime;\r\n  this.totalTime = totalTime;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier) {\r\n  this.type = type;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentLoop = currentLoop;\r\n  this.totalLoops = totalLoops;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n  this.type = type;\r\n  this.firstFrame = firstFrame;\r\n  this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target) {\r\n  this.type = type;\r\n  this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n  this.type = 'renderFrameError';\r\n  this.nativeError = nativeError;\r\n  this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n  this.type = 'configError';\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n  this.type = type;\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nvar createElementID = (function () {\r\n  var _count = 0;\r\n  return function createID() {\r\n    _count += 1;\r\n    return '__lottie_element_' + _count;\r\n  };\r\n}());\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n  var r;\r\n  var g;\r\n  var b;\r\n  var i;\r\n  var f;\r\n  var p;\r\n  var q;\r\n  var t;\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n    default: break;\r\n  }\r\n  return [r,\r\n    g,\r\n    b];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n  var max = Math.max(r, g, b);\r\n  var min = Math.min(r, g, b);\r\n  var d = max - min;\r\n  var h;\r\n  var s = (max === 0 ? 0 : d / max);\r\n  var v = max / 255;\r\n\r\n  switch (max) {\r\n    case min: h = 0; break;\r\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\r\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    default: break;\r\n  }\r\n\r\n  return [\r\n    h,\r\n    s,\r\n    v,\r\n  ];\r\n}\r\n\r\nfunction addSaturationToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[1] += offset;\r\n  if (hsv[1] > 1) {\r\n    hsv[1] = 1;\r\n  } else if (hsv[1] <= 0) {\r\n    hsv[1] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[2] += offset;\r\n  if (hsv[2] > 1) {\r\n    hsv[2] = 1;\r\n  } else if (hsv[2] < 0) {\r\n    hsv[2] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[0] += offset / 360;\r\n  if (hsv[0] > 1) {\r\n    hsv[0] -= 1;\r\n  } else if (hsv[0] < 0) {\r\n    hsv[0] += 1;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function () {\r\n  var colorMap = [];\r\n  var i;\r\n  var hex;\r\n  for (i = 0; i < 256; i += 1) {\r\n    hex = i.toString(16);\r\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return function (r, g, b) {\r\n    if (r < 0) {\r\n      r = 0;\r\n    }\r\n    if (g < 0) {\r\n      g = 0;\r\n    }\r\n    if (b < 0) {\r\n      b = 0;\r\n    }\r\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n  };\r\n}());\r\n\r\nfunction BaseEvent() {}\r\nBaseEvent.prototype = {\r\n  triggerEvent: function (eventName, args) {\r\n    if (this._cbs[eventName]) {\r\n      var len = this._cbs[eventName].length;\r\n      for (var i = 0; i < len; i += 1) {\r\n        this._cbs[eventName][i](args);\r\n      }\r\n    }\r\n  },\r\n  addEventListener: function (eventName, callback) {\r\n    if (!this._cbs[eventName]) {\r\n      this._cbs[eventName] = [];\r\n    }\r\n    this._cbs[eventName].push(callback);\r\n\r\n    return function () {\r\n      this.removeEventListener(eventName, callback);\r\n    }.bind(this);\r\n  },\r\n  removeEventListener: function (eventName, callback) {\r\n    if (!callback) {\r\n      this._cbs[eventName] = null;\r\n    } else if (this._cbs[eventName]) {\r\n      var i = 0;\r\n      var len = this._cbs[eventName].length;\r\n      while (i < len) {\r\n        if (this._cbs[eventName][i] === callback) {\r\n          this._cbs[eventName].splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!this._cbs[eventName].length) {\r\n        this._cbs[eventName] = null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/* exported createTypedArray, createSizedArray */\r\n\r\nvar createTypedArray = (function () {\r\n  function createRegularArray(type, len) {\r\n    var i = 0;\r\n    var arr = [];\r\n    var value;\r\n    switch (type) {\r\n      case 'int16':\r\n      case 'uint8c':\r\n        value = 1;\r\n        break;\r\n      default:\r\n        value = 1.1;\r\n        break;\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      arr.push(value);\r\n    }\r\n    return arr;\r\n  }\r\n  function createTypedArrayFactory(type, len) {\r\n    if (type === 'float32') {\r\n      return new Float32Array(len);\r\n    } if (type === 'int16') {\r\n      return new Int16Array(len);\r\n    } if (type === 'uint8c') {\r\n      return new Uint8ClampedArray(len);\r\n    }\r\n    return createRegularArray(type, len);\r\n  }\r\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n    return createTypedArrayFactory;\r\n  }\r\n  return createRegularArray;\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n  return Array.apply(null, { length: len });\r\n}\r\n\r\n/* global svgNS */\r\n/* exported createNS */\r\n\r\nfunction createNS(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElementNS(svgNS, type);\r\n}\r\n\r\n/* exported createTag */\r\n\r\nfunction createTag(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction DynamicPropertyContainer() {}\r\nDynamicPropertyContainer.prototype = {\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n      this.container.addDynamicProperty(this);\r\n      this._isAnimated = true;\r\n    }\r\n  },\r\n  iterateDynamicProperties: function () {\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n      if (this.dynamicProperties[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  },\r\n  initDynamicPropertyContainer: function (container) {\r\n    this.container = container;\r\n    this.dynamicProperties = [];\r\n    this._mdf = false;\r\n    this._isAnimated = false;\r\n  },\r\n};\r\n\r\n/* exported getBlendMode */\r\n\r\nvar getBlendMode = (function () {\r\n  var blendModeEnums = {\r\n    0: 'source-over',\r\n    1: 'multiply',\r\n    2: 'screen',\r\n    3: 'overlay',\r\n    4: 'darken',\r\n    5: 'lighten',\r\n    6: 'color-dodge',\r\n    7: 'color-burn',\r\n    8: 'hard-light',\r\n    9: 'soft-light',\r\n    10: 'difference',\r\n    11: 'exclusion',\r\n    12: 'hue',\r\n    13: 'saturation',\r\n    14: 'color',\r\n    15: 'luminosity',\r\n  };\r\n\r\n  return function (mode) {\r\n    return blendModeEnums[mode] || '';\r\n  };\r\n}());\r\n\r\n/* global createTypedArray */\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function () {\r\n  var _cos = Math.cos;\r\n  var _sin = Math.sin;\r\n  var _tan = Math.tan;\r\n  var _rnd = Math.round;\r\n\r\n  function reset() {\r\n    this.props[0] = 1;\r\n    this.props[1] = 0;\r\n    this.props[2] = 0;\r\n    this.props[3] = 0;\r\n    this.props[4] = 0;\r\n    this.props[5] = 1;\r\n    this.props[6] = 0;\r\n    this.props[7] = 0;\r\n    this.props[8] = 0;\r\n    this.props[9] = 0;\r\n    this.props[10] = 1;\r\n    this.props[11] = 0;\r\n    this.props[12] = 0;\r\n    this.props[13] = 0;\r\n    this.props[14] = 0;\r\n    this.props[15] = 1;\r\n    return this;\r\n  }\r\n\r\n  function rotate(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateX(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateY(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateZ(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function shear(sx, sy) {\r\n    return this._t(1, sy, sx, 1, 0, 0);\r\n  }\r\n\r\n  function skew(ax, ay) {\r\n    return this.shear(_tan(ax), _tan(ay));\r\n  }\r\n\r\n  function skewFromAxis(ax, angle) {\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n  }\r\n\r\n  function scale(sx, sy, sz) {\r\n    if (!sz && sz !== 0) {\r\n      sz = 1;\r\n    }\r\n    if (sx === 1 && sy === 1 && sz === 1) {\r\n      return this;\r\n    }\r\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n    this.props[0] = a;\r\n    this.props[1] = b;\r\n    this.props[2] = c;\r\n    this.props[3] = d;\r\n    this.props[4] = e;\r\n    this.props[5] = f;\r\n    this.props[6] = g;\r\n    this.props[7] = h;\r\n    this.props[8] = i;\r\n    this.props[9] = j;\r\n    this.props[10] = k;\r\n    this.props[11] = l;\r\n    this.props[12] = m;\r\n    this.props[13] = n;\r\n    this.props[14] = o;\r\n    this.props[15] = p;\r\n    return this;\r\n  }\r\n\r\n  function translate(tx, ty, tz) {\r\n    tz = tz || 0;\r\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n    var _p = this.props;\r\n\r\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n      _p[12] = _p[12] * a2 + _p[15] * m2;\r\n      _p[13] = _p[13] * f2 + _p[15] * n2;\r\n      _p[14] = _p[14] * k2 + _p[15] * o2;\r\n      _p[15] *= p2;\r\n      // }\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    var a1 = _p[0];\r\n    var b1 = _p[1];\r\n    var c1 = _p[2];\r\n    var d1 = _p[3];\r\n    var e1 = _p[4];\r\n    var f1 = _p[5];\r\n    var g1 = _p[6];\r\n    var h1 = _p[7];\r\n    var i1 = _p[8];\r\n    var j1 = _p[9];\r\n    var k1 = _p[10];\r\n    var l1 = _p[11];\r\n    var m1 = _p[12];\r\n    var n1 = _p[13];\r\n    var o1 = _p[14];\r\n    var p1 = _p[15];\r\n\r\n    /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n\r\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n\r\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n\r\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n\r\n    this._identityCalculated = false;\r\n    return this;\r\n  }\r\n\r\n  function isIdentity() {\r\n    if (!this._identityCalculated) {\r\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n      this._identityCalculated = true;\r\n    }\r\n    return this._identity;\r\n  }\r\n\r\n  function equals(matr) {\r\n    var i = 0;\r\n    while (i < 16) {\r\n      if (matr.props[i] !== this.props[i]) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clone(matr) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      matr.props[i] = this.props[i];\r\n    }\r\n    return matr;\r\n  }\r\n\r\n  function cloneFromProps(props) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      this.props[i] = props[i];\r\n    }\r\n  }\r\n\r\n  function applyToPoint(x, y, z) {\r\n    return {\r\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n    };\r\n    /* return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         }; */\r\n  }\r\n  function applyToX(x, y, z) {\r\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n  }\r\n  function applyToY(x, y, z) {\r\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n  }\r\n  function applyToZ(x, y, z) {\r\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n  }\r\n\r\n  function getInverseMatrix() {\r\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n    var a = this.props[5] / determinant;\r\n    var b = -this.props[1] / determinant;\r\n    var c = -this.props[4] / determinant;\r\n    var d = this.props[0] / determinant;\r\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n    var inverseMatrix = new Matrix();\r\n    inverseMatrix.props[0] = a;\r\n    inverseMatrix.props[1] = b;\r\n    inverseMatrix.props[4] = c;\r\n    inverseMatrix.props[5] = d;\r\n    inverseMatrix.props[12] = e;\r\n    inverseMatrix.props[13] = f;\r\n    return inverseMatrix;\r\n  }\r\n\r\n  function inversePoint(pt) {\r\n    var inverseMatrix = this.getInverseMatrix();\r\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n  }\r\n\r\n  function inversePoints(pts) {\r\n    var i;\r\n    var len = pts.length;\r\n    var retPts = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      retPts[i] = inversePoint(pts[i]);\r\n    }\r\n    return retPts;\r\n  }\r\n\r\n  function applyToTriplePoints(pt1, pt2, pt3) {\r\n    var arr = createTypedArray('float32', 6);\r\n    if (this.isIdentity()) {\r\n      arr[0] = pt1[0];\r\n      arr[1] = pt1[1];\r\n      arr[2] = pt2[0];\r\n      arr[3] = pt2[1];\r\n      arr[4] = pt3[0];\r\n      arr[5] = pt3[1];\r\n    } else {\r\n      var p0 = this.props[0];\r\n      var p1 = this.props[1];\r\n      var p4 = this.props[4];\r\n      var p5 = this.props[5];\r\n      var p12 = this.props[12];\r\n      var p13 = this.props[13];\r\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointArray(x, y, z) {\r\n    var arr;\r\n    if (this.isIdentity()) {\r\n      arr = [x, y, z];\r\n    } else {\r\n      arr = [\r\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n      ];\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointStringified(x, y) {\r\n    if (this.isIdentity()) {\r\n      return x + ',' + y;\r\n    }\r\n    var _p = this.props;\r\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n  }\r\n\r\n  function toCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var i = 0;\r\n    var props = this.props;\r\n    var cssValue = 'matrix3d(';\r\n    var v = 10000;\r\n    while (i < 16) {\r\n      cssValue += _rnd(props[i] * v) / v;\r\n      cssValue += i === 15 ? ')' : ',';\r\n      i += 1;\r\n    }\r\n    return cssValue;\r\n  }\r\n\r\n  function roundMatrixProperty(val) {\r\n    var v = 10000;\r\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n      return _rnd(val * v) / v;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  function to2dCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var props = this.props;\r\n    var _a = roundMatrixProperty(props[0]);\r\n    var _b = roundMatrixProperty(props[1]);\r\n    var _c = roundMatrixProperty(props[4]);\r\n    var _d = roundMatrixProperty(props[5]);\r\n    var _e = roundMatrixProperty(props[12]);\r\n    var _f = roundMatrixProperty(props[13]);\r\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n  }\r\n\r\n  return function () {\r\n    this.reset = reset;\r\n    this.rotate = rotate;\r\n    this.rotateX = rotateX;\r\n    this.rotateY = rotateY;\r\n    this.rotateZ = rotateZ;\r\n    this.skew = skew;\r\n    this.skewFromAxis = skewFromAxis;\r\n    this.shear = shear;\r\n    this.scale = scale;\r\n    this.setTransform = setTransform;\r\n    this.translate = translate;\r\n    this.transform = transform;\r\n    this.applyToPoint = applyToPoint;\r\n    this.applyToX = applyToX;\r\n    this.applyToY = applyToY;\r\n    this.applyToZ = applyToZ;\r\n    this.applyToPointArray = applyToPointArray;\r\n    this.applyToTriplePoints = applyToTriplePoints;\r\n    this.applyToPointStringified = applyToPointStringified;\r\n    this.toCSS = toCSS;\r\n    this.to2dCSS = to2dCSS;\r\n    this.clone = clone;\r\n    this.cloneFromProps = cloneFromProps;\r\n    this.equals = equals;\r\n    this.inversePoints = inversePoints;\r\n    this.inversePoint = inversePoint;\r\n    this.getInverseMatrix = getInverseMatrix;\r\n    this._t = this.transform;\r\n    this.isIdentity = isIdentity;\r\n    this._identity = true;\r\n    this._identityCalculated = false;\r\n\r\n    this.props = createTypedArray('float32', 16);\r\n    this.reset();\r\n  };\r\n}());\r\n\r\n/* eslint-disable */\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\n/* eslint-disable */\r\nvar BezierFactory = (function () {\r\n  /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n  var ob = {};\r\n  ob.getBezierEasing = getBezierEasing;\r\n  var beziers = {};\r\n\r\n  function getBezierEasing(a, b, c, d, nm) {\r\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n    if (beziers[str]) {\r\n      return beziers[str];\r\n    }\r\n    var bezEasing = new BezierEasing([a, b, c, d]);\r\n    beziers[str] = bezEasing;\r\n    return bezEasing;\r\n  }\r\n\r\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n  var NEWTON_ITERATIONS = 4;\r\n  var NEWTON_MIN_SLOPE = 0.001;\r\n  var SUBDIVISION_PRECISION = 0.0000001;\r\n  var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n  function C(aA1) { return 3.0 * aA1; }\r\n\r\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) return aGuessT;\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n  function BezierEasing(points) {\r\n    this._p = points;\r\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n    this._precomputed = false;\r\n\r\n    this.get = this.get.bind(this);\r\n  }\r\n\r\n  BezierEasing.prototype = {\r\n\r\n    get: function (x) {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      if (!this._precomputed) this._precompute();\r\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n      if (x === 0) return 0;\r\n      if (x === 1) return 1;\r\n      return calcBezier(this._getTForX(x), mY1, mY2);\r\n    },\r\n\r\n    // Private part\r\n\r\n    _precompute: function () {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      this._precomputed = true;\r\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\r\n    },\r\n\r\n    _calcSampleValues: function () {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2];\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    },\r\n\r\n    /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n    _getTForX: function (aX) {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2],\r\n        mSampleValues = this._mSampleValues;\r\n\r\n      var intervalStart = 0.0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n      --currentSample;\r\n\r\n      // Interpolate to provide an initial guess for t\r\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      }\r\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n    },\r\n  };\r\n\r\n  return ob;\r\n}());\r\n\r\n(function () {\r\n  var lastTime = 0;\r\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) { // eslint-disable-line no-plusplus\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback) {\r\n      var currTime = new Date().getTime();\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      var id = setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      },\r\n      timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n}());\r\n\r\n/* exported extendPrototype, getDescriptor, createProxyFunction */\r\n\r\nfunction extendPrototype(sources, destination) {\r\n  var i;\r\n  var len = sources.length;\r\n  var sourcePrototype;\r\n  for (i = 0; i < len; i += 1) {\r\n    sourcePrototype = sources[i].prototype;\r\n    for (var attr in sourcePrototype) {\r\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n  return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n  function ProxyFunction() {}\r\n  ProxyFunction.prototype = prototype;\r\n  return ProxyFunction;\r\n}\r\n\r\n/* global segmentsLengthPool, defaultCurveSegments, createSizedArray, bmPow, bmSqrt, bmFloor, createTypedArray, bezierLengthPool */\r\n/* exported bez */\r\n\r\nfunction bezFunction() {\r\n  var math = Math;\r\n\r\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\r\n    return det1 > -0.001 && det1 < 0.001;\r\n  }\r\n\r\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n    }\r\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n    var diffDist;\r\n    if (dist1 > dist2) {\r\n      if (dist1 > dist3) {\r\n        diffDist = dist1 - dist2 - dist3;\r\n      } else {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      }\r\n    } else if (dist3 > dist2) {\r\n      diffDist = dist3 - dist2 - dist1;\r\n    } else {\r\n      diffDist = dist2 - dist1 - dist3;\r\n    }\r\n    return diffDist > -0.0001 && diffDist < 0.0001;\r\n  }\r\n\r\n  var getBezierLength = (function () {\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var curveSegments = defaultCurveSegments;\r\n      var k;\r\n      var i;\r\n      var len;\r\n      var ptCoord;\r\n      var perc;\r\n      var addedLength = 0;\r\n      var ptDistance;\r\n      var point = [];\r\n      var lastPoint = [];\r\n      var lengthData = bezierLengthPool.newElement();\r\n      len = pt3.length;\r\n      for (k = 0; k < curveSegments; k += 1) {\r\n        perc = k / (curveSegments - 1);\r\n        ptDistance = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n          point[i] = ptCoord;\r\n          if (lastPoint[i] !== null) {\r\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n          }\r\n          lastPoint[i] = point[i];\r\n        }\r\n        if (ptDistance) {\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n        }\r\n        lengthData.percents[k] = perc;\r\n        lengthData.lengths[k] = addedLength;\r\n      }\r\n      lengthData.addedLength = addedLength;\r\n      return lengthData;\r\n    };\r\n  }());\r\n\r\n  function getSegmentsLength(shapeData) {\r\n    var segmentsLength = segmentsLengthPool.newElement();\r\n    var closed = shapeData.c;\r\n    var pathV = shapeData.v;\r\n    var pathO = shapeData.o;\r\n    var pathI = shapeData.i;\r\n    var i;\r\n    var len = shapeData._length;\r\n    var lengths = segmentsLength.lengths;\r\n    var totalLength = 0;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    if (closed && len) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    segmentsLength.totalLength = totalLength;\r\n    return segmentsLength;\r\n  }\r\n\r\n  function BezierData(length) {\r\n    this.segmentLength = 0;\r\n    this.points = new Array(length);\r\n  }\r\n\r\n  function PointData(partial, point) {\r\n    this.partialLength = partial;\r\n    this.point = point;\r\n  }\r\n\r\n  var buildBezierData = (function () {\r\n    var storedData = {};\r\n\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n      if (!storedData[bezierName]) {\r\n        var curveSegments = defaultCurveSegments;\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point;\r\n        var lastPoint = null;\r\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n          curveSegments = 2;\r\n        }\r\n        var bezierData = new BezierData(curveSegments);\r\n        len = pt3.length;\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          point = createSizedArray(len);\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n            if (lastPoint !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n          }\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n          bezierData.points[k] = new PointData(ptDistance, point);\r\n          lastPoint = point;\r\n        }\r\n        bezierData.segmentLength = addedLength;\r\n        storedData[bezierName] = bezierData;\r\n      }\r\n      return storedData[bezierName];\r\n    };\r\n  }());\r\n\r\n  function getDistancePerc(perc, bezierData) {\r\n    var percents = bezierData.percents;\r\n    var lengths = bezierData.lengths;\r\n    var len = percents.length;\r\n    var initPos = bmFloor((len - 1) * perc);\r\n    var lengthPos = perc * bezierData.addedLength;\r\n    var lPerc = 0;\r\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n      return percents[initPos];\r\n    }\r\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n    var flag = true;\r\n    while (flag) {\r\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n        flag = false;\r\n      } else {\r\n        initPos += dir;\r\n      }\r\n      if (initPos < 0 || initPos >= len - 1) {\r\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n        if (initPos === len - 1) {\r\n          return percents[initPos];\r\n        }\r\n        flag = false;\r\n      }\r\n    }\r\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n  }\r\n\r\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n    var t1 = getDistancePerc(percent, bezierData);\r\n    var u1 = 1 - t1;\r\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n    return [ptX, ptY];\r\n  }\r\n\r\n  var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n    if (startPerc < 0) {\r\n      startPerc = 0;\r\n    } else if (startPerc > 1) {\r\n      startPerc = 1;\r\n    }\r\n    var t0 = getDistancePerc(startPerc, bezierData);\r\n    endPerc = endPerc > 1 ? 1 : endPerc;\r\n    var t1 = getDistancePerc(endPerc, bezierData);\r\n    var i;\r\n    var len = pt1.length;\r\n    var u0 = 1 - t0;\r\n    var u1 = 1 - t1;\r\n    var u0u0u0 = u0 * u0 * u0;\r\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0t0 = t0 * t0 * t0;\r\n    //\r\n    var u0u0u1 = u0 * u0 * u1;\r\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0t1 = t0 * t0 * t1;\r\n    //\r\n    var u0u1u1 = u0 * u1 * u1;\r\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1t1 = t0 * t1 * t1;\r\n    //\r\n    var u1u1u1 = u1 * u1 * u1;\r\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1t1 = t1 * t1 * t1;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n    }\r\n\r\n    return bezierSegmentPoints;\r\n  }\r\n\r\n  return {\r\n    getSegmentsLength: getSegmentsLength,\r\n    getNewSegment: getNewSegment,\r\n    getPointInSegment: getPointInSegment,\r\n    buildBezierData: buildBezierData,\r\n    pointOnLine2D: pointOnLine2D,\r\n    pointOnLine3D: pointOnLine3D,\r\n  };\r\n}\r\n\r\nvar bez = bezFunction();\r\n\r\n/* exported dataManager */\r\n\r\nfunction dataFunctionManager() {\r\n  // var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n  function completeLayers(layers, comps, fontManager) {\r\n    var layerData;\r\n    var i;\r\n    var len = layers.length;\r\n    var j;\r\n    var jLen;\r\n    var k;\r\n    var kLen;\r\n    for (i = 0; i < len; i += 1) {\r\n      layerData = layers[i];\r\n      if (('ks' in layerData) && !layerData.completed) {\r\n        layerData.completed = true;\r\n        if (layerData.tt) {\r\n          layers[i - 1].td = layerData.tt;\r\n        }\r\n        if (layerData.hasMask) {\r\n          var maskProps = layerData.masksProperties;\r\n          jLen = maskProps.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (maskProps[j].pt.k.i) {\r\n              convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n            } else {\r\n              kLen = maskProps[j].pt.k.length;\r\n              for (k = 0; k < kLen; k += 1) {\r\n                if (maskProps[j].pt.k[k].s) {\r\n                  convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                }\r\n                if (maskProps[j].pt.k[k].e) {\r\n                  convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (layerData.ty === 0) {\r\n          layerData.layers = findCompLayers(layerData.refId, comps);\r\n          completeLayers(layerData.layers, comps, fontManager);\r\n        } else if (layerData.ty === 4) {\r\n          completeShapes(layerData.shapes);\r\n        } else if (layerData.ty === 5) {\r\n          completeText(layerData, fontManager);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function findCompLayers(id, comps) {\r\n    var i = 0;\r\n    var len = comps.length;\r\n    while (i < len) {\r\n      if (comps[i].id === id) {\r\n        if (!comps[i].layers.__used) {\r\n          comps[i].layers.__used = true;\r\n          return comps[i].layers;\r\n        }\r\n        return JSON.parse(JSON.stringify(comps[i].layers));\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function completeShapes(arr) {\r\n    var i;\r\n    var len = arr.length;\r\n    var j;\r\n    var jLen;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (arr[i].ty === 'sh') {\r\n        if (arr[i].ks.k.i) {\r\n          convertPathsToAbsoluteValues(arr[i].ks.k);\r\n        } else {\r\n          jLen = arr[i].ks.k.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (arr[i].ks.k[j].s) {\r\n              convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n            }\r\n            if (arr[i].ks.k[j].e) {\r\n              convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n            }\r\n          }\r\n        }\r\n      } else if (arr[i].ty === 'gr') {\r\n        completeShapes(arr[i].it);\r\n      }\r\n    }\r\n  }\r\n\r\n  function convertPathsToAbsoluteValues(path) {\r\n    var i;\r\n    var len = path.i.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      path.i[i][0] += path.v[i][0];\r\n      path.i[i][1] += path.v[i][1];\r\n      path.o[i][0] += path.v[i][0];\r\n      path.o[i][1] += path.v[i][1];\r\n    }\r\n  }\r\n\r\n  function checkVersion(minimum, animVersionString) {\r\n    var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n    if (minimum[0] > animVersion[0]) {\r\n      return true;\r\n    } if (animVersion[0] > minimum[0]) {\r\n      return false;\r\n    }\r\n    if (minimum[1] > animVersion[1]) {\r\n      return true;\r\n    } if (animVersion[1] > minimum[1]) {\r\n      return false;\r\n    }\r\n    if (minimum[2] > animVersion[2]) {\r\n      return true;\r\n    } if (animVersion[2] > minimum[2]) {\r\n      return false;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  var checkText = (function () {\r\n    var minimumVersion = [4, 4, 14];\r\n\r\n    function updateTextLayer(textLayer) {\r\n      var documentData = textLayer.t.d;\r\n      textLayer.t.d = {\r\n        k: [\r\n          {\r\n            s: documentData,\r\n            t: 0,\r\n          },\r\n        ],\r\n      };\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var i;\r\n      var len = layers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (layers[i].ty === 5) {\r\n          updateTextLayer(layers[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkChars = (function () {\r\n    var minimumVersion = [4, 7, 99];\r\n    return function (animationData) {\r\n      if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n        var i;\r\n        var len = animationData.chars.length;\r\n        var j;\r\n        var jLen;\r\n        var pathData;\r\n        var paths;\r\n        for (i = 0; i < len; i += 1) {\r\n          if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n            paths = animationData.chars[i].data.shapes[0].it;\r\n            jLen = paths.length;\r\n\r\n            for (j = 0; j < jLen; j += 1) {\r\n              pathData = paths[j].ks.k;\r\n              if (!pathData.__converted) {\r\n                convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                pathData.__converted = true;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkColors = (function () {\r\n    var minimumVersion = [4, 1, 9];\r\n\r\n    function iterateShapes(shapes) {\r\n      var i;\r\n      var len = shapes.length;\r\n      var j;\r\n      var jLen;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (shapes[i].ty === 'gr') {\r\n          iterateShapes(shapes[i].it);\r\n        } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n          if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n            jLen = shapes[i].c.k.length;\r\n            for (j = 0; j < jLen; j += 1) {\r\n              if (shapes[i].c.k[j].s) {\r\n                shapes[i].c.k[j].s[0] /= 255;\r\n                shapes[i].c.k[j].s[1] /= 255;\r\n                shapes[i].c.k[j].s[2] /= 255;\r\n                shapes[i].c.k[j].s[3] /= 255;\r\n              }\r\n              if (shapes[i].c.k[j].e) {\r\n                shapes[i].c.k[j].e[0] /= 255;\r\n                shapes[i].c.k[j].e[1] /= 255;\r\n                shapes[i].c.k[j].e[2] /= 255;\r\n                shapes[i].c.k[j].e[3] /= 255;\r\n              }\r\n            }\r\n          } else {\r\n            shapes[i].c.k[0] /= 255;\r\n            shapes[i].c.k[1] /= 255;\r\n            shapes[i].c.k[2] /= 255;\r\n            shapes[i].c.k[3] /= 255;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var i;\r\n      var len = layers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (layers[i].ty === 4) {\r\n          iterateShapes(layers[i].shapes);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  var checkShapes = (function () {\r\n    var minimumVersion = [4, 4, 18];\r\n\r\n    function completeClosingShapes(arr) {\r\n      var i;\r\n      var len = arr.length;\r\n      var j;\r\n      var jLen;\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        if (arr[i].ty === 'sh') {\r\n          if (arr[i].ks.k.i) {\r\n            arr[i].ks.k.c = arr[i].closed;\r\n          } else {\r\n            jLen = arr[i].ks.k.length;\r\n            for (j = 0; j < jLen; j += 1) {\r\n              if (arr[i].ks.k[j].s) {\r\n                arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n              }\r\n              if (arr[i].ks.k[j].e) {\r\n                arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n              }\r\n            }\r\n          }\r\n        } else if (arr[i].ty === 'gr') {\r\n          completeClosingShapes(arr[i].it);\r\n        }\r\n      }\r\n    }\r\n\r\n    function iterateLayers(layers) {\r\n      var layerData;\r\n      var i;\r\n      var len = layers.length;\r\n      var j;\r\n      var jLen;\r\n      var k;\r\n      var kLen;\r\n      for (i = 0; i < len; i += 1) {\r\n        layerData = layers[i];\r\n        if (layerData.hasMask) {\r\n          var maskProps = layerData.masksProperties;\r\n          jLen = maskProps.length;\r\n          for (j = 0; j < jLen; j += 1) {\r\n            if (maskProps[j].pt.k.i) {\r\n              maskProps[j].pt.k.c = maskProps[j].cl;\r\n            } else {\r\n              kLen = maskProps[j].pt.k.length;\r\n              for (k = 0; k < kLen; k += 1) {\r\n                if (maskProps[j].pt.k[k].s) {\r\n                  maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                }\r\n                if (maskProps[j].pt.k[k].e) {\r\n                  maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (layerData.ty === 4) {\r\n          completeClosingShapes(layerData.shapes);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (animationData) {\r\n      if (checkVersion(minimumVersion, animationData.v)) {\r\n        iterateLayers(animationData.layers);\r\n        if (animationData.assets) {\r\n          var i;\r\n          var len = animationData.assets.length;\r\n          for (i = 0; i < len; i += 1) {\r\n            if (animationData.assets[i].layers) {\r\n              iterateLayers(animationData.assets[i].layers);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }());\r\n\r\n  function completeData(animationData, fontManager) {\r\n    if (animationData.__complete) {\r\n      return;\r\n    }\r\n    checkColors(animationData);\r\n    checkText(animationData);\r\n    checkChars(animationData);\r\n    checkShapes(animationData);\r\n    completeLayers(animationData.layers, animationData.assets, fontManager);\r\n    animationData.__complete = true;\r\n  }\r\n\r\n  function completeText(data) {\r\n    if (data.t.a.length === 0 && !('m' in data.t.p)) {\r\n      data.singleShape = true;\r\n    }\r\n  }\r\n\r\n  var moduleOb = {};\r\n  moduleOb.completeData = completeData;\r\n  moduleOb.checkColors = checkColors;\r\n  moduleOb.checkChars = checkChars;\r\n  moduleOb.checkShapes = checkShapes;\r\n  moduleOb.completeLayers = completeLayers;\r\n\r\n  return moduleOb;\r\n}\r\n\r\nvar dataManager = dataFunctionManager();\r\n\r\n/* exported getFontProperties */\r\n\r\nfunction getFontProperties(fontData) {\r\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n  var fWeight = 'normal'; var\r\n    fStyle = 'normal';\r\n  var len = styles.length;\r\n  var styleName;\r\n  for (var i = 0; i < len; i += 1) {\r\n    styleName = styles[i].toLowerCase();\r\n    switch (styleName) {\r\n      case 'italic':\r\n        fStyle = 'italic';\r\n        break;\r\n      case 'bold':\r\n        fWeight = '700';\r\n        break;\r\n      case 'black':\r\n        fWeight = '900';\r\n        break;\r\n      case 'medium':\r\n        fWeight = '500';\r\n        break;\r\n      case 'regular':\r\n      case 'normal':\r\n        fWeight = '400';\r\n        break;\r\n      case 'light':\r\n      case 'thin':\r\n        fWeight = '200';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    style: fStyle,\r\n    weight: fontData.fWeight || fWeight,\r\n  };\r\n}\r\n\r\n/* global createNS, createTag, getFontProperties */\r\n/* exported FontManager */\r\n\r\nvar FontManager = (function () {\r\n  var maxWaitingTime = 5000;\r\n  var emptyChar = {\r\n    w: 0,\r\n    size: 0,\r\n    shapes: [],\r\n  };\r\n  var combinedCharacters = [];\r\n  // Hindi characters\r\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\r\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\r\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n  function trimFontOptions(font) {\r\n    var familyArray = font.split(',');\r\n    var i;\r\n    var len = familyArray.length;\r\n    var enabledFamilies = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n        enabledFamilies.push(familyArray[i]);\r\n      }\r\n    }\r\n    return enabledFamilies.join(',');\r\n  }\r\n\r\n  function setUpNode(font, family) {\r\n    var parentNode = createTag('span');\r\n    parentNode.style.fontFamily = family;\r\n    var node = createTag('span');\r\n    // Characters that vary significantly among different fonts\r\n    node.innerText = 'giItT1WQy@!-/#';\r\n    // Visible - so we can measure it - but not on the screen\r\n    parentNode.style.position = 'absolute';\r\n    parentNode.style.left = '-10000px';\r\n    parentNode.style.top = '-10000px';\r\n    // Large font size makes even subtle changes obvious\r\n    parentNode.style.fontSize = '300px';\r\n    // Reset any font properties\r\n    parentNode.style.fontVariant = 'normal';\r\n    parentNode.style.fontStyle = 'normal';\r\n    parentNode.style.fontWeight = 'normal';\r\n    parentNode.style.letterSpacing = '0';\r\n    parentNode.appendChild(node);\r\n    document.body.appendChild(parentNode);\r\n\r\n    // Remember width with no applied web font\r\n    var width = node.offsetWidth;\r\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n    return { node: node, w: width, parent: parentNode };\r\n  }\r\n\r\n  function checkLoadedFonts() {\r\n    var i;\r\n    var len = this.fonts.length;\r\n    var node;\r\n    var w;\r\n    var loadedCount = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.fonts[i].loaded) {\r\n        loadedCount -= 1;\r\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n        this.fonts[i].loaded = true;\r\n      } else {\r\n        node = this.fonts[i].monoCase.node;\r\n        w = this.fonts[i].monoCase.w;\r\n        if (node.offsetWidth !== w) {\r\n          loadedCount -= 1;\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].sansCase.node;\r\n          w = this.fonts[i].sansCase.w;\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          }\r\n        }\r\n        if (this.fonts[i].loaded) {\r\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n      setTimeout(this.checkLoadedFontsBinded, 20);\r\n    } else {\r\n      setTimeout(this.setIsLoadedBinded, 10);\r\n    }\r\n  }\r\n\r\n  function createHelper(def, fontData) {\r\n    var tHelper = createNS('text');\r\n    tHelper.style.fontSize = '100px';\r\n    // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n    var fontProps = getFontProperties(fontData);\r\n    tHelper.setAttribute('font-family', fontData.fFamily);\r\n    tHelper.setAttribute('font-style', fontProps.style);\r\n    tHelper.setAttribute('font-weight', fontProps.weight);\r\n    tHelper.textContent = '1';\r\n    if (fontData.fClass) {\r\n      tHelper.style.fontFamily = 'inherit';\r\n      tHelper.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      tHelper.style.fontFamily = fontData.fFamily;\r\n    }\r\n    def.appendChild(tHelper);\r\n    var tCanvasHelper = createTag('canvas').getContext('2d');\r\n    tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily;\r\n    // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n    return tHelper;\r\n  }\r\n\r\n  function addFonts(fontData, defs) {\r\n    if (!fontData) {\r\n      this.isLoaded = true;\r\n      return;\r\n    }\r\n    if (this.chars) {\r\n      this.isLoaded = true;\r\n      this.fonts = fontData.list;\r\n      return;\r\n    }\r\n\r\n    var fontArr = fontData.list;\r\n    var i;\r\n    var len = fontArr.length;\r\n    var _pendingFonts = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      var shouldLoadFont = true;\r\n      var loadedSelector;\r\n      var j;\r\n      fontArr[i].loaded = false;\r\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n      if (!fontArr[i].fPath) {\r\n        fontArr[i].loaded = true;\r\n        _pendingFonts -= 1;\r\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n        if (loadedSelector.length > 0) {\r\n          shouldLoadFont = false;\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var s = createTag('style');\r\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          s.setAttribute('f-origin', fontArr[i].origin);\r\n          s.setAttribute('f-family', fontArr[i].fFamily);\r\n          s.type = 'text/css';\r\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n          defs.appendChild(s);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var l = createTag('link');\r\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          l.setAttribute('f-origin', fontArr[i].origin);\r\n          l.type = 'text/css';\r\n          l.rel = 'stylesheet';\r\n          l.href = fontArr[i].fPath;\r\n          document.body.appendChild(l);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (fontArr[i].fPath === loadedSelector[j].src) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var sc = createTag('link');\r\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          sc.setAttribute('f-origin', fontArr[i].origin);\r\n          sc.setAttribute('rel', 'stylesheet');\r\n          sc.setAttribute('href', fontArr[i].fPath);\r\n          defs.appendChild(sc);\r\n        }\r\n      }\r\n      fontArr[i].helper = createHelper(defs, fontArr[i]);\r\n      fontArr[i].cache = {};\r\n      this.fonts.push(fontArr[i]);\r\n    }\r\n    if (_pendingFonts === 0) {\r\n      this.isLoaded = true;\r\n    } else {\r\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n      // Adding this timeout seems to fix it\r\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n    }\r\n  }\r\n\r\n  function addChars(chars) {\r\n    if (!chars) {\r\n      return;\r\n    }\r\n    if (!this.chars) {\r\n      this.chars = [];\r\n    }\r\n    var i;\r\n    var len = chars.length;\r\n    var j;\r\n    var jLen = this.chars.length;\r\n    var found;\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n      found = false;\r\n      while (j < jLen) {\r\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n          found = true;\r\n        }\r\n        j += 1;\r\n      }\r\n      if (!found) {\r\n        this.chars.push(chars[i]);\r\n        jLen += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getCharData(char, style, font) {\r\n    var i = 0;\r\n    var len = this.chars.length;\r\n    while (i < len) {\r\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n        return this.chars[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\r\n            && console\r\n            && console.warn // eslint-disable-line no-console\r\n            && !this._warned\r\n    ) {\r\n      this._warned = true;\r\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\r\n    }\r\n    return emptyChar;\r\n  }\r\n\r\n  function measureText(char, fontName, size) {\r\n    var fontData = this.getFontByName(fontName);\r\n    var index = char.charCodeAt(0);\r\n    if (!fontData.cache[index + 1]) {\r\n      var tHelper = fontData.helper;\r\n      // Canvas version\r\n      // fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n      // SVG version\r\n      // console.log(tHelper.getBBox().width)\r\n      if (char === ' ') {\r\n        tHelper.textContent = '|' + char + '|';\r\n        var doubleSize = tHelper.getComputedTextLength();\r\n        tHelper.textContent = '||';\r\n        var singleSize = tHelper.getComputedTextLength();\r\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n      } else {\r\n        tHelper.textContent = char;\r\n        fontData.cache[index + 1] = (tHelper.getComputedTextLength()) / 100;\r\n      }\r\n    }\r\n    return fontData.cache[index + 1] * size;\r\n  }\r\n\r\n  function getFontByName(name) {\r\n    var i = 0;\r\n    var len = this.fonts.length;\r\n    while (i < len) {\r\n      if (this.fonts[i].fName === name) {\r\n        return this.fonts[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    return this.fonts[0];\r\n  }\r\n\r\n  function getCombinedCharacterCodes() {\r\n    return combinedCharacters;\r\n  }\r\n\r\n  function setIsLoaded() {\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  var Font = function () {\r\n    this.fonts = [];\r\n    this.chars = null;\r\n    this.typekitLoaded = 0;\r\n    this.isLoaded = false;\r\n    this._warned = false;\r\n    this.initTime = Date.now();\r\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n  };\r\n    // TODO: for now I'm adding these methods to the Class and not the prototype. Think of a better way to implement it.\r\n  Font.getCombinedCharacterCodes = getCombinedCharacterCodes;\r\n\r\n  var fontPrototype = {\r\n    addChars: addChars,\r\n    addFonts: addFonts,\r\n    getCharData: getCharData,\r\n    getFontByName: getFontByName,\r\n    measureText: measureText,\r\n    checkLoadedFonts: checkLoadedFonts,\r\n    setIsLoaded: setIsLoaded,\r\n  };\r\n\r\n  Font.prototype = fontPrototype;\r\n\r\n  return Font;\r\n}());\r\n\r\n/* global initialDefaultFrame, BezierFactory, degToRads, bez, createTypedArray */\r\n/* exported PropertyFactory */\r\n\r\nvar PropertyFactory = (function () {\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n      if ((nextKeyData.t - offsetTime) > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n    if (keyData.to) {\r\n      if (!keyData.bezierData) {\r\n        keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n      var bezierData = keyData.bezierData;\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        }\r\n        // caching._lastKeyframeIndex = -1;\r\n      } else {\r\n        if (keyData.__fnct) {\r\n          fnc = keyData.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyData.__fnct = fnc;\r\n        }\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n\r\n        var segmentPerc;\r\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n            break;\r\n          }\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyData.__fnct) {\r\n                  keyData.__fnct = [];\r\n                }\r\n                if (!keyData.__fnct[i]) {\r\n                  outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyData.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyData.__fnct[i];\r\n                }\r\n              } else if (!keyData.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.__fnct = fnc;\r\n              } else {\r\n                fnc = keyData.__fnct;\r\n              }\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  }\r\n\r\n  // based on @Toji's https://github.com/toji/gl-matrix/\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function getProp(elem, data, type, mult, container) {\r\n    var p;\r\n    if (!data.k.length) {\r\n      p = new ValueProperty(elem, data, mult, container);\r\n    } else if (typeof (data.k[0]) === 'number') {\r\n      p = new MultiDimensionalProperty(elem, data, mult, container);\r\n    } else {\r\n      switch (type) {\r\n        case 0:\r\n          p = new KeyframedValueProperty(elem, data, mult, container);\r\n          break;\r\n        case 1:\r\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    if (p.effectsSequence.length) {\r\n      container.addDynamicProperty(p);\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var ob = {\r\n    getProp: getProp,\r\n  };\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix, degToRads, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n/* exported TransformPropertyFactory */\r\n\r\nvar TransformPropertyFactory = (function () {\r\n  var defaultVector = [0, 0];\r\n\r\n  function applyToMatrix(mat) {\r\n    var _mdf = this._mdf;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || _mdf;\r\n    if (this.a) {\r\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n    }\r\n    if (this.s) {\r\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n    }\r\n    if (this.sk) {\r\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n    }\r\n    if (this.r) {\r\n      mat.rotate(-this.r.v);\r\n    } else {\r\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n    }\r\n    if (this.data.p.s) {\r\n      if (this.data.p.z) {\r\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n      } else {\r\n        mat.translate(this.px.v, this.py.v, 0);\r\n      }\r\n    } else {\r\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n    }\r\n  }\r\n  function processKeys(forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n    if (this._isDirty) {\r\n      this.precalculateMatrix();\r\n      this._isDirty = false;\r\n    }\r\n\r\n    this.iterateDynamicProperties();\r\n\r\n    if (this._mdf || forceRender) {\r\n      var frameRate;\r\n      this.v.cloneFromProps(this.pre.props);\r\n      if (this.appliedTransformations < 1) {\r\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n      if (this.appliedTransformations < 2) {\r\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        this.v.rotate(-this.r.v);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n          .rotateY(this.or.v[1])\r\n          .rotateX(this.or.v[0]);\r\n      }\r\n      if (this.autoOriented) {\r\n        var v1;\r\n        var v2;\r\n        frameRate = this.elem.globalData.frameRate;\r\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n          } else {\r\n            v1 = this.p.pv;\r\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n          }\r\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n          v1 = [];\r\n          v2 = [];\r\n          var px = this.px;\r\n          var py = this.py;\r\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\r\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n          } else {\r\n            v1 = [px.pv, py.pv];\r\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n          }\r\n        } else {\r\n          v2 = defaultVector;\r\n          v1 = v2;\r\n        }\r\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n      }\r\n      if (this.data.p && this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          this.v.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function precalculateMatrix() {\r\n    if (!this.a.k) {\r\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      this.appliedTransformations = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    if (!this.s.effectsSequence.length) {\r\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      this.appliedTransformations = 2;\r\n    } else {\r\n      return;\r\n    }\r\n    if (this.sk) {\r\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n        this.appliedTransformations = 3;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    if (this.r) {\r\n      if (!this.r.effectsSequence.length) {\r\n        this.pre.rotate(-this.r.v);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n      this.appliedTransformations = 4;\r\n    }\r\n  }\r\n\r\n  function autoOrient() {\r\n    //\r\n    // var prevP = this.getValueAtTime();\r\n  }\r\n\r\n  function addDynamicProperty(prop) {\r\n    this._addDynamicProperty(prop);\r\n    this.elem.addDynamicProperty(prop);\r\n    this._isDirty = true;\r\n  }\r\n\r\n  function TransformProperty(elem, data, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.propType = 'transform';\r\n    this.data = data;\r\n    this.v = new Matrix();\r\n    // Precalculated matrix with non animated properties\r\n    this.pre = new Matrix();\r\n    this.appliedTransformations = 0;\r\n    this.initDynamicPropertyContainer(container || elem);\r\n    if (data.p && data.p.s) {\r\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n      if (data.p.z) {\r\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n      }\r\n    } else {\r\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\r\n    }\r\n    if (data.rx) {\r\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n      if (data.or.k[0].ti) {\r\n        var i;\r\n        var len = data.or.k.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          data.or.k[i].to = null;\r\n          data.or.k[i].ti = null;\r\n        }\r\n      }\r\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n      // sh Indicates it needs to be capped between -180 and 180\r\n      this.or.sh = true;\r\n    } else {\r\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\r\n    }\r\n    if (data.sk) {\r\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n    }\r\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\r\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n    if (data.o) {\r\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n    } else {\r\n      this.o = { _mdf: false, v: 1 };\r\n    }\r\n    this._isDirty = true;\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n  }\r\n\r\n  TransformProperty.prototype = {\r\n    applyToMatrix: applyToMatrix,\r\n    getValue: processKeys,\r\n    precalculateMatrix: precalculateMatrix,\r\n    autoOrient: autoOrient,\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n  function getTransformProperty(elem, data, container) {\r\n    return new TransformProperty(elem, data, container);\r\n  }\r\n\r\n  return {\r\n    getTransformProperty: getTransformProperty,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, createSizedArray, pointPool */\r\n\r\nfunction ShapePath() {\r\n  this.c = false;\r\n  this._length = 0;\r\n  this._maxLength = 8;\r\n  this.v = createSizedArray(this._maxLength);\r\n  this.o = createSizedArray(this._maxLength);\r\n  this.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function (closed, len) {\r\n  this.c = closed;\r\n  this.setLength(len);\r\n  var i = 0;\r\n  while (i < len) {\r\n    this.v[i] = pointPool.newElement();\r\n    this.o[i] = pointPool.newElement();\r\n    this.i[i] = pointPool.newElement();\r\n    i += 1;\r\n  }\r\n};\r\n\r\nShapePath.prototype.setLength = function (len) {\r\n  while (this._maxLength < len) {\r\n    this.doubleArrayLength();\r\n  }\r\n  this._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function () {\r\n  this.v = this.v.concat(createSizedArray(this._maxLength));\r\n  this.i = this.i.concat(createSizedArray(this._maxLength));\r\n  this.o = this.o.concat(createSizedArray(this._maxLength));\r\n  this._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n  var arr;\r\n  this._length = Math.max(this._length, pos + 1);\r\n  if (this._length >= this._maxLength) {\r\n    this.doubleArrayLength();\r\n  }\r\n  switch (type) {\r\n    case 'v':\r\n      arr = this.v;\r\n      break;\r\n    case 'i':\r\n      arr = this.i;\r\n      break;\r\n    case 'o':\r\n      arr = this.o;\r\n      break;\r\n    default:\r\n      arr = [];\r\n      break;\r\n  }\r\n  if (!arr[pos] || (arr[pos] && !replace)) {\r\n    arr[pos] = pointPool.newElement();\r\n  }\r\n  arr[pos][0] = x;\r\n  arr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n  this.setXYAt(vX, vY, 'v', pos, replace);\r\n  this.setXYAt(oX, oY, 'o', pos, replace);\r\n  this.setXYAt(iX, iY, 'i', pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function () {\r\n  var newPath = new ShapePath();\r\n  newPath.setPathData(this.c, this._length);\r\n  var vertices = this.v;\r\n  var outPoints = this.o;\r\n  var inPoints = this.i;\r\n  var init = 0;\r\n  if (this.c) {\r\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n    init = 1;\r\n  }\r\n  var cnt = this._length - 1;\r\n  var len = this._length;\r\n\r\n  var i;\r\n  for (i = init; i < len; i += 1) {\r\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n    cnt -= 1;\r\n  }\r\n  return newPath;\r\n};\r\n\r\n/* global extendPrototype, roundCorner, BezierFactory, shapePool, degToRads,\r\n  shapeCollectionPool, PropertyFactory, bmMin, DynamicPropertyContainer */\r\n/* exported ShapePropertyFactory */\r\n\r\nvar ShapePropertyFactory = (function () {\r\n  var initFrame = -999999;\r\n\r\n  function interpolateShape(frameNum, previousValue, caching) {\r\n    var iterationIndex = caching.lastIndex;\r\n    var keyPropS;\r\n    var keyPropE;\r\n    var isHold;\r\n    var j;\r\n    var k;\r\n    var jLen;\r\n    var kLen;\r\n    var perc;\r\n    var vertexValue;\r\n    var kf = this.keyframes;\r\n    if (frameNum < kf[0].t - this.offsetTime) {\r\n      keyPropS = kf[0].s[0];\r\n      isHold = true;\r\n      iterationIndex = 0;\r\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n      /* if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            } */\r\n      isHold = true;\r\n    } else {\r\n      var i = iterationIndex;\r\n      var len = kf.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      while (flag) {\r\n        keyData = kf[i];\r\n        nextKeyData = kf[i + 1];\r\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\r\n          break;\r\n        }\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n      isHold = keyData.h === 1;\r\n      iterationIndex = i;\r\n      if (!isHold) {\r\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n          perc = 1;\r\n        } else if (frameNum < keyData.t - this.offsetTime) {\r\n          perc = 0;\r\n        } else {\r\n          var fnc;\r\n          if (keyData.__fnct) {\r\n            fnc = keyData.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n            keyData.__fnct = fnc;\r\n          }\r\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\r\n        }\r\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n      }\r\n      keyPropS = keyData.s[0];\r\n    }\r\n    jLen = previousValue._length;\r\n    kLen = keyPropS.i[0].length;\r\n    caching.lastIndex = iterationIndex;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      for (k = 0; k < kLen; k += 1) {\r\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n        previousValue.i[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n        previousValue.o[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n        previousValue.v[j][k] = vertexValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  function interpolateShapeCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    var lastFrame = this._caching.lastFrame;\r\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\r\n      /// /\r\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n      this.interpolateShape(frameNum, this.pv, this._caching);\r\n      /// /\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function resetShape() {\r\n    this.paths = this.localShapeCollection;\r\n  }\r\n\r\n  function shapesEqual(shape1, shape2) {\r\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n      return false;\r\n    }\r\n    var i;\r\n    var len = shape1._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shape1.v[i][0] !== shape2.v[i][0]\r\n            || shape1.v[i][1] !== shape2.v[i][1]\r\n            || shape1.o[i][0] !== shape2.o[i][0]\r\n            || shape1.o[i][1] !== shape2.o[i][1]\r\n            || shape1.i[i][0] !== shape2.i[i][0]\r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function setVValue(newPath) {\r\n    if (!shapesEqual(this.v, newPath)) {\r\n      this.v = shapePool.clone(newPath);\r\n      this.localShapeCollection.releaseShapes();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this._mdf = true;\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    } if (!this.effectsSequence.length) {\r\n      this._mdf = false;\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var finalValue;\r\n    if (this.kf) {\r\n      finalValue = this.pv;\r\n    } else if (this.data.ks) {\r\n      finalValue = this.data.ks.k;\r\n    } else {\r\n      finalValue = this.data.pt.k;\r\n    }\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function ShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.container = elem;\r\n    this.elem = elem;\r\n    this.data = data;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this._mdf = false;\r\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n    this.v = shapePool.clone(pathData);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.reset = resetShape;\r\n    this.effectsSequence = [];\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  ShapeProperty.prototype.getValue = processEffectsSequence;\r\n  ShapeProperty.prototype.setVValue = setVValue;\r\n  ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  function KeyframedShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.container = elem;\r\n    this.offsetTime = elem.data.st;\r\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n    this.k = true;\r\n    this.kf = true;\r\n    var len = this.keyframes[0].s[0].i.length;\r\n    this.v = shapePool.newElement();\r\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.lastFrame = initFrame;\r\n    this.reset = resetShape;\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\r\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n  }\r\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  var EllShapeProperty = (function () {\r\n    var cPoint = roundCorner;\r\n\r\n    function EllShapePropertyFactory(elem, data) {\r\n      /* this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            }; */\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 4);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.d = data.d;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertEllToPath();\r\n      }\r\n    }\r\n\r\n    EllShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf) {\r\n          this.convertEllToPath();\r\n        }\r\n      },\r\n      convertEllToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var s0 = this.s.v[0] / 2;\r\n        var s1 = this.s.v[1] / 2;\r\n        var _cw = this.d !== 3;\r\n        var _v = this.v;\r\n        _v.v[0][0] = p0;\r\n        _v.v[0][1] = p1 - s1;\r\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.v[1][1] = p1;\r\n        _v.v[2][0] = p0;\r\n        _v.v[2][1] = p1 + s1;\r\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.v[3][1] = p1;\r\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.i[0][1] = p1 - s1;\r\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.i[1][1] = p1 - s1 * cPoint;\r\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.i[2][1] = p1 + s1;\r\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.i[3][1] = p1 + s1 * cPoint;\r\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.o[0][1] = p1 - s1;\r\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.o[1][1] = p1 + s1 * cPoint;\r\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.o[2][1] = p1 + s1;\r\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.o[3][1] = p1 - s1 * cPoint;\r\n      },\r\n    };\r\n\r\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n\r\n    return EllShapePropertyFactory;\r\n  }());\r\n\r\n  var StarShapeProperty = (function () {\r\n    function StarShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 0);\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.data = data;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      if (data.sy === 1) {\r\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n        this.convertToPath = this.convertStarToPath;\r\n      } else {\r\n        this.convertToPath = this.convertPolygonToPath;\r\n      }\r\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertToPath();\r\n      }\r\n    }\r\n\r\n    StarShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertToPath();\r\n        }\r\n      },\r\n      convertStarToPath: function () {\r\n        var numPts = Math.floor(this.pt.v) * 2;\r\n        var angle = (Math.PI * 2) / numPts;\r\n        /* this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts; */\r\n        var longFlag = true;\r\n        var longRad = this.or.v;\r\n        var shortRad = this.ir.v;\r\n        var longRound = this.os.v;\r\n        var shortRound = this.is.v;\r\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\r\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\r\n        var i;\r\n        var rad;\r\n        var roundness;\r\n        var perimSegment;\r\n        var currentAng = -Math.PI / 2;\r\n        currentAng += this.r.v;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          rad = longFlag ? longRad : shortRad;\r\n          roundness = longFlag ? longRound : shortRound;\r\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n\r\n          /* this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts; */\r\n          longFlag = !longFlag;\r\n          currentAng += angle * dir;\r\n        }\r\n      },\r\n      convertPolygonToPath: function () {\r\n        var numPts = Math.floor(this.pt.v);\r\n        var angle = (Math.PI * 2) / numPts;\r\n        var rad = this.or.v;\r\n        var roundness = this.os.v;\r\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\r\n        var i;\r\n        var currentAng = -Math.PI * 0.5;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        currentAng += this.r.v;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n          currentAng += angle * dir;\r\n        }\r\n        this.paths.length = 0;\r\n        this.paths[0] = this.v;\r\n      },\r\n\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n\r\n    return StarShapePropertyFactory;\r\n  }());\r\n\r\n  var RectShapeProperty = (function () {\r\n    function RectShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.c = true;\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertRectToPath();\r\n      }\r\n    }\r\n\r\n    RectShapePropertyFactory.prototype = {\r\n      convertRectToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var v0 = this.s.v[0] / 2;\r\n        var v1 = this.s.v[1] / 2;\r\n        var round = bmMin(v0, v1, this.r.v);\r\n        var cPoint = round * (1 - roundCorner);\r\n        this.v._length = 0;\r\n\r\n        if (this.d === 2 || this.d === 1) {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n          }\r\n        } else {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n          }\r\n        }\r\n      },\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertRectToPath();\r\n        }\r\n      },\r\n      reset: resetShape,\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n\r\n    return RectShapePropertyFactory;\r\n  }());\r\n\r\n  function getShapeProp(elem, data, type) {\r\n    var prop;\r\n    if (type === 3 || type === 4) {\r\n      var dataProp = type === 3 ? data.pt : data.ks;\r\n      var keys = dataProp.k;\r\n      if (keys.length) {\r\n        prop = new KeyframedShapeProperty(elem, data, type);\r\n      } else {\r\n        prop = new ShapeProperty(elem, data, type);\r\n      }\r\n    } else if (type === 5) {\r\n      prop = new RectShapeProperty(elem, data);\r\n    } else if (type === 6) {\r\n      prop = new EllShapeProperty(elem, data);\r\n    } else if (type === 7) {\r\n      prop = new StarShapeProperty(elem, data);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  }\r\n\r\n  function getConstructorFunction() {\r\n    return ShapeProperty;\r\n  }\r\n\r\n  function getKeyframedConstructorFunction() {\r\n    return KeyframedShapeProperty;\r\n  }\r\n\r\n  var ob = {};\r\n  ob.getShapeProp = getShapeProp;\r\n  ob.getConstructorFunction = getConstructorFunction;\r\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n  return ob;\r\n}());\r\n\r\n/* global shapeCollectionPool, initialDefaultFrame, extendPrototype, DynamicPropertyContainer */\r\n/* exported ShapeModifiers */\r\n\r\nvar ShapeModifiers = (function () {\r\n  var ob = {};\r\n  var modifiers = {};\r\n  ob.registerModifier = registerModifier;\r\n  ob.getModifier = getModifier;\r\n\r\n  function registerModifier(nm, factory) {\r\n    if (!modifiers[nm]) {\r\n      modifiers[nm] = factory;\r\n    }\r\n  }\r\n\r\n  function getModifier(nm, elem, data) {\r\n    return new modifiers[nm](elem, data);\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\nfunction ShapeModifier() {}\r\nShapeModifier.prototype.initModifierProperties = function () {};\r\nShapeModifier.prototype.addShapeToModifier = function () {};\r\nShapeModifier.prototype.addShape = function (data) {\r\n  if (!this.closed) {\r\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n    data.sh.container.addDynamicProperty(data.sh);\r\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\r\n    this.shapes.push(shapeData);\r\n    this.addShapeToModifier(shapeData);\r\n    if (this._isAnimated) {\r\n      data.setAsAnimated();\r\n    }\r\n  }\r\n};\r\nShapeModifier.prototype.init = function (elem, data) {\r\n  this.shapes = [];\r\n  this.elem = elem;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, data);\r\n  this.frameId = initialDefaultFrame;\r\n  this.closed = false;\r\n  this.k = false;\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\nShapeModifier.prototype.processKeys = function () {\r\n  if (this.elem.globalData.frameId === this.frameId) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, segmentsLengthPool, bez, shapePool, ShapeModifiers */\r\n\r\nfunction TrimModifier() {\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n  this.sValue = 0;\r\n  this.eValue = 0;\r\n  this.getValue = this.processKeys;\r\n  this.m = data.m;\r\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n  shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n  var segments = [];\r\n  if (e <= 1) {\r\n    segments.push({\r\n      s: s,\r\n      e: e,\r\n    });\r\n  } else if (s >= 1) {\r\n    segments.push({\r\n      s: s - 1,\r\n      e: e - 1,\r\n    });\r\n  } else {\r\n    segments.push({\r\n      s: s,\r\n      e: 1,\r\n    });\r\n    segments.push({\r\n      s: 0,\r\n      e: e - 1,\r\n    });\r\n  }\r\n  var shapeSegments = [];\r\n  var i;\r\n  var len = segments.length;\r\n  var segmentOb;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentOb = segments[i];\r\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n      var shapeS;\r\n      var shapeE;\r\n      if (segmentOb.s * totalModifierLength <= addedLength) {\r\n        shapeS = 0;\r\n      } else {\r\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n      }\r\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n        shapeE = 1;\r\n      } else {\r\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n      }\r\n      shapeSegments.push([shapeS, shapeE]);\r\n    }\r\n  }\r\n  if (!shapeSegments.length) {\r\n    shapeSegments.push([0, 0]);\r\n  }\r\n  return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function (pathsData) {\r\n  var i;\r\n  var len = pathsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentsLengthPool.release(pathsData[i]);\r\n  }\r\n  pathsData.length = 0;\r\n  return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var s;\r\n  var e;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var o = (this.o.v % 360) / 360;\r\n    if (o < 0) {\r\n      o += 1;\r\n    }\r\n    if (this.s.v > 1) {\r\n      s = 1 + o;\r\n    } else if (this.s.v < 0) {\r\n      s = 0 + o;\r\n    } else {\r\n      s = this.s.v + o;\r\n    }\r\n    if (this.e.v > 1) {\r\n      e = 1 + o;\r\n    } else if (this.e.v < 0) {\r\n      e = 0 + o;\r\n    } else {\r\n      e = this.e.v + o;\r\n    }\r\n\r\n    if (s > e) {\r\n      var _s = s;\r\n      s = e;\r\n      e = _s;\r\n    }\r\n    s = Math.round(s * 10000) * 0.0001;\r\n    e = Math.round(e * 10000) * 0.0001;\r\n    this.sValue = s;\r\n    this.eValue = e;\r\n  } else {\r\n    s = this.sValue;\r\n    e = this.eValue;\r\n  }\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var pathsData;\r\n  var pathData;\r\n  var totalShapeLength;\r\n  var totalModifierLength = 0;\r\n\r\n  if (e === s) {\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].localShapeCollection.releaseShapes();\r\n      this.shapes[i].shape._mdf = true;\r\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n      if (this._mdf) {\r\n        this.shapes[i].pathsData.length = 0;\r\n      }\r\n    }\r\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\r\n    var segments = [];\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      } else {\r\n        shapePaths = shapeData.shape.paths;\r\n        jLen = shapePaths._length;\r\n        totalShapeLength = 0;\r\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n          totalShapeLength = shapeData.totalShapeLength;\r\n        } else {\r\n          pathsData = this.releasePathsData(shapeData.pathsData);\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n            pathsData.push(pathData);\r\n            totalShapeLength += pathData.totalLength;\r\n          }\r\n          shapeData.totalShapeLength = totalShapeLength;\r\n          shapeData.pathsData = pathsData;\r\n        }\r\n\r\n        totalModifierLength += totalShapeLength;\r\n        shapeData.shape._mdf = true;\r\n      }\r\n    }\r\n    var shapeS = s;\r\n    var shapeE = e;\r\n    var addedLength = 0;\r\n    var edges;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shapeData = this.shapes[i];\r\n      if (shapeData.shape._mdf) {\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n        localShapeCollection.releaseShapes();\r\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n        if (this.m === 2 && len > 1) {\r\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n          addedLength += shapeData.totalShapeLength;\r\n        } else {\r\n          edges = [[shapeS, shapeE]];\r\n        }\r\n        jLen = edges.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          shapeS = edges[j][0];\r\n          shapeE = edges[j][1];\r\n          segments.length = 0;\r\n          if (shapeE <= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength * shapeE,\r\n            });\r\n          } else if (shapeS >= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * (shapeS - 1),\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          } else {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength,\r\n            });\r\n            segments.push({\r\n              s: 0,\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          }\r\n          var newShapesData = this.addShapes(shapeData, segments[0]);\r\n          if (segments[0].s !== segments[0].e) {\r\n            if (segments.length > 1) {\r\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n              if (lastShapeInCollection.c) {\r\n                var lastShape = newShapesData.pop();\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n              } else {\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1]);\r\n              }\r\n            }\r\n            this.addPaths(newShapesData, localShapeCollection);\r\n          }\r\n        }\r\n        shapeData.shape.paths = localShapeCollection;\r\n      }\r\n    }\r\n  } else if (this._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n      // Don't remove this even if it's losing cached info.\r\n      this.shapes[i].pathsData.length = 0;\r\n      this.shapes[i].shape._mdf = true;\r\n    }\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n  var i;\r\n  var len = newPaths.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    localShapeCollection.addShape(newPaths[i]);\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n  var pathsData = shapeData.pathsData;\r\n  var shapePaths = shapeData.shape.paths.shapes;\r\n  var i;\r\n  var len = shapeData.shape.paths._length;\r\n  var j;\r\n  var jLen;\r\n  var addedLength = 0;\r\n  var currentLengthData;\r\n  var segmentCount;\r\n  var lengths;\r\n  var segment;\r\n  var shapes = [];\r\n  var initPos;\r\n  var newShape = true;\r\n  if (!shapePath) {\r\n    shapePath = shapePool.newElement();\r\n    segmentCount = 0;\r\n    initPos = 0;\r\n  } else {\r\n    segmentCount = shapePath._length;\r\n    initPos = shapePath._length;\r\n  }\r\n  shapes.push(shapePath);\r\n  for (i = 0; i < len; i += 1) {\r\n    lengths = pathsData[i].lengths;\r\n    shapePath.c = shapePaths[i].c;\r\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n    for (j = 1; j < jLen; j += 1) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n        addedLength += currentLengthData.addedLength;\r\n        shapePath.c = false;\r\n      } else if (addedLength > shapeSegment.e) {\r\n        shapePath.c = false;\r\n        break;\r\n      } else {\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n    }\r\n    if (shapePaths[i].c && lengths.length) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength <= shapeSegment.e) {\r\n        var segmentLength = lengths[j - 1].addedLength;\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n      } else {\r\n        shapePath.c = false;\r\n      }\r\n      addedLength += currentLengthData.addedLength;\r\n      segmentCount += 1;\r\n    }\r\n    if (shapePath._length) {\r\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n    }\r\n    if (addedLength > shapeSegment.e) {\r\n      break;\r\n    }\r\n    if (i < len - 1) {\r\n      shapePath = shapePool.newElement();\r\n      newShape = true;\r\n      shapes.push(shapePath);\r\n      segmentCount = 0;\r\n    }\r\n  }\r\n  return shapes;\r\n};\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, roundCorner, ShapeModifiers */\r\n\r\nfunction RoundCornersModifier() {}\r\nextendPrototype([ShapeModifier], RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n  this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function (path, round) {\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var i;\r\n  var len = path._length;\r\n  var currentV;\r\n  var currentI;\r\n  var currentO;\r\n  var closerV;\r\n  var distance;\r\n  var newPosPerc;\r\n  var index = 0;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentV = path.v[i];\r\n    currentO = path.o[i];\r\n    currentI = path.i[i];\r\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n      if ((i === 0 || i === len - 1) && !path.c) {\r\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n        /* clonedPath.v[index] = currentV;\r\n                clonedPath.o[index] = currentO;\r\n                clonedPath.i[index] = currentI; */\r\n        index += 1;\r\n      } else {\r\n        if (i === 0) {\r\n          closerV = path.v[len - 1];\r\n        } else {\r\n          closerV = path.v[i - 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = iX;\r\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n        vY = iY;\r\n        oX = vX - (vX - currentV[0]) * roundCorner;\r\n        oY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n\r\n        if (i === len - 1) {\r\n          closerV = path.v[0];\r\n        } else {\r\n          closerV = path.v[i + 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = oX;\r\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n        vY = oY;\r\n        iX = vX - (vX - currentV[0]) * roundCorner;\r\n        iY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n      }\r\n    } else {\r\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n      index += 1;\r\n    }\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var rd = this.rd.v;\r\n\r\n  if (rd !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, ShapeModifiers */\r\n\r\nfunction PuckerAndBloatModifier() {}\r\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n  this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n  var percent = amount / 100;\r\n  var centerPoint = [0, 0];\r\n  var pathLength = path._length;\r\n  var i = 0;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    centerPoint[0] += path.v[i][0];\r\n    centerPoint[1] += path.v[i][1];\r\n  }\r\n  centerPoint[0] /= pathLength;\r\n  centerPoint[1] /= pathLength;\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var amount = this.amount.v;\r\n\r\n  if (amount !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, TransformPropertyFactory, PropertyFactory, Matrix, ShapeModifiers */\r\n\r\nfunction RepeaterModifier() {}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n  this.data = data;\r\n  if (!this.dynamicProperties.length) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = !!this.dynamicProperties.length;\r\n  this.pMatrix = new Matrix();\r\n  this.rMatrix = new Matrix();\r\n  this.sMatrix = new Matrix();\r\n  this.tMatrix = new Matrix();\r\n  this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n  var dir = inv ? -1 : 1;\r\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  rMatrix.rotate(-transform.r.v * dir * perc);\r\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n  this.elem = elem;\r\n  this.arr = arr;\r\n  this.pos = pos;\r\n  this.elemsData = elemsData;\r\n  this._currentCopies = 0;\r\n  this._elements = [];\r\n  this._groups = [];\r\n  this.frameId = -1;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, arr[pos]);\r\n  while (pos > 0) {\r\n    pos -= 1;\r\n    // this._elements.unshift(arr.splice(pos,1)[0]);\r\n    this._elements.unshift(arr[pos]);\r\n  }\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function (elements) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._processed = false;\r\n    if (elements[i].ty === 'gr') {\r\n      this.resetElements(elements[i].it);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function (elements) {\r\n  var newElements = JSON.parse(JSON.stringify(elements));\r\n  this.resetElements(newElements);\r\n  return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._render = renderFlag;\r\n    if (elements[i].ty === 'gr') {\r\n      this.changeGroupRender(elements[i].it, renderFlag);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var items;\r\n  var itemsTransform;\r\n  var i;\r\n  var dir;\r\n  var cont;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var copies = Math.ceil(this.c.v);\r\n    if (this._groups.length < copies) {\r\n      while (this._groups.length < copies) {\r\n        var group = {\r\n          it: this.cloneElements(this._elements),\r\n          ty: 'gr',\r\n        };\r\n        group.it.push({\r\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\r\n        });\r\n\r\n        this.arr.splice(0, 0, group);\r\n        this._groups.splice(0, 0, group);\r\n        this._currentCopies += 1;\r\n      }\r\n      this.elem.reloadShapes();\r\n    }\r\n    cont = 0;\r\n    var renderFlag;\r\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n      renderFlag = cont < copies;\r\n      this._groups[i]._render = renderFlag;\r\n      this.changeGroupRender(this._groups[i].it, renderFlag);\r\n      cont += 1;\r\n    }\r\n\r\n    this._currentCopies = copies;\r\n    /// /\r\n\r\n    var offset = this.o.v;\r\n    var offsetModulo = offset % 1;\r\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n    var pProps = this.pMatrix.props;\r\n    var rProps = this.rMatrix.props;\r\n    var sProps = this.sMatrix.props;\r\n    this.pMatrix.reset();\r\n    this.rMatrix.reset();\r\n    this.sMatrix.reset();\r\n    this.tMatrix.reset();\r\n    this.matrix.reset();\r\n    var iteration = 0;\r\n\r\n    if (offset > 0) {\r\n      while (iteration < roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        iteration += 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n        iteration += offsetModulo;\r\n      }\r\n    } else if (offset < 0) {\r\n      while (iteration > roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n        iteration -= 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n        iteration -= offsetModulo;\r\n      }\r\n    }\r\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n    dir = this.data.m === 1 ? 1 : -1;\r\n    cont = this._currentCopies;\r\n    var j;\r\n    var jLen;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      jLen = itemsTransform.length;\r\n      items[items.length - 1].transform.mProps._mdf = true;\r\n      items[items.length - 1].transform.op._mdf = true;\r\n      items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n      if (iteration !== 0) {\r\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        }\r\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n        this.matrix.reset();\r\n      } else {\r\n        this.matrix.reset();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n      }\r\n      iteration += 1;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  } else {\r\n    cont = this._currentCopies;\r\n    i = 0;\r\n    dir = 1;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      items[items.length - 1].transform.mProps._mdf = false;\r\n      items[items.length - 1].transform.op._mdf = false;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function () {};\r\n\r\nShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n\r\n/* global createSizedArray, shapePool */\r\n\r\nfunction ShapeCollection() {\r\n  this._length = 0;\r\n  this._maxLength = 4;\r\n  this.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function (shapeData) {\r\n  if (this._length === this._maxLength) {\r\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  }\r\n  this.shapes[this._length] = shapeData;\r\n  this._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function () {\r\n  var i;\r\n  for (i = 0; i < this._length; i += 1) {\r\n    shapePool.release(this.shapes[i]);\r\n  }\r\n  this._length = 0;\r\n};\r\n\r\n/* global createSizedArray, createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction DashProperty(elem, data, renderer, container) {\r\n  this.elem = elem;\r\n  this.frameId = -1;\r\n  this.dataProps = createSizedArray(data.length);\r\n  this.renderer = renderer;\r\n  this.k = false;\r\n  this.dashStr = '';\r\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n  this.dashoffset = createTypedArray('float32', 1);\r\n  this.initDynamicPropertyContainer(container);\r\n  var i;\r\n  var len = data.length || 0;\r\n  var prop;\r\n  for (i = 0; i < len; i += 1) {\r\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n    this.k = prop.k || this.k;\r\n    this.dataProps[i] = { n: data[i].n, p: prop };\r\n  }\r\n  if (!this.k) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function (forceRender) {\r\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n  this._mdf = this._mdf || forceRender;\r\n  if (this._mdf) {\r\n    var i = 0;\r\n    var len = this.dataProps.length;\r\n    if (this.renderer === 'svg') {\r\n      this.dashStr = '';\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.dataProps[i].n !== 'o') {\r\n        if (this.renderer === 'svg') {\r\n          this.dashStr += ' ' + this.dataProps[i].p.v;\r\n        } else {\r\n          this.dashArray[i] = this.dataProps[i].p.v;\r\n        }\r\n      } else {\r\n        this.dashoffset[0] = this.dataProps[i].p.v;\r\n      }\r\n    }\r\n  }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n/* global createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\nfunction GradientProperty(elem, data, container) {\r\n  this.data = data;\r\n  this.c = createTypedArray('uint8c', data.p * 4);\r\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\r\n  this.o = createTypedArray('float32', cLength);\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  this._collapsable = this.checkCollapsable();\r\n  this._hasOpacity = cLength;\r\n  this.initDynamicPropertyContainer(container);\r\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n  this.k = this.prop.k;\r\n  this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function (values, points) {\r\n  var i = 0;\r\n  var len = this.o.length / 2;\r\n  var diff;\r\n  while (i < len) {\r\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n    if (diff > 0.01) {\r\n      return false;\r\n    }\r\n    i += 1;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function () {\r\n  if (this.o.length / 2 !== this.c.length / 4) {\r\n    return false;\r\n  }\r\n  if (this.data.k.k[0].s) {\r\n    var i = 0;\r\n    var len = this.data.k.k.length;\r\n    while (i < len) {\r\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function (forceRender) {\r\n  this.prop.getValue();\r\n  this._mdf = false;\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  if (this.prop._mdf || forceRender) {\r\n    var i;\r\n    var len = this.data.p * 4;\r\n    var mult;\r\n    var val;\r\n    for (i = 0; i < len; i += 1) {\r\n      mult = i % 4 === 0 ? 100 : 255;\r\n      val = Math.round(this.prop.v[i] * mult);\r\n      if (this.c[i] !== val) {\r\n        this.c[i] = val;\r\n        this._cmdf = !forceRender;\r\n      }\r\n    }\r\n    if (this.o.length) {\r\n      len = this.prop.v.length;\r\n      for (i = this.data.p * 4; i < len; i += 1) {\r\n        mult = i % 2 === 0 ? 100 : 1;\r\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n        if (this.o[i - this.data.p * 4] !== val) {\r\n          this.o[i - this.data.p * 4] = val;\r\n          this._omdf = !forceRender;\r\n        }\r\n      }\r\n    }\r\n    this._mdf = !forceRender;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n/* exported buildShapeString */\r\n\r\nvar buildShapeString = function (pathNodes, length, closed, mat) {\r\n  if (length === 0) {\r\n    return '';\r\n  }\r\n  var _o = pathNodes.o;\r\n  var _i = pathNodes.i;\r\n  var _v = pathNodes.v;\r\n  var i;\r\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n  for (i = 1; i < length; i += 1) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n  }\r\n  if (closed && length) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n    shapeString += 'z';\r\n  }\r\n  return shapeString;\r\n};\r\n\r\n/* global Howl */\r\n/* exported audioControllerFactory */\r\n\r\nvar audioControllerFactory = (function () {\r\n  function AudioController(audioFactory) {\r\n    this.audios = [];\r\n    this.audioFactory = audioFactory;\r\n    this._volume = 1;\r\n    this._isMuted = false;\r\n  }\r\n\r\n  AudioController.prototype = {\r\n    addAudio: function (audio) {\r\n      this.audios.push(audio);\r\n    },\r\n    pause: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].pause();\r\n      }\r\n    },\r\n    resume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].resume();\r\n      }\r\n    },\r\n    setRate: function (rateValue) {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].setRate(rateValue);\r\n      }\r\n    },\r\n    createAudio: function (assetPath) {\r\n      if (this.audioFactory) {\r\n        return this.audioFactory(assetPath);\r\n      } if (Howl) {\r\n        return new Howl({\r\n          src: [assetPath],\r\n        });\r\n      }\r\n      return {\r\n        isPlaying: false,\r\n        play: function () { this.isPlaying = true; },\r\n        seek: function () { this.isPlaying = false; },\r\n        playing: function () {},\r\n        rate: function () {},\r\n        setVolume: function () {},\r\n      };\r\n    },\r\n    setAudioFactory: function (audioFactory) {\r\n      this.audioFactory = audioFactory;\r\n    },\r\n    setVolume: function (value) {\r\n      this._volume = value;\r\n      this._updateVolume();\r\n    },\r\n    mute: function () {\r\n      this._isMuted = true;\r\n      this._updateVolume();\r\n    },\r\n    unmute: function () {\r\n      this._isMuted = false;\r\n      this._updateVolume();\r\n    },\r\n    getVolume: function () {\r\n      return this._volume;\r\n    },\r\n    _updateVolume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n      }\r\n    },\r\n  };\r\n\r\n  return function () {\r\n    return new AudioController();\r\n  };\r\n}());\r\n\r\n/* global createTag, createNS, isSafari */\r\n/* exported ImagePreloader */\r\n\r\nvar ImagePreloader = (function () {\r\n  var proxyImage = (function () {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'rgba(0,0,0,0)';\r\n    ctx.fillRect(0, 0, 1, 1);\r\n    return canvas;\r\n  }());\r\n\r\n  function imageLoaded() {\r\n    this.loadedAssets += 1;\r\n    if (this.loadedAssets === this.totalImages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  function getAssetsPath(assetData, assetsPath, originalPath) {\r\n    var path = '';\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (assetsPath) {\r\n      var imagePath = assetData.p;\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n      path = assetsPath + imagePath;\r\n    } else {\r\n      path = originalPath;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function testImageLoaded(img) {\r\n    var _count = 0;\r\n    var intervalId = setInterval(function () {\r\n      var box = img.getBBox();\r\n      if (box.width || _count > 500) {\r\n        this._imageLoaded();\r\n        clearInterval(intervalId);\r\n      }\r\n      _count += 1;\r\n    }.bind(this), 50);\r\n  }\r\n\r\n  function createImageData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createNS('image');\r\n    if (isSafari) {\r\n      this.testImageLoaded(img);\r\n    } else {\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n    }\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n    this._elementHelper.append(img);\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createImgData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createTag('img');\r\n    img.crossOrigin = 'anonymous';\r\n    img.addEventListener('load', this._imageLoaded, false);\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.src = path;\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function loadAssets(assets, cb) {\r\n    this.imagesLoadedCb = cb;\r\n    var i;\r\n    var len = assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!assets[i].layers) {\r\n        this.totalImages += 1;\r\n        this.images.push(this._createImageData(assets[i]));\r\n      }\r\n    }\r\n  }\r\n\r\n  function setPath(path) {\r\n    this.path = path || '';\r\n  }\r\n\r\n  function setAssetsPath(path) {\r\n    this.assetsPath = path || '';\r\n  }\r\n\r\n  function getImage(assetData) {\r\n    var i = 0;\r\n    var len = this.images.length;\r\n    while (i < len) {\r\n      if (this.images[i].assetData === assetData) {\r\n        return this.images[i].img;\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function destroy() {\r\n    this.imagesLoadedCb = null;\r\n    this.images.length = 0;\r\n  }\r\n\r\n  function loaded() {\r\n    return this.totalImages === this.loadedAssets;\r\n  }\r\n\r\n  function setCacheType(type, elementHelper) {\r\n    if (type === 'svg') {\r\n      this._elementHelper = elementHelper;\r\n      this._createImageData = this.createImageData.bind(this);\r\n    } else {\r\n      this._createImageData = this.createImgData.bind(this);\r\n    }\r\n  }\r\n\r\n  function ImagePreloaderFactory() {\r\n    this._imageLoaded = imageLoaded.bind(this);\r\n    this.testImageLoaded = testImageLoaded.bind(this);\r\n    this.assetsPath = '';\r\n    this.path = '';\r\n    this.totalImages = 0;\r\n    this.loadedAssets = 0;\r\n    this.imagesLoadedCb = null;\r\n    this.images = [];\r\n  }\r\n\r\n  ImagePreloaderFactory.prototype = {\r\n    loadAssets: loadAssets,\r\n    setAssetsPath: setAssetsPath,\r\n    setPath: setPath,\r\n    loaded: loaded,\r\n    destroy: destroy,\r\n    getImage: getImage,\r\n    createImgData: createImgData,\r\n    createImageData: createImageData,\r\n    imageLoaded: imageLoaded,\r\n    setCacheType: setCacheType,\r\n  };\r\n\r\n  return ImagePreloaderFactory;\r\n}());\r\n\r\n/* exported featureSupport */\r\n\r\nvar featureSupport = (function () {\r\n  var ob = {\r\n    maskType: true,\r\n  };\r\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n    ob.maskType = false;\r\n  }\r\n  return ob;\r\n}());\r\n\r\n/* global createNS */\r\n/* exported filtersFactory */\r\n\r\nvar filtersFactory = (function () {\r\n  var ob = {};\r\n  ob.createFilter = createFilter;\r\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n  function createFilter(filId) {\r\n    var fil = createNS('filter');\r\n    fil.setAttribute('id', filId);\r\n    fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n    fil.setAttribute('x', '0%');\r\n    fil.setAttribute('y', '0%');\r\n    fil.setAttribute('width', '100%');\r\n    fil.setAttribute('height', '100%');\r\n    return fil;\r\n  }\r\n\r\n  function createAlphaToLuminanceFilter() {\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n    return feColorMatrix;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* exported assetLoader */\r\n\r\nvar assetLoader = (function () {\r\n  function formatResponse(xhr) {\r\n    if (xhr.response && typeof xhr.response === 'object') {\r\n      return xhr.response;\r\n    } if (xhr.response && typeof xhr.response === 'string') {\r\n      return JSON.parse(xhr.response);\r\n    } if (xhr.responseText) {\r\n      return JSON.parse(xhr.responseText);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function loadAsset(path, callback, errorCallback) {\r\n    var response;\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('GET', path, true);\r\n    // set responseType after calling open or IE will break.\r\n    try {\r\n      // This crashes on Android WebView prior to KitKat\r\n      xhr.responseType = 'json';\r\n    } catch (err) {} // eslint-disable-line no-empty\r\n    xhr.send();\r\n    xhr.onreadystatechange = function () {\r\n      if (xhr.readyState === 4) {\r\n        if (xhr.status === 200) {\r\n          response = formatResponse(xhr);\r\n          callback(response);\r\n        } else {\r\n          try {\r\n            response = formatResponse(xhr);\r\n            callback(response);\r\n          } catch (err) {\r\n            if (errorCallback) {\r\n              errorCallback(err);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n  return {\r\n    load: loadAsset,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, PropertyFactory, TextAnimatorDataProperty, bez, addHueToRGB,\r\n  addSaturationToRGB, addBrightnessToRGB, LetterProps, Matrix, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem) {\r\n  this._isFirstFrame = true;\r\n  this._hasMaskedPath = false;\r\n  this._frameId = -1;\r\n  this._textData = textData;\r\n  this._renderType = renderType;\r\n  this._elem = elem;\r\n  this._animatorsData = createSizedArray(this._textData.a.length);\r\n  this._pathData = {};\r\n  this._moreOptions = {\r\n    alignment: {},\r\n  };\r\n  this.renderedLetters = [];\r\n  this.lettersChangedFlag = false;\r\n  this.initDynamicPropertyContainer(elem);\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function () {\r\n  var i;\r\n  var len = this._textData.a.length;\r\n  var animatorProps;\r\n  var getProp = PropertyFactory.getProp;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatorProps = this._textData.a[i];\r\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n  }\r\n  if (this._textData.p && 'm' in this._textData.p) {\r\n    this._pathData = {\r\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n      r: this._textData.p.r,\r\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\r\n    };\r\n    this._hasMaskedPath = true;\r\n  } else {\r\n    this._hasMaskedPath = false;\r\n  }\r\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n  this.lettersChangedFlag = lettersChangedFlag;\r\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n    return;\r\n  }\r\n  this._isFirstFrame = false;\r\n  var alignment = this._moreOptions.alignment.v;\r\n  var animators = this._animatorsData;\r\n  var textData = this._textData;\r\n  var matrixHelper = this.mHelper;\r\n  var renderType = this._renderType;\r\n  var renderedLettersCount = this.renderedLetters.length;\r\n  var xPos;\r\n  var yPos;\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var pathInfo;\r\n  var currentLength;\r\n  var currentPoint;\r\n  var segmentLength;\r\n  var flag;\r\n  var pointInd;\r\n  var segmentInd;\r\n  var prevPoint;\r\n  var points;\r\n  var segments;\r\n  var partialLength;\r\n  var totalLength;\r\n  var perc;\r\n  var tanAngle;\r\n  var mask;\r\n  if (this._hasMaskedPath) {\r\n    mask = this._pathData.m;\r\n    if (!this._pathData.n || this._pathData._mdf) {\r\n      var paths = mask.v;\r\n      if (this._pathData.r) {\r\n        paths = paths.reverse();\r\n      }\r\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n      pathInfo = {\r\n        tLength: 0,\r\n        segments: [],\r\n      };\r\n      len = paths._length - 1;\r\n      var bezierData;\r\n      totalLength = 0;\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[i + 1],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      i = len;\r\n      if (mask.v.c) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[0],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      this._pathData.pi = pathInfo;\r\n    }\r\n    pathInfo = this._pathData.pi;\r\n\r\n    currentLength = this._pathData.f.v;\r\n    segmentInd = 0;\r\n    pointInd = 1;\r\n    segmentLength = 0;\r\n    flag = true;\r\n    segments = pathInfo.segments;\r\n    if (currentLength < 0 && mask.v.c) {\r\n      if (pathInfo.tLength < Math.abs(currentLength)) {\r\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n      }\r\n      segmentInd = segments.length - 1;\r\n      points = segments[segmentInd].points;\r\n      pointInd = points.length - 1;\r\n      while (currentLength < 0) {\r\n        currentLength += points[pointInd].partialLength;\r\n        pointInd -= 1;\r\n        if (pointInd < 0) {\r\n          segmentInd -= 1;\r\n          points = segments[segmentInd].points;\r\n          pointInd = points.length - 1;\r\n        }\r\n      }\r\n    }\r\n    points = segments[segmentInd].points;\r\n    prevPoint = points[pointInd - 1];\r\n    currentPoint = points[pointInd];\r\n    partialLength = currentPoint.partialLength;\r\n  }\r\n\r\n  len = letters.length;\r\n  xPos = 0;\r\n  yPos = 0;\r\n  var yOff = documentData.finalSize * 1.2 * 0.714;\r\n  var firstLine = true;\r\n  var animatorProps;\r\n  var animatorSelector;\r\n  var j;\r\n  var jLen;\r\n  var letterValue;\r\n\r\n  jLen = animators.length;\r\n\r\n  var mult;\r\n  var ind = -1;\r\n  var offf;\r\n  var xPathPos;\r\n  var yPathPos;\r\n  var initPathPos = currentLength;\r\n  var initSegmentInd = segmentInd;\r\n  var initPointInd = pointInd;\r\n  var currentLine = -1;\r\n  var elemOpacity;\r\n  var sc;\r\n  var sw;\r\n  var fc;\r\n  var k;\r\n  var letterSw;\r\n  var letterSc;\r\n  var letterFc;\r\n  var letterM = '';\r\n  var letterP = this.defaultPropsArray;\r\n  var letterO;\r\n\r\n  //\r\n  if (documentData.j === 2 || documentData.j === 1) {\r\n    var animatorJustifyOffset = 0;\r\n    var animatorFirstCharOffset = 0;\r\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n    var lastIndex = 0;\r\n    var isNewLine = true;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        if (animatorJustifyOffset) {\r\n          animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while (lastIndex < i) {\r\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n          lastIndex += 1;\r\n        }\r\n        animatorJustifyOffset = 0;\r\n        isNewLine = true;\r\n      } else {\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.t.propType) {\r\n            if (isNewLine && documentData.j === 2) {\r\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n            }\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n            } else {\r\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n            }\r\n          }\r\n        }\r\n        isNewLine = false;\r\n      }\r\n    }\r\n    if (animatorJustifyOffset) {\r\n      animatorJustifyOffset += animatorFirstCharOffset;\r\n    }\r\n    while (lastIndex < i) {\r\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n      lastIndex += 1;\r\n    }\r\n  }\r\n  //\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    matrixHelper.reset();\r\n    elemOpacity = 1;\r\n    if (letters[i].n) {\r\n      xPos = 0;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      currentLength = initPathPos;\r\n      firstLine = false;\r\n      if (this._hasMaskedPath) {\r\n        segmentInd = initSegmentInd;\r\n        pointInd = initPointInd;\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n        segmentLength = 0;\r\n      }\r\n      letterM = '';\r\n      letterFc = '';\r\n      letterSw = '';\r\n      letterO = '';\r\n      letterP = this.defaultPropsArray;\r\n    } else {\r\n      if (this._hasMaskedPath) {\r\n        if (currentLine !== letters[i].line) {\r\n          switch (documentData.j) {\r\n            case 1:\r\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n              break;\r\n            case 2:\r\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          currentLine = letters[i].line;\r\n        }\r\n        if (ind !== letters[i].ind) {\r\n          if (letters[ind]) {\r\n            currentLength += letters[ind].extra;\r\n          }\r\n          currentLength += letters[i].an / 2;\r\n          ind = letters[i].ind;\r\n        }\r\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\r\n        var animatorOffset = 0;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.p.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.p.v[0] * mult;\r\n            }\r\n          }\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.a.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.a.v[0] * mult;\r\n            }\r\n          }\r\n        }\r\n        flag = true;\r\n        while (flag) {\r\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\r\n            flag = false;\r\n          } else if (points) {\r\n            segmentLength += currentPoint.partialLength;\r\n            pointInd += 1;\r\n            if (pointInd >= points.length) {\r\n              pointInd = 0;\r\n              segmentInd += 1;\r\n              if (!segments[segmentInd]) {\r\n                if (mask.v.c) {\r\n                  pointInd = 0;\r\n                  segmentInd = 0;\r\n                  points = segments[segmentInd].points;\r\n                } else {\r\n                  segmentLength -= currentPoint.partialLength;\r\n                  points = null;\r\n                }\r\n              } else {\r\n                points = segments[segmentInd].points;\r\n              }\r\n            }\r\n            if (points) {\r\n              prevPoint = currentPoint;\r\n              currentPoint = points[pointInd];\r\n              partialLength = currentPoint.partialLength;\r\n            }\r\n          }\r\n        }\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n      } else {\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n\r\n        // Grouping alignment\r\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.t.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n          if (xPos !== 0 || documentData.j !== 0) {\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                currentLength += animatorProps.t.v * mult[0];\r\n              } else {\r\n                currentLength += animatorProps.t.v * mult;\r\n              }\r\n            } else if (mult.length) {\r\n              xPos += animatorProps.t.v * mult[0];\r\n            } else {\r\n              xPos += animatorProps.t.v * mult;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        sw = documentData.sw || 0;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        if (documentData.sc) {\r\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n        } else {\r\n          sc = [0, 0, 0];\r\n        }\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.a.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (mult.length) {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.s.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (mult.length) {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\r\n          } else {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        animatorSelector = animators[j].s;\r\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n        if (animatorProps.sk.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n          } else {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.r.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n          } else {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.ry.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n          } else {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.rx.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n          } else {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.o.propType) {\r\n          if (mult.length) {\r\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\r\n          } else {\r\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n          if (mult.length) {\r\n            sw += animatorProps.sw.v * mult[0];\r\n          } else {\r\n            sw += animatorProps.sw.v * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n          for (k = 0; k < 3; k += 1) {\r\n            if (mult.length) {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n            } else {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n            }\r\n          }\r\n        }\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          if (animatorProps.fc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n              } else {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n          if (animatorProps.fh.propType) {\r\n            if (mult.length) {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n            } else {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fs.propType) {\r\n            if (mult.length) {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n            } else {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fb.propType) {\r\n            if (mult.length) {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n            } else {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n\r\n        if (animatorProps.p.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (this._hasMaskedPath) {\r\n            if (mult.length) {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n            } else {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          } else if (mult.length) {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        letterSw = sw < 0 ? 0 : sw;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n      }\r\n\r\n      if (this._hasMaskedPath) {\r\n        matrixHelper.translate(0, -documentData.ls);\r\n\r\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\r\n        if (textData.p.p) {\r\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\r\n          if (currentPoint.point[0] < prevPoint.point[0]) {\r\n            rot += 180;\r\n          }\r\n          matrixHelper.rotate((-rot * Math.PI) / 180);\r\n        }\r\n        matrixHelper.translate(xPathPos, yPathPos, 0);\r\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\r\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n          currentLength += letters[i].an / 2;\r\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\r\n        }\r\n      } else {\r\n        matrixHelper.translate(xPos, yPos, 0);\r\n\r\n        if (documentData.ps) {\r\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n        }\r\n        switch (documentData.j) {\r\n          case 1:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n            break;\r\n          case 2:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        matrixHelper.translate(0, -documentData.ls);\r\n        matrixHelper.translate(offf, 0, 0);\r\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\r\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\r\n      }\r\n      if (renderType === 'html') {\r\n        letterM = matrixHelper.toCSS();\r\n      } else if (renderType === 'svg') {\r\n        letterM = matrixHelper.to2dCSS();\r\n      } else {\r\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n      }\r\n      letterO = elemOpacity;\r\n    }\r\n\r\n    if (renderedLettersCount <= i) {\r\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n      this.renderedLetters.push(letterValue);\r\n      renderedLettersCount += 1;\r\n      this.lettersChangedFlag = true;\r\n    } else {\r\n      letterValue = this.renderedLetters[i];\r\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n    }\r\n  }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function () {\r\n  if (this._elem.globalData.frameId === this._frameId) {\r\n    return;\r\n  }\r\n  this._frameId = this._elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n/* global PropertyFactory, degToRads, TextSelectorProp */\r\n/* exported TextAnimatorDataProperty */\r\n\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n  var defaultData = { propType: false };\r\n  var getProp = PropertyFactory.getProp;\r\n  var textAnimatorAnimatables = animatorProps.a;\r\n  this.a = {\r\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\r\n  };\r\n\r\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n  this.s.t = animatorProps.s.t;\r\n}\r\n\r\nfunction LetterProps(o, sw, sc, fc, m, p) {\r\n  this.o = o;\r\n  this.sw = sw;\r\n  this.sc = sc;\r\n  this.fc = fc;\r\n  this.m = m;\r\n  this.p = p;\r\n  this._mdf = {\r\n    o: true,\r\n    sw: !!sw,\r\n    sc: !!sc,\r\n    fc: !!fc,\r\n    m: true,\r\n    p: true,\r\n  };\r\n}\r\n\r\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n  this._mdf.o = false;\r\n  this._mdf.sw = false;\r\n  this._mdf.sc = false;\r\n  this._mdf.fc = false;\r\n  this._mdf.m = false;\r\n  this._mdf.p = false;\r\n  var updated = false;\r\n\r\n  if (this.o !== o) {\r\n    this.o = o;\r\n    this._mdf.o = true;\r\n    updated = true;\r\n  }\r\n  if (this.sw !== sw) {\r\n    this.sw = sw;\r\n    this._mdf.sw = true;\r\n    updated = true;\r\n  }\r\n  if (this.sc !== sc) {\r\n    this.sc = sc;\r\n    this._mdf.sc = true;\r\n    updated = true;\r\n  }\r\n  if (this.fc !== fc) {\r\n    this.fc = fc;\r\n    this._mdf.fc = true;\r\n    updated = true;\r\n  }\r\n  if (this.m !== m) {\r\n    this.m = m;\r\n    this._mdf.m = true;\r\n    updated = true;\r\n  }\r\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n    this.p = p;\r\n    this._mdf.p = true;\r\n    updated = true;\r\n  }\r\n  return updated;\r\n};\r\n\r\n/* global FontManager, initialDefaultFrame, getFontProperties */\r\n/* exported TextProperty */\r\n\r\nfunction TextProperty(elem, data) {\r\n  this._frameId = initialDefaultFrame;\r\n  this.pv = '';\r\n  this.v = '';\r\n  this.kf = false;\r\n  this._isFirstFrame = true;\r\n  this._mdf = false;\r\n  this.data = data;\r\n  this.elem = elem;\r\n  this.comp = this.elem.comp;\r\n  this.keysIndex = 0;\r\n  this.canResize = false;\r\n  this.minimumFontSize = 1;\r\n  this.effectsSequence = [];\r\n  this.currentData = {\r\n    ascent: 0,\r\n    boxWidth: this.defaultBoxWidth,\r\n    f: '',\r\n    fStyle: '',\r\n    fWeight: '',\r\n    fc: '',\r\n    j: '',\r\n    justifyOffset: '',\r\n    l: [],\r\n    lh: 0,\r\n    lineWidths: [],\r\n    ls: '',\r\n    of: '',\r\n    s: '',\r\n    sc: '',\r\n    sw: 0,\r\n    t: 0,\r\n    tr: 0,\r\n    sz: 0,\r\n    ps: null,\r\n    fillColorAnim: false,\r\n    strokeColorAnim: false,\r\n    strokeWidthAnim: false,\r\n    yOffset: 0,\r\n    finalSize: 0,\r\n    finalText: [],\r\n    finalLineHeight: 0,\r\n    __complete: false,\r\n\r\n  };\r\n  this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n  if (!this.searchProperty()) {\r\n    this.completeTextData(this.currentData);\r\n  }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\nTextProperty.prototype.copyData = function (obj, data) {\r\n  for (var s in data) {\r\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n      obj[s] = data[s];\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nTextProperty.prototype.setCurrentData = function (data) {\r\n  if (!data.__complete) {\r\n    this.completeTextData(data);\r\n  }\r\n  this.currentData = data;\r\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n  this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function () {\r\n  return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function () {\r\n  this.kf = this.data.d.k.length > 1;\r\n  if (this.kf) {\r\n    this.addEffect(this.getKeyframeValue.bind(this));\r\n  }\r\n  return this.kf;\r\n};\r\n\r\nTextProperty.prototype.addEffect = function (effectFunction) {\r\n  this.effectsSequence.push(effectFunction);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function (_finalValue) {\r\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n    return;\r\n  }\r\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n  var currentValue = this.currentData;\r\n  var currentIndex = this.keysIndex;\r\n  if (this.lock) {\r\n    this.setCurrentData(this.currentData);\r\n    return;\r\n  }\r\n  this.lock = true;\r\n  this._mdf = false;\r\n  var i; var\r\n    len = this.effectsSequence.length;\r\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n  for (i = 0; i < len; i += 1) {\r\n    // Checking if index changed to prevent creating a new object every time the expression updates.\r\n    if (currentIndex !== this.keysIndex) {\r\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n    } else {\r\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n    }\r\n  }\r\n  if (currentValue !== finalValue) {\r\n    this.setCurrentData(finalValue);\r\n  }\r\n  this.v = this.currentData;\r\n  this.pv = this.v;\r\n  this.lock = false;\r\n  this.frameId = this.elem.globalData.frameId;\r\n};\r\n\r\nTextProperty.prototype.getKeyframeValue = function () {\r\n  var textKeys = this.data.d.k;\r\n  var frameNum = this.elem.comp.renderedFrame;\r\n  var i = 0; var\r\n    len = textKeys.length;\r\n  while (i <= len - 1) {\r\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  if (this.keysIndex !== i) {\r\n    this.keysIndex = i;\r\n  }\r\n  return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function (text) {\r\n  var combinedCharacters = FontManager.getCombinedCharacterCodes();\r\n  var charactersArray = [];\r\n  var i = 0; var\r\n    len = text.length;\r\n  var charCode;\r\n  while (i < len) {\r\n    charCode = text.charCodeAt(i);\r\n    if (combinedCharacters.indexOf(charCode) !== -1) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      charCode = text.charCodeAt(i + 1);\r\n      if (charCode >= 0xDC00 && charCode <= 0xDFFF) {\r\n        charactersArray.push(text.substr(i, 2));\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else {\r\n      charactersArray.push(text.charAt(i));\r\n    }\r\n    i += 1;\r\n  }\r\n  return charactersArray;\r\n};\r\n\r\nTextProperty.prototype.completeTextData = function (documentData) {\r\n  documentData.__complete = true;\r\n  var fontManager = this.elem.globalData.fontManager;\r\n  var data = this.data;\r\n  var letters = [];\r\n  var i; var\r\n    len;\r\n  var newLineFlag; var index = 0; var\r\n    val;\r\n  var anchorGrouping = data.m.g;\r\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\r\n    lineWidths = [];\r\n  var lineWidth = 0;\r\n  var maxLineWidth = 0;\r\n  var j; var\r\n    jLen;\r\n  var fontData = fontManager.getFontByName(documentData.f);\r\n  var charData; var\r\n    cLength = 0;\r\n\r\n  var fontProps = getFontProperties(fontData);\r\n  documentData.fWeight = fontProps.weight;\r\n  documentData.fStyle = fontProps.style;\r\n  documentData.finalSize = documentData.s;\r\n  documentData.finalText = this.buildFinalText(documentData.t);\r\n  len = documentData.finalText.length;\r\n  documentData.finalLineHeight = documentData.lh;\r\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n  var charCode;\r\n  if (documentData.sz) {\r\n    var flag = true;\r\n    var boxWidth = documentData.sz[0];\r\n    var boxHeight = documentData.sz[1];\r\n    var currentHeight; var\r\n      finalText;\r\n    while (flag) {\r\n      finalText = this.buildFinalText(documentData.t);\r\n      currentHeight = 0;\r\n      lineWidth = 0;\r\n      len = finalText.length;\r\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n      var lastSpaceIndex = -1;\r\n      for (i = 0; i < len; i += 1) {\r\n        charCode = finalText[i].charCodeAt(0);\r\n        newLineFlag = false;\r\n        if (finalText[i] === ' ') {\r\n          lastSpaceIndex = i;\r\n        } else if (charCode === 13 || charCode === 3) {\r\n          lineWidth = 0;\r\n          newLineFlag = true;\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n        }\r\n        if (fontManager.chars) {\r\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n        } else {\r\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n        }\r\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n          if (lastSpaceIndex === -1) {\r\n            len += 1;\r\n          } else {\r\n            i = lastSpaceIndex;\r\n          }\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\r\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n          lastSpaceIndex = -1;\r\n          lineWidth = 0;\r\n        } else {\r\n          lineWidth += cLength;\r\n          lineWidth += trackingOffset;\r\n        }\r\n      }\r\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\r\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n        documentData.finalSize -= 1;\r\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\r\n      } else {\r\n        documentData.finalText = finalText;\r\n        len = documentData.finalText.length;\r\n        flag = false;\r\n      }\r\n    }\r\n  }\r\n  lineWidth = -trackingOffset;\r\n  cLength = 0;\r\n  var uncollapsedSpaces = 0;\r\n  var currentChar;\r\n  for (i = 0; i < len; i += 1) {\r\n    newLineFlag = false;\r\n    currentChar = documentData.finalText[i];\r\n    charCode = currentChar.charCodeAt(0);\r\n    if (charCode === 13 || charCode === 3) {\r\n      uncollapsedSpaces = 0;\r\n      lineWidths.push(lineWidth);\r\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n      lineWidth = -2 * trackingOffset;\r\n      val = '';\r\n      newLineFlag = true;\r\n      currentLine += 1;\r\n    } else {\r\n      val = currentChar;\r\n    }\r\n    if (fontManager.chars) {\r\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n    } else {\r\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n    }\r\n\r\n    //\r\n    if (currentChar === ' ') {\r\n      uncollapsedSpaces += cLength + trackingOffset;\r\n    } else {\r\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n      uncollapsedSpaces = 0;\r\n    }\r\n    letters.push({\r\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\r\n    });\r\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || val === ' ' || i === len - 1) {\r\n        if (val === '' || val === ' ') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        index += 1;\r\n        currentSize = 0;\r\n      }\r\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || i === len - 1) {\r\n        if (val === '') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        currentSize = 0;\r\n        index += 1;\r\n      }\r\n    } else {\r\n      letters[index].ind = index;\r\n      letters[index].extra = 0;\r\n      index += 1;\r\n    }\r\n  }\r\n  documentData.l = letters;\r\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n  lineWidths.push(lineWidth);\r\n  if (documentData.sz) {\r\n    documentData.boxWidth = documentData.sz[0];\r\n    documentData.justifyOffset = 0;\r\n  } else {\r\n    documentData.boxWidth = maxLineWidth;\r\n    switch (documentData.j) {\r\n      case 1:\r\n        documentData.justifyOffset = -documentData.boxWidth;\r\n        break;\r\n      case 2:\r\n        documentData.justifyOffset = -documentData.boxWidth / 2;\r\n        break;\r\n      default:\r\n        documentData.justifyOffset = 0;\r\n    }\r\n  }\r\n  documentData.lineWidths = lineWidths;\r\n\r\n  var animators = data.a; var animatorData; var\r\n    letterData;\r\n  jLen = animators.length;\r\n  var based; var ind; var\r\n    indexes = [];\r\n  for (j = 0; j < jLen; j += 1) {\r\n    animatorData = animators[j];\r\n    if (animatorData.a.sc) {\r\n      documentData.strokeColorAnim = true;\r\n    }\r\n    if (animatorData.a.sw) {\r\n      documentData.strokeWidthAnim = true;\r\n    }\r\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n      documentData.fillColorAnim = true;\r\n    }\r\n    ind = 0;\r\n    based = animatorData.s.b;\r\n    for (i = 0; i < len; i += 1) {\r\n      letterData = letters[i];\r\n      letterData.anIndexes[j] = ind;\r\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\r\n        if (animatorData.s.rn === 1) {\r\n          indexes.push(ind);\r\n        }\r\n        ind += 1;\r\n      }\r\n    }\r\n    data.a[j].s.totalChars = ind;\r\n    var currentInd = -1; var\r\n      newInd;\r\n    if (animatorData.s.rn === 1) {\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\r\n          currentInd = letterData.anIndexes[j];\r\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n        }\r\n        letterData.anIndexes[j] = newInd;\r\n      }\r\n    }\r\n  }\r\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n  documentData.ls = documentData.ls || 0;\r\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function (newData, index) {\r\n  index = index === undefined ? this.keysIndex : index;\r\n  var dData = this.copyData({}, this.data.d.k[index].s);\r\n  dData = this.copyData(dData, newData);\r\n  this.data.d.k[index].s = dData;\r\n  this.recalculate(index);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function (index) {\r\n  var dData = this.data.d.k[index].s;\r\n  dData.__complete = false;\r\n  this.keysIndex = 0;\r\n  this._isFirstFrame = true;\r\n  this.getValue(dData);\r\n};\r\n\r\nTextProperty.prototype.canResizeFont = function (_canResize) {\r\n  this.canResize = _canResize;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\n/* global extendPrototype, BezierFactory, PropertyFactory, DynamicPropertyContainer */\r\n/* exported TextSelectorProp */\r\n\r\nvar TextSelectorProp = (function () {\r\n  var max = Math.max;\r\n  var min = Math.min;\r\n  var floor = Math.floor;\r\n\r\n  function TextSelectorPropFactory(elem, data) {\r\n    this._currentTextLength = -1;\r\n    this.k = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = elem.comp;\r\n    this.finalS = 0;\r\n    this.finalE = 0;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\r\n    if ('e' in data) {\r\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n    } else {\r\n      this.e = { v: 100 };\r\n    }\r\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\r\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\r\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue();\r\n    }\r\n  }\r\n\r\n  TextSelectorPropFactory.prototype = {\r\n    getMult: function (ind) {\r\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n        this.getValue();\r\n      }\r\n      // var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n      var x1 = 0;\r\n      var y1 = 0;\r\n      var x2 = 1;\r\n      var y2 = 1;\r\n      if (this.ne.v > 0) {\r\n        x1 = this.ne.v / 100.0;\r\n      } else {\r\n        y1 = -this.ne.v / 100.0;\r\n      }\r\n      if (this.xe.v > 0) {\r\n        x2 = 1.0 - this.xe.v / 100.0;\r\n      } else {\r\n        y2 = 1.0 + this.xe.v / 100.0;\r\n      }\r\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n      var mult = 0;\r\n      var s = this.finalS;\r\n      var e = this.finalE;\r\n      var type = this.data.sh;\r\n      if (type === 2) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 1 : 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 3) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 0 : 1;\r\n        } else {\r\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n\r\n        mult = easer(mult);\r\n      } else if (type === 4) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          if (mult < 0.5) {\r\n            mult *= 2;\r\n          } else {\r\n            mult = 1 - 2 * (mult - 0.5);\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 5) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          var tot = e - s;\r\n          /* ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          var x = -tot / 2 + ind;\r\n          var a = tot / 2;\r\n          mult = Math.sqrt(1 - (x * x) / (a * a));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 6) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\r\n        }\r\n        mult = easer(mult);\r\n      } else {\r\n        if (ind >= floor(s)) {\r\n          if (ind - s < 0) {\r\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n          } else {\r\n            mult = max(0, min(e - ind, 1));\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      }\r\n      return mult * this.a.v;\r\n    },\r\n    getValue: function (newCharsFlag) {\r\n      this.iterateDynamicProperties();\r\n      this._mdf = newCharsFlag || this._mdf;\r\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n      if (newCharsFlag && this.data.r === 2) {\r\n        this.e.v = this._currentTextLength;\r\n      }\r\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n      var o = this.o.v / divisor;\r\n      var s = this.s.v / divisor + o;\r\n      var e = (this.e.v / divisor) + o;\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n      this.finalS = s;\r\n      this.finalE = e;\r\n    },\r\n  };\r\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n  function getTextSelectorProp(elem, data, arr) {\r\n    return new TextSelectorPropFactory(elem, data, arr);\r\n  }\r\n\r\n  return {\r\n    getTextSelectorProp: getTextSelectorProp,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, pooling */\r\n/* exported poolFactory */\r\n\r\nvar poolFactory = (function () {\r\n  return function (initialLength, _create, _release) {\r\n    var _length = 0;\r\n    var _maxLength = initialLength;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    var ob = {\r\n      newElement: newElement,\r\n      release: release,\r\n    };\r\n\r\n    function newElement() {\r\n      var element;\r\n      if (_length) {\r\n        _length -= 1;\r\n        element = pool[_length];\r\n      } else {\r\n        element = _create();\r\n      }\r\n      return element;\r\n    }\r\n\r\n    function release(element) {\r\n      if (_length === _maxLength) {\r\n        pool = pooling.double(pool);\r\n        _maxLength *= 2;\r\n      }\r\n      if (_release) {\r\n        _release(element);\r\n      }\r\n      pool[_length] = element;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  };\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported pooling */\r\n\r\nvar pooling = (function () {\r\n  function double(arr) {\r\n    return arr.concat(createSizedArray(arr.length));\r\n  }\r\n\r\n  return {\r\n    double: double,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, poolFactory */\r\n/* exported pointPool */\r\n\r\nvar pointPool = (function () {\r\n  function create() {\r\n    return createTypedArray('float32', 2);\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global ShapePath, pointPool, poolFactory */\r\n/* exported shapePool */\r\n\r\nvar shapePool = (function () {\r\n  function create() {\r\n    return new ShapePath();\r\n  }\r\n\r\n  function release(shapePath) {\r\n    var len = shapePath._length;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      pointPool.release(shapePath.v[i]);\r\n      pointPool.release(shapePath.i[i]);\r\n      pointPool.release(shapePath.o[i]);\r\n      shapePath.v[i] = null;\r\n      shapePath.i[i] = null;\r\n      shapePath.o[i] = null;\r\n    }\r\n    shapePath._length = 0;\r\n    shapePath.c = false;\r\n  }\r\n\r\n  function clone(shape) {\r\n    var cloned = factory.newElement();\r\n    var i;\r\n    var len = shape._length === undefined ? shape.v.length : shape._length;\r\n    cloned.setLength(len);\r\n    cloned.c = shape.c;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n    }\r\n    return cloned;\r\n  }\r\n\r\n  var factory = poolFactory(4, create, release);\r\n  factory.clone = clone;\r\n\r\n  return factory;\r\n}());\r\n\r\n/* global createSizedArray, ShapeCollection, shapePool, pooling */\r\n/* exported shapeCollectionPool */\r\n\r\nvar shapeCollectionPool = (function () {\r\n  var ob = {\r\n    newShapeCollection: newShapeCollection,\r\n    release: release,\r\n  };\r\n\r\n  var _length = 0;\r\n  var _maxLength = 4;\r\n  var pool = createSizedArray(_maxLength);\r\n\r\n  function newShapeCollection() {\r\n    var shapeCollection;\r\n    if (_length) {\r\n      _length -= 1;\r\n      shapeCollection = pool[_length];\r\n    } else {\r\n      shapeCollection = new ShapeCollection();\r\n    }\r\n    return shapeCollection;\r\n  }\r\n\r\n  function release(shapeCollection) {\r\n    var i;\r\n    var len = shapeCollection._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapePool.release(shapeCollection.shapes[i]);\r\n    }\r\n    shapeCollection._length = 0;\r\n\r\n    if (_length === _maxLength) {\r\n      pool = pooling.double(pool);\r\n      _maxLength *= 2;\r\n    }\r\n    pool[_length] = shapeCollection;\r\n    _length += 1;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global poolFactory, bezierLengthPool */\r\n/* exported segmentsLengthPool */\r\n\r\nvar segmentsLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      lengths: [],\r\n      totalLength: 0,\r\n    };\r\n  }\r\n\r\n  function release(element) {\r\n    var i;\r\n    var len = element.lengths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierLengthPool.release(element.lengths[i]);\r\n    }\r\n    element.lengths.length = 0;\r\n  }\r\n\r\n  return poolFactory(8, create, release);\r\n}());\r\n\r\n/* global createTypedArray, defaultCurveSegments, poolFactory */\r\n/* exported bezierLengthPool */\r\n\r\nvar bezierLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      addedLength: 0,\r\n      percents: createTypedArray('float32', defaultCurveSegments),\r\n      lengths: createTypedArray('float32', defaultCurveSegments),\r\n    };\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global AudioElement, FontManager */\r\n\r\nfunction BaseRenderer() {}\r\nBaseRenderer.prototype.checkLayers = function (num) {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var data;\r\n  this.completeLayers = true;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (!this.elements[i]) {\r\n      data = this.layers[i];\r\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\r\n        this.buildItem(i);\r\n      }\r\n    }\r\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function (layer) {\r\n  switch (layer.ty) {\r\n    case 2:\r\n      return this.createImage(layer);\r\n    case 0:\r\n      return this.createComp(layer);\r\n    case 1:\r\n      return this.createSolid(layer);\r\n    case 3:\r\n      return this.createNull(layer);\r\n    case 4:\r\n      return this.createShape(layer);\r\n    case 5:\r\n      return this.createText(layer);\r\n    case 6:\r\n      return this.createAudio(layer);\r\n    case 13:\r\n      return this.createCamera(layer);\r\n    default:\r\n      return this.createNull(layer);\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function () {\r\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function (data) {\r\n  return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.buildItem(i);\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function (newLayers) {\r\n  this.completeLayers = false;\r\n  var i;\r\n  var len = newLayers.length;\r\n  var j;\r\n  var jLen = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    j = 0;\r\n    while (j < jLen) {\r\n      if (this.layers[j].id === newLayers[i].id) {\r\n        this.layers[j] = newLayers[i];\r\n        break;\r\n      }\r\n      j += 1;\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n  this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function () {\r\n  if (!this.globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n  var elements = this.elements;\r\n  var layers = this.layers;\r\n  var i = 0;\r\n  var len = layers.length;\r\n  while (i < len) {\r\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\r\n      if (!elements[i] || elements[i] === true) {\r\n        this.buildItem(i);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        hierarchy.push(elements[i]);\r\n        elements[i].setAsParent();\r\n        if (layers[i].parent !== undefined) {\r\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n        } else {\r\n          element.setHierarchy(hierarchy);\r\n        }\r\n      }\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function (element) {\r\n  this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i]);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n  this.globalData.fontManager = new FontManager();\r\n  this.globalData.fontManager.addChars(animData.chars);\r\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n  this.globalData.audioController = this.animationItem.audioController;\r\n  this.globalData.frameId = 0;\r\n  this.globalData.frameRate = animData.fr;\r\n  this.globalData.nm = animData.nm;\r\n  this.globalData.compSize = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n  };\r\n};\r\n\r\n/* global createElementID, extendPrototype, BaseRenderer, NullElement, SVGShapeElement, SVGTextLottieElement,\r\nIImageElement, SVGCompElement, ISolidElement, createNS, locationHref, createSizedArray, expressionsPlugin */\r\n\r\nfunction SVGRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.svgElement = createNS('svg');\r\n  var ariaLabel = '';\r\n  if (config && config.title) {\r\n    var titleElement = createNS('title');\r\n    var titleId = createElementID();\r\n    titleElement.setAttribute('id', titleId);\r\n    titleElement.textContent = config.title;\r\n    this.svgElement.appendChild(titleElement);\r\n    ariaLabel += titleId;\r\n  }\r\n  if (config && config.description) {\r\n    var descElement = createNS('desc');\r\n    var descId = createElementID();\r\n    descElement.setAttribute('id', descId);\r\n    descElement.textContent = config.description;\r\n    this.svgElement.appendChild(descElement);\r\n    ariaLabel += ' ' + descId;\r\n  }\r\n  if (ariaLabel) {\r\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n  }\r\n  var defs = createNS('defs');\r\n  this.svgElement.appendChild(defs);\r\n  var maskElement = createNS('g');\r\n  this.svgElement.appendChild(maskElement);\r\n  this.layerElement = maskElement;\r\n  this.renderConfig = {\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\r\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n    viewBoxSize: (config && config.viewBoxSize) || false,\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n    focusable: config && config.focusable,\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\r\n    },\r\n  };\r\n\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    defs: defs,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.destroyed = false;\r\n  this.rendererType = 'svg';\r\n}\r\n\r\nextendPrototype([BaseRenderer], SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n  return new NullElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n  return new SVGShapeElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n  return new SVGTextLottieElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n  return new IImageElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n  return new SVGCompElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n  return new ISolidElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function (animData) {\r\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n  if (this.renderConfig.viewBoxSize) {\r\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n  } else {\r\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n  }\r\n\r\n  if (!this.renderConfig.viewBoxOnly) {\r\n    this.svgElement.setAttribute('width', animData.w);\r\n    this.svgElement.setAttribute('height', animData.h);\r\n    this.svgElement.style.width = '100%';\r\n    this.svgElement.style.height = '100%';\r\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n  }\r\n  if (this.renderConfig.className) {\r\n    this.svgElement.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  if (this.renderConfig.id) {\r\n    this.svgElement.setAttribute('id', this.renderConfig.id);\r\n  }\r\n  if (this.renderConfig.focusable !== undefined) {\r\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n  }\r\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\r\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n  this.animationItem.wrapper.appendChild(this.svgElement);\r\n  // Mask animation\r\n  var defs = this.globalData.defs;\r\n\r\n  this.setupGlobalData(animData, defs);\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.data = animData;\r\n\r\n  var maskElement = createNS('clipPath');\r\n  var rect = createNS('rect');\r\n  rect.setAttribute('width', animData.w);\r\n  rect.setAttribute('height', animData.h);\r\n  rect.setAttribute('x', 0);\r\n  rect.setAttribute('y', 0);\r\n  var maskId = createElementID();\r\n  maskElement.setAttribute('id', maskId);\r\n  maskElement.appendChild(rect);\r\n  this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + maskId + ')');\r\n\r\n  defs.appendChild(maskElement);\r\n  this.layers = animData.layers;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.layerElement = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  elements[pos] = true;\r\n  var element = this.createItem(this.layers[pos]);\r\n\r\n  elements[pos] = element;\r\n  if (expressionsPlugin) {\r\n    if (this.layers[pos].ty === 0) {\r\n      this.globalData.projectInterface.registerComposition(element);\r\n    }\r\n    element.initExpressions();\r\n  }\r\n  this.appendElementInPos(element, pos);\r\n  if (this.layers[pos].tt) {\r\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\r\n      this.buildItem(pos - 1);\r\n      this.addPendingElement(element);\r\n    } else {\r\n      element.setMatte(elements[pos - 1].layerId);\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n    if (element.data.tt) {\r\n      var i = 0;\r\n      var len = this.elements.length;\r\n      while (i < len) {\r\n        if (this.elements[i] === element) {\r\n          element.setMatte(this.elements[i - 1].layerId);\r\n          break;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function (num) {\r\n  if (this.renderedFrame === num || this.destroyed) {\r\n    return;\r\n  }\r\n  if (num === null) {\r\n    num = this.renderedFrame;\r\n  } else {\r\n    this.renderedFrame = num;\r\n  }\r\n  // console.log('-------');\r\n  // console.log('FRAME ',num);\r\n  this.globalData.frameNum = num;\r\n  this.globalData.frameId += 1;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n  this.globalData._mdf = false;\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newElement = element.getBaseElement();\r\n  if (!newElement) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var nextElement;\r\n  while (i < pos) {\r\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n      nextElement = this.elements[i].getBaseElement();\r\n    }\r\n    i += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(newElement, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(newElement);\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function () {\r\n  this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function () {\r\n  this.layerElement.style.display = 'block';\r\n};\r\n\r\n/* global CVContextData, Matrix, extendPrototype, BaseRenderer, CVShapeElement, CVTextElement,\r\nCVImageElement, CVCompElement, CVSolidElement, SVGRenderer, createTag, createSizedArray */\r\n\r\nfunction CanvasRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.renderConfig = {\r\n    clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\r\n    context: (config && config.context) || null,\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n  };\r\n  this.renderConfig.dpr = (config && config.dpr) || 1;\r\n  if (this.animationItem.wrapper) {\r\n    this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\r\n  }\r\n  this.renderedFrame = -1;\r\n  this.globalData = {\r\n    frameNum: -1,\r\n    _mdf: false,\r\n    renderConfig: this.renderConfig,\r\n    currentGlobalAlpha: -1,\r\n  };\r\n  this.contextData = new CVContextData();\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.transformMat = new Matrix();\r\n  this.completeLayers = false;\r\n  this.rendererType = 'canvas';\r\n}\r\nextendPrototype([BaseRenderer], CanvasRenderer);\r\n\r\nCanvasRenderer.prototype.createShape = function (data) {\r\n  return new CVShapeElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createText = function (data) {\r\n  return new CVTextElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createImage = function (data) {\r\n  return new CVImageElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createComp = function (data) {\r\n  return new CVCompElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createSolid = function (data) {\r\n  return new CVSolidElement(data, this.globalData, this);\r\n};\r\n\r\nCanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nCanvasRenderer.prototype.ctxTransform = function (props) {\r\n  if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\r\n    return;\r\n  }\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\r\n    return;\r\n  }\r\n  this.transformMat.cloneFromProps(props);\r\n  var cProps = this.contextData.cTr.props;\r\n  this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]);\r\n  // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\r\n  this.contextData.cTr.cloneFromProps(this.transformMat.props);\r\n  var trProps = this.contextData.cTr.props;\r\n  this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\r\n};\r\n\r\nCanvasRenderer.prototype.ctxOpacity = function (op) {\r\n  /* if(op === 1){\r\n        return;\r\n    } */\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n    return;\r\n  }\r\n  this.contextData.cO *= op < 0 ? 0 : op;\r\n  if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\r\n    this.canvasContext.globalAlpha = this.contextData.cO;\r\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.reset = function () {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  this.contextData.reset();\r\n};\r\n\r\nCanvasRenderer.prototype.save = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.save();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.save();\r\n  }\r\n  var props = this.contextData.cTr.props;\r\n  if (this.contextData._length <= this.contextData.cArrPos) {\r\n    this.contextData.duplicate();\r\n  }\r\n  var i;\r\n  var arr = this.contextData.saved[this.contextData.cArrPos];\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = props[i];\r\n  }\r\n  this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\r\n  this.contextData.cArrPos += 1;\r\n};\r\n\r\nCanvasRenderer.prototype.restore = function (actionFlag) {\r\n  if (!this.renderConfig.clearCanvas) {\r\n    this.canvasContext.restore();\r\n    return;\r\n  }\r\n  if (actionFlag) {\r\n    this.canvasContext.restore();\r\n    this.globalData.blendMode = 'source-over';\r\n  }\r\n  this.contextData.cArrPos -= 1;\r\n  var popped = this.contextData.saved[this.contextData.cArrPos];\r\n  var i;\r\n  var arr = this.contextData.cTr.props;\r\n  for (i = 0; i < 16; i += 1) {\r\n    arr[i] = popped[i];\r\n  }\r\n  this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\r\n  popped = this.contextData.savedOp[this.contextData.cArrPos];\r\n  this.contextData.cO = popped;\r\n  if (this.globalData.currentGlobalAlpha !== popped) {\r\n    this.canvasContext.globalAlpha = popped;\r\n    this.globalData.currentGlobalAlpha = popped;\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.configAnimation = function (animData) {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.container = createTag('canvas');\r\n    var containerStyle = this.animationItem.container.style;\r\n    containerStyle.width = '100%';\r\n    containerStyle.height = '100%';\r\n    var origin = '0px 0px 0px';\r\n    containerStyle.transformOrigin = origin;\r\n    containerStyle.mozTransformOrigin = origin;\r\n    containerStyle.webkitTransformOrigin = origin;\r\n    containerStyle['-webkit-transform'] = origin;\r\n    this.animationItem.wrapper.appendChild(this.animationItem.container);\r\n    this.canvasContext = this.animationItem.container.getContext('2d');\r\n    if (this.renderConfig.className) {\r\n      this.animationItem.container.setAttribute('class', this.renderConfig.className);\r\n    }\r\n    if (this.renderConfig.id) {\r\n      this.animationItem.container.setAttribute('id', this.renderConfig.id);\r\n    }\r\n  } else {\r\n    this.canvasContext = this.renderConfig.context;\r\n  }\r\n  this.data = animData;\r\n  this.layers = animData.layers;\r\n  this.transformCanvas = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n    sx: 0,\r\n    sy: 0,\r\n    tx: 0,\r\n    ty: 0,\r\n  };\r\n  this.setupGlobalData(animData, document.body);\r\n  this.globalData.canvasContext = this.canvasContext;\r\n  this.globalData.renderer = this;\r\n  this.globalData.isDashed = false;\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.globalData.transformCanvas = this.transformCanvas;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n\r\n  this.updateContainerSize();\r\n};\r\n\r\nCanvasRenderer.prototype.updateContainerSize = function () {\r\n  this.reset();\r\n  var elementWidth;\r\n  var elementHeight;\r\n  if (this.animationItem.wrapper && this.animationItem.container) {\r\n    elementWidth = this.animationItem.wrapper.offsetWidth;\r\n    elementHeight = this.animationItem.wrapper.offsetHeight;\r\n    this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\r\n    this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\r\n  } else {\r\n    elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\r\n    elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\r\n  }\r\n  var elementRel;\r\n  var animationRel;\r\n  if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\r\n    var par = this.renderConfig.preserveAspectRatio.split(' ');\r\n    var fillType = par[1] || 'meet';\r\n    var pos = par[0] || 'xMidYMid';\r\n    var xPos = pos.substr(0, 4);\r\n    var yPos = pos.substr(4);\r\n    elementRel = elementWidth / elementHeight;\r\n    animationRel = this.transformCanvas.w / this.transformCanvas.h;\r\n    if ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice')) {\r\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    } else {\r\n      this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    }\r\n\r\n    if (xPos === 'xMid' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = ((elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2) * this.renderConfig.dpr;\r\n    } else if (xPos === 'xMax' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.tx = 0;\r\n    }\r\n    if (yPos === 'YMid' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2) * this.renderConfig.dpr;\r\n    } else if (yPos === 'YMax' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\r\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w))) * this.renderConfig.dpr;\r\n    } else {\r\n      this.transformCanvas.ty = 0;\r\n    }\r\n  } else if (this.renderConfig.preserveAspectRatio === 'none') {\r\n    this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\r\n    this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  } else {\r\n    this.transformCanvas.sx = this.renderConfig.dpr;\r\n    this.transformCanvas.sy = this.renderConfig.dpr;\r\n    this.transformCanvas.tx = 0;\r\n    this.transformCanvas.ty = 0;\r\n  }\r\n  this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\r\n  /* var i, len = this.elements.length;\r\n    for(i=0;i<len;i+=1){\r\n        if(this.elements[i] && this.elements[i].data.ty === 0){\r\n            this.elements[i].resize(this.globalData.transformCanvas);\r\n        }\r\n    } */\r\n  this.ctxTransform(this.transformCanvas.props);\r\n  this.canvasContext.beginPath();\r\n  this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n  this.canvasContext.closePath();\r\n  this.canvasContext.clip();\r\n\r\n  this.renderFrame(this.renderedFrame, true);\r\n};\r\n\r\nCanvasRenderer.prototype.destroy = function () {\r\n  if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.globalData.canvasContext = null;\r\n  this.animationItem.container = null;\r\n  this.destroyed = true;\r\n};\r\n\r\nCanvasRenderer.prototype.renderFrame = function (num, forceRender) {\r\n  if ((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1) {\r\n    return;\r\n  }\r\n  this.renderedFrame = num;\r\n  this.globalData.frameNum = num - this.animationItem._isFirstFrame;\r\n  this.globalData.frameId += 1;\r\n  this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n\r\n  // console.log('--------');\r\n  // console.log('NEW: ',num);\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    if (this.renderConfig.clearCanvas === true) {\r\n      this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\r\n    } else {\r\n      this.save();\r\n    }\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n    if (this.renderConfig.clearCanvas !== true) {\r\n      this.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  var element = this.createItem(this.layers[pos], this, this.globalData);\r\n  elements[pos] = element;\r\n  element.initExpressions();\r\n  /* if(this.layers[pos].ty === 0){\r\n        element.resize(this.globalData.transformCanvas);\r\n    } */\r\n};\r\n\r\nCanvasRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nCanvasRenderer.prototype.hide = function () {\r\n  this.animationItem.container.style.display = 'none';\r\n};\r\n\r\nCanvasRenderer.prototype.show = function () {\r\n  this.animationItem.container.style.display = 'block';\r\n};\r\n\r\n/* global extendPrototype, BaseRenderer, SVGRenderer, SVGShapeElement, HShapeElement, SVGTextLottieElement,\r\nHTextElement, HCameraElement, IImageElement, HImageElement, SVGCompElement, HCompElement, ISolidElement,\r\nHSolidElement, styleDiv, createTag, createNS */\r\n\r\nfunction HybridRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.renderConfig = {\r\n    className: (config && config.className) || '',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    hideOnTransparent: !(config && config.hideOnTransparent === false),\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '400%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '400%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '-100%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '-100%',\r\n    },\r\n  };\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.pendingElements = [];\r\n  this.elements = [];\r\n  this.threeDElements = [];\r\n  this.destroyed = false;\r\n  this.camera = null;\r\n  this.supports3d = true;\r\n  this.rendererType = 'html';\r\n}\r\n\r\nextendPrototype([BaseRenderer], HybridRenderer);\r\n\r\nHybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem;\r\n\r\nHybridRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newDOMElement = element.getBaseElement();\r\n  if (!newDOMElement) {\r\n    return;\r\n  }\r\n  var layer = this.layers[pos];\r\n  if (!layer.ddd || !this.supports3d) {\r\n    if (this.threeDElements) {\r\n      this.addTo3dContainer(newDOMElement, pos);\r\n    } else {\r\n      var i = 0;\r\n      var nextDOMElement;\r\n      var nextLayer;\r\n      var tmpDOMElement;\r\n      while (i < pos) {\r\n        if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\r\n          nextLayer = this.elements[i];\r\n          tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\r\n          nextDOMElement = tmpDOMElement || nextDOMElement;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (nextDOMElement) {\r\n        if (!layer.ddd || !this.supports3d) {\r\n          this.layerElement.insertBefore(newDOMElement, nextDOMElement);\r\n        }\r\n      } else if (!layer.ddd || !this.supports3d) {\r\n        this.layerElement.appendChild(newDOMElement);\r\n      }\r\n    }\r\n  } else {\r\n    this.addTo3dContainer(newDOMElement, pos);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.createShape = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGShapeElement(data, this.globalData, this);\r\n  }\r\n  return new HShapeElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createText = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGTextLottieElement(data, this.globalData, this);\r\n  }\r\n  return new HTextElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createCamera = function (data) {\r\n  this.camera = new HCameraElement(data, this.globalData, this);\r\n  return this.camera;\r\n};\r\n\r\nHybridRenderer.prototype.createImage = function (data) {\r\n  if (!this.supports3d) {\r\n    return new IImageElement(data, this.globalData, this);\r\n  }\r\n  return new HImageElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createComp = function (data) {\r\n  if (!this.supports3d) {\r\n    return new SVGCompElement(data, this.globalData, this);\r\n  }\r\n  return new HCompElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createSolid = function (data) {\r\n  if (!this.supports3d) {\r\n    return new ISolidElement(data, this.globalData, this);\r\n  }\r\n  return new HSolidElement(data, this.globalData, this);\r\n};\r\n\r\nHybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull;\r\n\r\nHybridRenderer.prototype.getThreeDContainerByPos = function (pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\r\n      return this.threeDElements[i].perspectiveElem;\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nHybridRenderer.prototype.createThreeDContainer = function (pos, type) {\r\n  var perspectiveElem = createTag('div');\r\n  var style;\r\n  var containerStyle;\r\n  styleDiv(perspectiveElem);\r\n  var container = createTag('div');\r\n  styleDiv(container);\r\n  if (type === '3d') {\r\n    style = perspectiveElem.style;\r\n    style.width = this.globalData.compSize.w + 'px';\r\n    style.height = this.globalData.compSize.h + 'px';\r\n    var center = '50% 50%';\r\n    style.webkitTransformOrigin = center;\r\n    style.mozTransformOrigin = center;\r\n    style.transformOrigin = center;\r\n    containerStyle = container.style;\r\n    var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n    containerStyle.transform = matrix;\r\n    containerStyle.webkitTransform = matrix;\r\n  }\r\n\r\n  perspectiveElem.appendChild(container);\r\n  // this.resizerElem.appendChild(perspectiveElem);\r\n  var threeDContainerData = {\r\n    container: container,\r\n    perspectiveElem: perspectiveElem,\r\n    startPos: pos,\r\n    endPos: pos,\r\n    type: type,\r\n  };\r\n  this.threeDElements.push(threeDContainerData);\r\n  return threeDContainerData;\r\n};\r\n\r\nHybridRenderer.prototype.build3dContainers = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var lastThreeDContainerData;\r\n  var currentContainer = '';\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.layers[i].ddd && this.layers[i].ty !== 3) {\r\n      if (currentContainer !== '3d') {\r\n        currentContainer = '3d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '3d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    } else {\r\n      if (currentContainer !== '2d') {\r\n        currentContainer = '2d';\r\n        lastThreeDContainerData = this.createThreeDContainer(i, '2d');\r\n      }\r\n      lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\r\n    }\r\n  }\r\n  len = this.threeDElements.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.addTo3dContainer = function (elem, pos) {\r\n  var i = 0;\r\n  var len = this.threeDElements.length;\r\n  while (i < len) {\r\n    if (pos <= this.threeDElements[i].endPos) {\r\n      var j = this.threeDElements[i].startPos;\r\n      var nextElement;\r\n      while (j < pos) {\r\n        if (this.elements[j] && this.elements[j].getBaseElement) {\r\n          nextElement = this.elements[j].getBaseElement();\r\n        }\r\n        j += 1;\r\n      }\r\n      if (nextElement) {\r\n        this.threeDElements[i].container.insertBefore(elem, nextElement);\r\n      } else {\r\n        this.threeDElements[i].container.appendChild(elem);\r\n      }\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.configAnimation = function (animData) {\r\n  var resizerElem = createTag('div');\r\n  var wrapper = this.animationItem.wrapper;\r\n  var style = resizerElem.style;\r\n  style.width = animData.w + 'px';\r\n  style.height = animData.h + 'px';\r\n  this.resizerElem = resizerElem;\r\n  styleDiv(resizerElem);\r\n  style.transformStyle = 'flat';\r\n  style.mozTransformStyle = 'flat';\r\n  style.webkitTransformStyle = 'flat';\r\n  if (this.renderConfig.className) {\r\n    resizerElem.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  wrapper.appendChild(resizerElem);\r\n\r\n  style.overflow = 'hidden';\r\n  var svg = createNS('svg');\r\n  svg.setAttribute('width', '1');\r\n  svg.setAttribute('height', '1');\r\n  styleDiv(svg);\r\n  this.resizerElem.appendChild(svg);\r\n  var defs = createNS('defs');\r\n  svg.appendChild(defs);\r\n  this.data = animData;\r\n  // Mask animation\r\n  this.setupGlobalData(animData, svg);\r\n  this.globalData.defs = defs;\r\n  this.layers = animData.layers;\r\n  this.layerElement = this.resizerElem;\r\n  this.build3dContainers();\r\n  this.updateContainerSize();\r\n};\r\n\r\nHybridRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.animationItem.container = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.elements[i].destroy();\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nHybridRenderer.prototype.updateContainerSize = function () {\r\n  var elementWidth = this.animationItem.wrapper.offsetWidth;\r\n  var elementHeight = this.animationItem.wrapper.offsetHeight;\r\n  var elementRel = elementWidth / elementHeight;\r\n  var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\r\n  var sx;\r\n  var sy;\r\n  var tx;\r\n  var ty;\r\n  if (animationRel > elementRel) {\r\n    sx = elementWidth / (this.globalData.compSize.w);\r\n    sy = elementWidth / (this.globalData.compSize.w);\r\n    tx = 0;\r\n    ty = ((elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2);\r\n  } else {\r\n    sx = elementHeight / (this.globalData.compSize.h);\r\n    sy = elementHeight / (this.globalData.compSize.h);\r\n    tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\r\n    ty = 0;\r\n  }\r\n  var style = this.resizerElem.style;\r\n  style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\r\n  style.transform = style.webkitTransform;\r\n};\r\n\r\nHybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\r\n\r\nHybridRenderer.prototype.hide = function () {\r\n  this.resizerElem.style.display = 'none';\r\n};\r\n\r\nHybridRenderer.prototype.show = function () {\r\n  this.resizerElem.style.display = 'block';\r\n};\r\n\r\nHybridRenderer.prototype.initItems = function () {\r\n  this.buildAllItems();\r\n  if (this.camera) {\r\n    this.camera.setup();\r\n  } else {\r\n    var cWidth = this.globalData.compSize.w;\r\n    var cHeight = this.globalData.compSize.h;\r\n    var i;\r\n    var len = this.threeDElements.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      var style = this.threeDElements[i].perspectiveElem.style;\r\n      style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\r\n      style.perspective = style.webkitPerspective;\r\n    }\r\n  }\r\n};\r\n\r\nHybridRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  var floatingContainer = createTag('div');\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createSizedArray, createElementID, PropertyFactory, ShapePropertyFactory, createNS, locationHref */\r\n\r\nfunction MaskElement(data, element, globalData) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.globalData = globalData;\r\n  this.storedData = [];\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.maskElement = null;\r\n  var defs = this.globalData.defs;\r\n  var i;\r\n  var len = this.masksProperties ? this.masksProperties.length : 0;\r\n  this.viewData = createSizedArray(len);\r\n  this.solidPath = '';\r\n\r\n  var path;\r\n  var properties = this.masksProperties;\r\n  var count = 0;\r\n  var currentMasks = [];\r\n  var j;\r\n  var jLen;\r\n  var layerId = createElementID();\r\n  var rect;\r\n  var expansor;\r\n  var feMorph;\r\n  var x;\r\n  var maskType = 'clipPath';\r\n  var maskRef = 'clip-path';\r\n  for (i = 0; i < len; i += 1) {\r\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n      maskType = 'mask';\r\n      maskRef = 'mask';\r\n    }\r\n\r\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('fill', '#ffffff');\r\n      rect.setAttribute('width', this.element.comp.data.w || 0);\r\n      rect.setAttribute('height', this.element.comp.data.h || 0);\r\n      currentMasks.push(rect);\r\n    } else {\r\n      rect = null;\r\n    }\r\n\r\n    path = createNS('path');\r\n    if (properties[i].mode === 'n') {\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        elem: path,\r\n        lastPath: '',\r\n      };\r\n      defs.appendChild(path);\r\n    } else {\r\n      count += 1;\r\n\r\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      path.setAttribute('clip-rule', 'nonzero');\r\n      var filterID;\r\n\r\n      if (properties[i].x.k !== 0) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n        filterID = createElementID();\r\n        expansor = createNS('filter');\r\n        expansor.setAttribute('id', filterID);\r\n        feMorph = createNS('feMorphology');\r\n        feMorph.setAttribute('operator', 'erode');\r\n        feMorph.setAttribute('in', 'SourceGraphic');\r\n        feMorph.setAttribute('radius', '0');\r\n        expansor.appendChild(feMorph);\r\n        defs.appendChild(expansor);\r\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      } else {\r\n        feMorph = null;\r\n        x = null;\r\n      }\r\n\r\n      // TODO move this to a factory or to a constructor\r\n      this.storedData[i] = {\r\n        elem: path,\r\n        x: x,\r\n        expan: feMorph,\r\n        lastPath: '',\r\n        lastOperator: '',\r\n        filterId: filterID,\r\n        lastRadius: 0,\r\n      };\r\n      if (properties[i].mode === 'i') {\r\n        jLen = currentMasks.length;\r\n        var g = createNS('g');\r\n        for (j = 0; j < jLen; j += 1) {\r\n          g.appendChild(currentMasks[j]);\r\n        }\r\n        var mask = createNS('mask');\r\n        mask.setAttribute('mask-type', 'alpha');\r\n        mask.setAttribute('id', layerId + '_' + count);\r\n        mask.appendChild(path);\r\n        defs.appendChild(mask);\r\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\r\n\r\n        currentMasks.length = 0;\r\n        currentMasks.push(g);\r\n      } else {\r\n        currentMasks.push(path);\r\n      }\r\n      if (properties[i].inv && !this.solidPath) {\r\n        this.solidPath = this.createLayerSolidPath();\r\n      }\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        elem: path,\r\n        lastPath: '',\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        invRect: rect,\r\n      };\r\n      if (!this.viewData[i].prop.k) {\r\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  this.maskElement = createNS(maskType);\r\n\r\n  len = currentMasks.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.maskElement.appendChild(currentMasks[i]);\r\n  }\r\n\r\n  if (count > 0) {\r\n    this.maskElement.setAttribute('id', layerId);\r\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + locationHref + '#' + layerId + ')');\r\n    defs.appendChild(this.maskElement);\r\n  }\r\n  if (this.viewData.length) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function (pos) {\r\n  return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n  var finalMat = this.element.finalTransform.mat;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n    }\r\n    if (this.viewData[i].op._mdf || isFirstFrame) {\r\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n    }\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n      }\r\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n        var feMorph = this.storedData[i].expan;\r\n        if (this.storedData[i].x.v < 0) {\r\n          if (this.storedData[i].lastOperator !== 'erode') {\r\n            this.storedData[i].lastOperator = 'erode';\r\n            this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\r\n          }\r\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n        } else {\r\n          if (this.storedData[i].lastOperator !== 'dilate') {\r\n            this.storedData[i].lastOperator = 'dilate';\r\n            this.storedData[i].elem.setAttribute('filter', null);\r\n          }\r\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n  return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function () {\r\n  var path = 'M0,0 ';\r\n  path += ' h' + this.globalData.compSize.w;\r\n  path += ' v' + this.globalData.compSize.h;\r\n  path += ' h-' + this.globalData.compSize.w;\r\n  path += ' v-' + this.globalData.compSize.h + ' ';\r\n  return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  var i;\r\n  var len;\r\n  len = pathNodes._length;\r\n  for (i = 1; i < len; i += 1) {\r\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n  }\r\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n  if (pathNodes.c && len > 1) {\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  }\r\n  // pathNodes.__renderedString = pathString;\r\n\r\n  if (viewData.lastPath !== pathString) {\r\n    var pathShapeValue = '';\r\n    if (viewData.elem) {\r\n      if (pathNodes.c) {\r\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n      }\r\n      viewData.elem.setAttribute('d', pathShapeValue);\r\n    }\r\n    viewData.lastPath = pathString;\r\n  }\r\n};\r\n\r\nMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n  this.globalData = null;\r\n  this.maskElement = null;\r\n  this.data = null;\r\n  this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement() {}\r\n\r\nHierarchyElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n  initHierarchy: function () {\r\n    // element's parent list\r\n    this.hierarchy = [];\r\n    // if element is parent of another layer _isParent will be true\r\n    this._isParent = false;\r\n    this.checkParenting();\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */\r\n  setHierarchy: function (hierarchy) {\r\n    this.hierarchy = hierarchy;\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer as parent.\r\n     *\r\n     */\r\n  setAsParent: function () {\r\n    this._isParent = true;\r\n  },\r\n  /**\r\n     * @function\r\n     * Searches layer's parenting chain\r\n     *\r\n     */\r\n  checkParenting: function () {\r\n    if (this.data.parent !== undefined) {\r\n      this.comp.buildElementParenting(this, this.data.parent, []);\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement() {}\r\n\r\nFrameElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n  initFrame: function () {\r\n    // set to true when inpoint is rendered\r\n    this._isFirstFrame = false;\r\n    // list of animated properties\r\n    this.dynamicProperties = [];\r\n    // If layer has been modified in current tick this will be true\r\n    this._mdf = false;\r\n  },\r\n  /**\r\n     * @function\r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     *\r\n     */\r\n  prepareProperties: function (num, isVisible) {\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n        this.dynamicProperties[i].getValue();\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n    }\r\n  },\r\n};\r\n\r\n/* global TransformPropertyFactory, Matrix */\r\n\r\nfunction TransformElement() {}\r\n\r\nTransformElement.prototype = {\r\n  initTransform: function () {\r\n    this.finalTransform = {\r\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\r\n      _matMdf: false,\r\n      _opMdf: false,\r\n      mat: new Matrix(),\r\n    };\r\n    if (this.data.ao) {\r\n      this.finalTransform.mProp.autoOriented = true;\r\n    }\r\n\r\n    // TODO: check TYPE 11: Guided elements\r\n    if (this.data.ty !== 11) {\r\n      // this.createElements();\r\n    }\r\n  },\r\n  renderTransform: function () {\r\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n    if (this.hierarchy) {\r\n      var mat;\r\n      var finalMat = this.finalTransform.mat;\r\n      var i = 0;\r\n      var len = this.hierarchy.length;\r\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n      if (!this.finalTransform._matMdf) {\r\n        while (i < len) {\r\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n            this.finalTransform._matMdf = true;\r\n            break;\r\n          }\r\n          i += 1;\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        mat = this.finalTransform.mProp.v.props;\r\n        finalMat.cloneFromProps(mat);\r\n        for (i = 0; i < len; i += 1) {\r\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  globalToLocal: function (pt) {\r\n    var transforms = [];\r\n    transforms.push(this.finalTransform);\r\n    var flag = true;\r\n    var comp = this.comp;\r\n    while (flag) {\r\n      if (comp.finalTransform) {\r\n        if (comp.data.hasMask) {\r\n          transforms.splice(0, 0, comp.finalTransform);\r\n        }\r\n        comp = comp.comp;\r\n      } else {\r\n        flag = false;\r\n      }\r\n    }\r\n    var i;\r\n    var len = transforms.length;\r\n    var ptNew;\r\n    for (i = 0; i < len; i += 1) {\r\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n    }\r\n    return pt;\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\n\r\nfunction RenderableElement() {\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n  initRenderable: function () {\r\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n    this.isInRange = false;\r\n    // layer's display state\r\n    this.hidden = false;\r\n    // If layer's transparency equals 0, it can be hidden\r\n    this.isTransparent = false;\r\n    // list of animated components\r\n    this.renderableComponents = [];\r\n  },\r\n  addRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) === -1) {\r\n      this.renderableComponents.push(component);\r\n    }\r\n  },\r\n  removeRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) !== -1) {\r\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n    }\r\n  },\r\n  prepareRenderableFrame: function (num) {\r\n    this.checkLayerLimits(num);\r\n  },\r\n  checkTransparency: function () {\r\n    if (this.finalTransform.mProp.o.v <= 0) {\r\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n        this.isTransparent = true;\r\n        this.hide();\r\n      }\r\n    } else if (this.isTransparent) {\r\n      this.isTransparent = false;\r\n      this.show();\r\n    }\r\n  },\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     *\r\n     */\r\n  checkLayerLimits: function (num) {\r\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n      if (this.isInRange !== true) {\r\n        this.globalData._mdf = true;\r\n        this._mdf = true;\r\n        this.isInRange = true;\r\n        this.show();\r\n      }\r\n    } else if (this.isInRange !== false) {\r\n      this.globalData._mdf = true;\r\n      this.isInRange = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  renderRenderable: function () {\r\n    var i;\r\n    var len = this.renderableComponents.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n    }\r\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n  },\r\n  sourceRectAtTime: function () {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      width: 100,\r\n      height: 100,\r\n    };\r\n  },\r\n  getLayerSize: function () {\r\n    if (this.data.ty === 5) {\r\n      return { w: this.data.textData.width, h: this.data.textData.height };\r\n    }\r\n    return { w: this.data.width, h: this.data.height };\r\n  },\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, createProxyFunction */\r\n\r\nfunction RenderableDOMElement() {}\r\n\r\n(function () {\r\n  var _prototype = {\r\n    initElement: function (data, globalData, comp) {\r\n      this.initFrame();\r\n      this.initBaseData(data, globalData, comp);\r\n      this.initTransform(data, globalData, comp);\r\n      this.initHierarchy();\r\n      this.initRenderable();\r\n      this.initRendererElement();\r\n      this.createContainerElements();\r\n      this.createRenderableComponents();\r\n      this.createContent();\r\n      this.hide();\r\n    },\r\n    hide: function () {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        var elem = this.baseElement || this.layerElement;\r\n        elem.style.display = 'none';\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    show: function () {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        if (!this.data.hd) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'block';\r\n        }\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function () {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    renderInnerContent: function () {},\r\n    prepareFrame: function (num) {\r\n      this._mdf = false;\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n      this.checkTransparency();\r\n    },\r\n    destroy: function () {\r\n      this.innerElem = null;\r\n      this.destroyBaseElement();\r\n    },\r\n  };\r\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\n\r\n/* exported ProcessedElement */\r\n\r\nfunction ProcessedElement(element, position) {\r\n  this.elem = element;\r\n  this.pos = position;\r\n}\r\n\r\n/* global createNS */\r\n\r\nfunction SVGStyleData(data, level) {\r\n  this.data = data;\r\n  this.type = data.ty;\r\n  this.d = '';\r\n  this.lvl = level;\r\n  this._mdf = false;\r\n  this.closed = data.hd === true;\r\n  this.pElem = createNS('path');\r\n  this.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function () {\r\n  this.d = '';\r\n  this._mdf = false;\r\n};\r\n\r\nfunction SVGShapeData(transformers, level, shape) {\r\n  this.caches = [];\r\n  this.styles = [];\r\n  this.transformers = transformers;\r\n  this.lStr = '';\r\n  this.sh = shape;\r\n  this.lvl = level;\r\n  // TODO find if there are some cases where _isAnimated can be false.\r\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n  this._isAnimated = !!shape.k;\r\n  // TODO: commenting this for now since all shapes are animated\r\n  var i = 0;\r\n  var len = transformers.length;\r\n  while (i < len) {\r\n    if (transformers[i].mProps.dynamicProperties.length) {\r\n      this._isAnimated = true;\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function () {\r\n  this._isAnimated = true;\r\n};\r\n\r\n/* exported SVGTransformData */\r\n\r\nfunction SVGTransformData(mProps, op, container) {\r\n  this.transform = {\r\n    mProps: mProps,\r\n    op: op,\r\n    container: container,\r\n  };\r\n  this.elements = [];\r\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\n\r\n/* global DashProperty, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n/* global PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n/* global PropertyFactory, degToRads, GradientProperty, createElementID, createNS, locationHref,\r\nextendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\r\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\r\n  this.g = new GradientProperty(elem, data.g, this);\r\n  this.style = styleOb;\r\n  this.stops = [];\r\n  this.setGradientData(styleOb.pElem, data);\r\n  this.setGradientOpacity(data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n  var gradientId = createElementID();\r\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n  gfill.setAttribute('id', gradientId);\r\n  gfill.setAttribute('spreadMethod', 'pad');\r\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n  var stops = [];\r\n  var stop;\r\n  var j;\r\n  var jLen;\r\n  jLen = data.g.p * 4;\r\n  for (j = 0; j < jLen; j += 4) {\r\n    stop = createNS('stop');\r\n    gfill.appendChild(stop);\r\n    stops.push(stop);\r\n  }\r\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\r\n\r\n  this.gf = gfill;\r\n  this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n  if (this.g._hasOpacity && !this.g._collapsable) {\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    var mask = createNS('mask');\r\n    var maskElement = createNS('path');\r\n    mask.appendChild(maskElement);\r\n    var opacityId = createElementID();\r\n    var maskId = createElementID();\r\n    mask.setAttribute('id', maskId);\r\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    opFill.setAttribute('id', opacityId);\r\n    opFill.setAttribute('spreadMethod', 'pad');\r\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n    var stops = this.stops;\r\n    for (j = data.g.p * 4; j < jLen; j += 2) {\r\n      stop = createNS('stop');\r\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n      opFill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\r\n    this.of = opFill;\r\n    this.ms = mask;\r\n    this.ost = stops;\r\n    this.maskId = maskId;\r\n    styleOb.msElem = maskElement;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n/* global PropertyFactory, DashProperty, extendPrototype, SVGGradientFillStyleData, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.initGradientData(elem, data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n/* global createNS */\r\n/* exported ShapeGroupData */\r\n\r\nfunction ShapeGroupData() {\r\n  this.it = [];\r\n  this.prevViewData = [];\r\n  this.gr = createNS('g');\r\n}\r\n\r\n/* global Matrix, buildShapeString, bmFloor */\r\n/* exported SVGElementsRenderer */\r\n\r\nvar SVGElementsRenderer = (function () {\r\n  var _identityMatrix = new Matrix();\r\n  var _matrixHelper = new Matrix();\r\n\r\n  var ob = {\r\n    createRenderFunction: createRenderFunction,\r\n  };\r\n\r\n  function createRenderFunction(data) {\r\n    switch (data.ty) {\r\n      case 'fl':\r\n        return renderFill;\r\n      case 'gf':\r\n        return renderGradient;\r\n      case 'gs':\r\n        return renderGradientStroke;\r\n      case 'st':\r\n        return renderStroke;\r\n      case 'sh':\r\n      case 'el':\r\n      case 'rc':\r\n      case 'sr':\r\n        return renderPath;\r\n      case 'tr':\r\n        return renderContentTransform;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n    if (isFirstFrame || itemData.transform.op._mdf) {\r\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n    }\r\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n    }\r\n  }\r\n\r\n  function renderPath(styleData, itemData, isFirstFrame) {\r\n    var j;\r\n    var jLen;\r\n    var pathStringTransformed;\r\n    var redraw;\r\n    var pathNodes;\r\n    var l;\r\n    var lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths;\r\n    var mat;\r\n    var props;\r\n    var iterations;\r\n    var k;\r\n    for (l = 0; l < lLen; l += 1) {\r\n      redraw = itemData.sh._mdf || isFirstFrame;\r\n      if (itemData.styles[l].lvl < lvl) {\r\n        mat = _matrixHelper.reset();\r\n        iterations = lvl - itemData.styles[l].lvl;\r\n        k = itemData.transformers.length - 1;\r\n        while (!redraw && iterations > 0) {\r\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n          iterations -= 1;\r\n          k -= 1;\r\n        }\r\n        if (redraw) {\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n          while (iterations > 0) {\r\n            props = itemData.transformers[k].mProps.v.props;\r\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n        }\r\n      } else {\r\n        mat = _identityMatrix;\r\n      }\r\n      paths = itemData.sh.paths;\r\n      jLen = paths._length;\r\n      if (redraw) {\r\n        pathStringTransformed = '';\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathNodes = paths.shapes[j];\r\n          if (pathNodes && pathNodes._length) {\r\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n          }\r\n        }\r\n        itemData.caches[l] = pathStringTransformed;\r\n      } else {\r\n        pathStringTransformed = itemData.caches[l];\r\n      }\r\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n  }\r\n\r\n  function renderFill(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n    }\r\n  }\r\n\r\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n    renderGradient(styleData, itemData, isFirstFrame);\r\n    renderStroke(styleData, itemData, isFirstFrame);\r\n  }\r\n\r\n  function renderGradient(styleData, itemData, isFirstFrame) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || isFirstFrame) {\r\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n      gfill.setAttribute(attr1, pt1[0]);\r\n      gfill.setAttribute(attr2, pt1[1]);\r\n      if (hasOpacity && !itemData.g._collapsable) {\r\n        itemData.of.setAttribute(attr1, pt1[0]);\r\n        itemData.of.setAttribute(attr2, pt1[1]);\r\n      }\r\n    }\r\n    var stops;\r\n    var i;\r\n    var len;\r\n    var stop;\r\n    if (itemData.g._cmdf || isFirstFrame) {\r\n      stops = itemData.cst;\r\n      var cValues = itemData.g.c;\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        stop.setAttribute('offset', cValues[i * 4] + '%');\r\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n      }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n      var oValues = itemData.g.o;\r\n      if (itemData.g._collapsable) {\r\n        stops = itemData.cst;\r\n      } else {\r\n        stops = itemData.ost;\r\n      }\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        if (!itemData.g._collapsable) {\r\n          stop.setAttribute('offset', oValues[i * 2] + '%');\r\n        }\r\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n      }\r\n    }\r\n    if (styleData.t === 1) {\r\n      if (itemData.e._mdf || isFirstFrame) {\r\n        gfill.setAttribute('x2', pt2[0]);\r\n        gfill.setAttribute('y2', pt2[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('x2', pt2[0]);\r\n          itemData.of.setAttribute('y2', pt2[1]);\r\n        }\r\n      }\r\n    } else {\r\n      var rad;\r\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        gfill.setAttribute('r', rad);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('r', rad);\r\n        }\r\n      }\r\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n        if (!rad) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        }\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n        var percent = itemData.h.v;\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        gfill.setAttribute('fx', x);\r\n        gfill.setAttribute('fy', y);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('fx', x);\r\n          itemData.of.setAttribute('fy', y);\r\n        }\r\n      }\r\n      // gfill.setAttribute('fy','200');\r\n    }\r\n  }\r\n\r\n  function renderStroke(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if (itemData.w._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n      if (styleElem.msElem) {\r\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix */\r\n\r\nfunction ShapeTransformManager() {\r\n  this.sequences = {};\r\n  this.sequenceList = [];\r\n  this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n  addTransformSequence: function (transforms) {\r\n    var i;\r\n    var len = transforms.length;\r\n    var key = '_';\r\n    for (i = 0; i < len; i += 1) {\r\n      key += transforms[i].transform.key + '_';\r\n    }\r\n    var sequence = this.sequences[key];\r\n    if (!sequence) {\r\n      sequence = {\r\n        transforms: [].concat(transforms),\r\n        finalTransform: new Matrix(),\r\n        _mdf: false,\r\n      };\r\n      this.sequences[key] = sequence;\r\n      this.sequenceList.push(sequence);\r\n    }\r\n    return sequence;\r\n  },\r\n  processSequence: function (sequence, isFirstFrame) {\r\n    var i = 0;\r\n    var len = sequence.transforms.length;\r\n    var _mdf = isFirstFrame;\r\n    while (i < len && !isFirstFrame) {\r\n      if (sequence.transforms[i].transform.mProps._mdf) {\r\n        _mdf = true;\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (_mdf) {\r\n      var props;\r\n      sequence.finalTransform.reset();\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        props = sequence.transforms[i].transform.mProps.v.props;\r\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n      }\r\n    }\r\n    sequence._mdf = _mdf;\r\n  },\r\n  processSequences: function (isFirstFrame) {\r\n    var i;\r\n    var len = this.sequenceList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.processSequence(this.sequenceList[i], isFirstFrame);\r\n    }\r\n  },\r\n  getNewKey: function () {\r\n    this.transform_key_count += 1;\r\n    return '_' + this.transform_key_count;\r\n  },\r\n};\r\n\r\n/* global ShapePropertyFactory, SVGShapeData */\r\n\r\nfunction CVShapeData(element, data, styles, transformsManager) {\r\n  this.styledShapes = [];\r\n  this.tr = [0, 0, 0, 0, 0, 0];\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\r\n  var i;\r\n  var len = styles.length;\r\n  var styledShape;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!styles[i].closed) {\r\n      styledShape = {\r\n        transforms: transformsManager.addTransformSequence(styles[i].transforms),\r\n        trNodes: [],\r\n      };\r\n      this.styledShapes.push(styledShape);\r\n      styles[i].elements.push(styledShape);\r\n    }\r\n  }\r\n}\r\n\r\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\r\n\r\n/* global LayerExpressionInterface, EffectsExpressionInterface, CompExpressionInterface, ShapeExpressionInterface,\r\nTextExpressionInterface, getBlendMode,createElementID, EffectsManager */\r\n\r\nfunction BaseElement() {\r\n}\r\n\r\nBaseElement.prototype = {\r\n  checkMasks: function () {\r\n    if (!this.data.hasMask) {\r\n      return false;\r\n    }\r\n    var i = 0;\r\n    var len = this.data.masksProperties.length;\r\n    while (i < len) {\r\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n        return true;\r\n      }\r\n      i += 1;\r\n    }\r\n    return false;\r\n  },\r\n  initExpressions: function () {\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if (this.data.hasMask && this.maskManager) {\r\n      this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if (this.data.ty === 0 || this.data.xt) {\r\n      this.compInterface = CompExpressionInterface(this);\r\n    } else if (this.data.ty === 4) {\r\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n      this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if (this.data.ty === 5) {\r\n      this.layerInterface.textInterface = TextExpressionInterface(this);\r\n      this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n  },\r\n  setBlendMode: function () {\r\n    var blendModeValue = getBlendMode(this.data.bm);\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n  },\r\n  initBaseData: function (data, globalData, comp) {\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = createElementID();\r\n\r\n    // Stretch factor for old animations missing this property.\r\n    if (!this.data.sr) {\r\n      this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n  },\r\n  getType: function () {\r\n    return this.type;\r\n  },\r\n  sourceRectAtTime: function () {},\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement */\r\n\r\nfunction NullElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initFrame();\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function () {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nNullElement.prototype.destroy = function () {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nNullElement.prototype.hide = function () {\r\n};\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n/* global filtersFactory, featureSupport, filtersFactory, createElementID, createNS, MaskElement, SVGEffects, locationHref */\r\n\r\nfunction SVGBaseElement() {\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n  initRendererElement: function () {\r\n    this.layerElement = createNS('g');\r\n  },\r\n  createContainerElements: function () {\r\n    this.matteElement = createNS('g');\r\n    this.transformedElement = this.layerElement;\r\n    this.maskedElement = this.layerElement;\r\n    this._sizeChanged = false;\r\n    var layerElementParent = null;\r\n    // If this layer acts as a mask for the following layer\r\n    var filId;\r\n    var fil;\r\n    var gg;\r\n    if (this.data.td) {\r\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', this.layerId);\r\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\r\n        masker.appendChild(this.layerElement);\r\n        layerElementParent = masker;\r\n        this.globalData.defs.appendChild(masker);\r\n        // This is only for IE and Edge when mask if of type alpha\r\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\r\n          masker.setAttribute('mask-type', 'luminance');\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId);\r\n          this.globalData.defs.appendChild(fil);\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          masker.appendChild(gg);\r\n          gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        }\r\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\r\n        var maskGroup = createNS('mask');\r\n        maskGroup.setAttribute('id', this.layerId);\r\n        maskGroup.setAttribute('mask-type', 'alpha');\r\n        var maskGrouper = createNS('g');\r\n        maskGroup.appendChild(maskGrouper);\r\n        filId = createElementID();\r\n        fil = filtersFactory.createFilter(filId);\r\n        /// /\r\n\r\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n        /* var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix); */\r\n        /// /\r\n        var feCTr = createNS('feComponentTransfer');\r\n        feCTr.setAttribute('in', 'SourceGraphic');\r\n        fil.appendChild(feCTr);\r\n        var feFunc = createNS('feFuncA');\r\n        feFunc.setAttribute('type', 'table');\r\n        feFunc.setAttribute('tableValues', '1.0 0.0');\r\n        feCTr.appendChild(feFunc);\r\n        /// /\r\n        this.globalData.defs.appendChild(fil);\r\n        var alphaRect = createNS('rect');\r\n        alphaRect.setAttribute('width', this.comp.data.w);\r\n        alphaRect.setAttribute('height', this.comp.data.h);\r\n        alphaRect.setAttribute('x', '0');\r\n        alphaRect.setAttribute('y', '0');\r\n        alphaRect.setAttribute('fill', '#ffffff');\r\n        alphaRect.setAttribute('opacity', '0');\r\n        maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        maskGrouper.appendChild(alphaRect);\r\n        maskGrouper.appendChild(this.layerElement);\r\n        layerElementParent = maskGrouper;\r\n        if (!featureSupport.maskType) {\r\n          maskGroup.setAttribute('mask-type', 'luminance');\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          maskGrouper.appendChild(alphaRect);\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          maskGrouper.appendChild(gg);\r\n        }\r\n        this.globalData.defs.appendChild(maskGroup);\r\n      }\r\n    } else if (this.data.tt) {\r\n      this.matteElement.appendChild(this.layerElement);\r\n      layerElementParent = this.matteElement;\r\n      this.baseElement = this.matteElement;\r\n    } else {\r\n      this.baseElement = this.layerElement;\r\n    }\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n    if (this.data.ty === 0 && !this.data.hd) {\r\n      var cp = createNS('clipPath');\r\n      var pt = createNS('path');\r\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n      var clipId = createElementID();\r\n      cp.setAttribute('id', clipId);\r\n      cp.appendChild(pt);\r\n      this.globalData.defs.appendChild(cp);\r\n\r\n      if (this.checkMasks()) {\r\n        var cpGroup = createNS('g');\r\n        cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n        cpGroup.appendChild(this.layerElement);\r\n        this.transformedElement = cpGroup;\r\n        if (layerElementParent) {\r\n          layerElementParent.appendChild(this.transformedElement);\r\n        } else {\r\n          this.baseElement = this.transformedElement;\r\n        }\r\n      } else {\r\n        this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n      }\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    if (this.finalTransform._matMdf) {\r\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n    }\r\n  },\r\n  destroyBaseElement: function () {\r\n    this.layerElement = null;\r\n    this.matteElement = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  getBaseElement: function () {\r\n    if (this.data.hd) {\r\n      return null;\r\n    }\r\n    return this.baseElement;\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    this.renderableEffectsManager = new SVGEffects(this);\r\n  },\r\n  setMatte: function (id) {\r\n    if (!this.matteElement) {\r\n      return;\r\n    }\r\n    this.matteElement.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n  },\r\n};\r\n\r\n/* global ProcessedElement */\r\n\r\nfunction IShapeElement() {\r\n}\r\n\r\nIShapeElement.prototype = {\r\n  addShapeToModifiers: function (data) {\r\n    var i;\r\n    var len = this.shapeModifiers.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapeModifiers[i].addShape(data);\r\n    }\r\n  },\r\n  isShapeInAnimatedModifiers: function (data) {\r\n    var i = 0;\r\n    var len = this.shapeModifiers.length;\r\n    while (i < len) {\r\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  renderModifiers: function () {\r\n    if (!this.shapeModifiers.length) {\r\n      return;\r\n    }\r\n    var i;\r\n    var len = this.shapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].sh.reset();\r\n    }\r\n\r\n    len = this.shapeModifiers.length;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n    }\r\n  },\r\n  lcEnum: {\r\n    1: 'butt',\r\n    2: 'round',\r\n    3: 'square',\r\n  },\r\n  ljEnum: {\r\n    1: 'miter',\r\n    2: 'round',\r\n    3: 'bevel',\r\n  },\r\n  searchProcessedElement: function (elem) {\r\n    var elements = this.processedElements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n    while (i < len) {\r\n      if (elements[i].elem === elem) {\r\n        return elements[i].pos;\r\n      }\r\n      i += 1;\r\n    }\r\n    return 0;\r\n  },\r\n  addProcessedElement: function (elem, pos) {\r\n    var elements = this.processedElements;\r\n    var i = elements.length;\r\n    while (i) {\r\n      i -= 1;\r\n      if (elements[i].elem === elem) {\r\n        elements[i].pos = pos;\r\n        return;\r\n      }\r\n    }\r\n    elements.push(new ProcessedElement(elem, pos));\r\n  },\r\n  prepareFrame: function (num) {\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  },\r\n};\r\n\r\n/* global TextProperty, TextAnimatorProperty, buildShapeString, LetterProps */\r\n\r\nfunction ITextElement() {\r\n}\r\n\r\nITextElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.lettersChangedFlag = true;\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n  this.initRenderable();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  this.createContent();\r\n  this.hide();\r\n  this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n    this.buildNewText();\r\n    this.textProperty._isFirstFrame = false;\r\n    this.textProperty._mdf = false;\r\n  }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n  var j;\r\n  var jLen = shapes.length;\r\n  var pathNodes;\r\n  var shapeStr = '';\r\n  for (j = 0; j < jLen; j += 1) {\r\n    pathNodes = shapes[j].ks.k;\r\n    shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n  }\r\n  return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function (newData, index) {\r\n  this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function (_canResize) {\r\n  this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n  this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n  if (documentData.ps) {\r\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n  }\r\n  matrixHelper.translate(0, -documentData.ls, 0);\r\n  switch (documentData.j) {\r\n    case 1:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n      break;\r\n    case 2:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function (colorData) {\r\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function () {\r\n\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement */\r\n\r\nfunction ICompElement() {}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initRenderable();\r\n  this.initHierarchy();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  if (this.data.xt || !globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n  this.hide();\r\n};\r\n\r\n/* ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n}; */\r\n\r\nICompElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (!this.isInRange && !this.data.xt) {\r\n    return;\r\n  }\r\n\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    if (timeRemapped === this.data.op) {\r\n      timeRemapped = this.data.op - 1;\r\n    }\r\n    this.renderedFrame = timeRemapped;\r\n  } else {\r\n    this.renderedFrame = num / this.data.sr;\r\n  }\r\n  var i;\r\n  var len = this.elements.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(this.renderedFrame);\r\n  }\r\n  // This iteration needs to be backwards because of how expressions connect between each other\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n      if (this.elements[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.setElements = function (elems) {\r\n  this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function () {\r\n  return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.destroy = function () {\r\n  this.destroyElements();\r\n  this.destroyBaseElement();\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, createNS */\r\n\r\nfunction IImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n  this.sourceRect = {\r\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\r\n  };\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n  this.innerElem = createNS('image');\r\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n\r\n  this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function () {\r\n  return this.sourceRect;\r\n};\r\n\r\n/* global extendPrototype, IImageElement, createNS */\r\n\r\nfunction ISolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function () {\r\n  var rect = createNS('rect');\r\n  /// /rect.style.width = this.data.sw;\r\n  /// /rect.style.height = this.data.sh;\r\n  /// /rect.style.fill = this.data.sc;\r\n  rect.setAttribute('width', this.data.sw);\r\n  rect.setAttribute('height', this.data.sh);\r\n  rect.setAttribute('fill', this.data.sc);\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global PropertyFactory, extendPrototype, RenderableElement, BaseElement, FrameElement */\r\n\r\nfunction AudioElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initBaseData(data, globalData, comp);\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  this.audio = this.globalData.audioController.createAudio(assetPath);\r\n  this._currentTime = 0;\r\n  this.globalData.audioController.addAudio(this);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function (num) {\r\n  this.prepareRenderableFrame(num, true);\r\n  this.prepareProperties(num, true);\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    this._currentTime = timeRemapped;\r\n  } else {\r\n    this._currentTime = num / this.data.sr;\r\n  }\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function () {\r\n  if (this.isInRange && this._canPlay) {\r\n    if (!this._isPlaying) {\r\n      this.audio.play();\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      this._isPlaying = true;\r\n    } else if (!this.audio.playing()\r\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n    ) {\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n    }\r\n  }\r\n};\r\n\r\nAudioElement.prototype.show = function () {\r\n  // this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function () {\r\n  this._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function (rateValue) {\r\n  this.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function (volumeValue) {\r\n  this.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function () {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function () {\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, SVGRenderer, ICompElement, SVGBaseElement */\r\n\r\nfunction SVGCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = true;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  // this.layerElement = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createNS */\r\n\r\nfunction SVGTextLottieElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.renderType = 'svg';\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\nSVGTextLottieElement.prototype.createContent = function () {\r\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n    this.textContainer = createNS('text');\r\n  }\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n  var i = 0;\r\n  var len = textArray.length;\r\n  var textContents = [];\r\n  var currentTextContent = '';\r\n  while (i < len) {\r\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n      textContents.push(currentTextContent);\r\n      currentTextContent = '';\r\n    } else {\r\n      currentTextContent += textArray[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  textContents.push(currentTextContent);\r\n  return textContents;\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildNewText = function () {\r\n  var i;\r\n  var len;\r\n\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n  if (documentData.fc) {\r\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n  } else {\r\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n  }\r\n  if (documentData.sc) {\r\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n  }\r\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (fontData.fClass) {\r\n    this.layerElement.setAttribute('class', fontData.fClass);\r\n  } else {\r\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n    var fWeight = documentData.fWeight;\r\n    var fStyle = documentData.fStyle;\r\n    this.layerElement.setAttribute('font-style', fStyle);\r\n    this.layerElement.setAttribute('font-weight', fWeight);\r\n  }\r\n  this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n  var letters = documentData.l || [];\r\n  var usesGlyphs = !!this.globalData.fontManager.chars;\r\n  len = letters.length;\r\n\r\n  var tSpan;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var singleShape = this.data.singleShape;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  if (singleShape && !usesGlyphs && !documentData.sz) {\r\n    var tElement = this.textContainer;\r\n    var justify = 'start';\r\n    switch (documentData.j) {\r\n      case 1:\r\n        justify = 'end';\r\n        break;\r\n      case 2:\r\n        justify = 'middle';\r\n        break;\r\n      default:\r\n        justify = 'start';\r\n        break;\r\n    }\r\n    tElement.setAttribute('text-anchor', justify);\r\n    tElement.setAttribute('letter-spacing', trackingOffset);\r\n    var textContent = this.buildTextContents(documentData.finalText);\r\n    len = textContent.length;\r\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      tSpan = this.textSpans[i] || createNS('tspan');\r\n      tSpan.textContent = textContent[i];\r\n      tSpan.setAttribute('x', 0);\r\n      tSpan.setAttribute('y', yPos);\r\n      tSpan.style.display = 'inherit';\r\n      tElement.appendChild(tSpan);\r\n      this.textSpans[i] = tSpan;\r\n      yPos += documentData.finalLineHeight;\r\n    }\r\n\r\n    this.layerElement.appendChild(tElement);\r\n  } else {\r\n    var cachedSpansLength = this.textSpans.length;\r\n    var shapeData;\r\n    var charData;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!usesGlyphs || !singleShape || i === 0) {\r\n        tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\r\n        if (cachedSpansLength <= i) {\r\n          tSpan.setAttribute('stroke-linecap', 'butt');\r\n          tSpan.setAttribute('stroke-linejoin', 'round');\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n          this.textSpans[i] = tSpan;\r\n          this.layerElement.appendChild(tSpan);\r\n        }\r\n        tSpan.style.display = 'inherit';\r\n      }\r\n\r\n      matrixHelper.reset();\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n      if (singleShape) {\r\n        if (letters[i].n) {\r\n          xPos = -trackingOffset;\r\n          yPos += documentData.yOffset;\r\n          yPos += firstLine ? 1 : 0;\r\n          firstLine = false;\r\n        }\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        xPos += letters[i].l || 0;\r\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n        xPos += trackingOffset;\r\n      }\r\n      if (usesGlyphs) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = (charData && charData.data) || {};\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        if (!singleShape) {\r\n          tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\r\n        } else {\r\n          shapeStr += this.createPathShape(matrixHelper, shapes);\r\n        }\r\n      } else {\r\n        if (singleShape) {\r\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n        }\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      }\r\n      //\r\n    }\r\n    if (singleShape && tSpan) {\r\n      tSpan.setAttribute('d', shapeStr);\r\n    }\r\n  }\r\n  while (i < this.textSpans.length) {\r\n    this.textSpans[i].style.display = 'none';\r\n    i += 1;\r\n  }\r\n\r\n  this._sizeChanged = true;\r\n};\r\n\r\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n  this.renderInnerContent();\r\n  if (this._sizeChanged) {\r\n    this._sizeChanged = false;\r\n    var textBox = this.layerElement.getBBox();\r\n    this.bbox = {\r\n      top: textBox.y,\r\n      left: textBox.x,\r\n      width: textBox.width,\r\n      height: textBox.height,\r\n    };\r\n  }\r\n  return this.bbox;\r\n};\r\n\r\nSVGTextLottieElement.prototype.renderInnerContent = function () {\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n      this._sizeChanged = true;\r\n      var i;\r\n      var len;\r\n      var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n      var letters = this.textProperty.currentData.l;\r\n\r\n      len = letters.length;\r\n      var renderedLetter;\r\n      var textSpan;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!letters[i].n) {\r\n          renderedLetter = renderedLetters[i];\r\n          textSpan = this.textSpans[i];\r\n          if (renderedLetter._mdf.m) {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n          if (renderedLetter._mdf.o) {\r\n            textSpan.setAttribute('opacity', renderedLetter.o);\r\n          }\r\n          if (renderedLetter._mdf.sw) {\r\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n          }\r\n          if (renderedLetter._mdf.sc) {\r\n            textSpan.setAttribute('stroke', renderedLetter.sc);\r\n          }\r\n          if (renderedLetter._mdf.fc) {\r\n            textSpan.setAttribute('fill', renderedLetter.fc);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement,\r\nFrameElement, RenderableDOMElement, Matrix, SVGStyleData, SVGStrokeStyleData, SVGFillStyleData,\r\nSVGGradientFillStyleData, SVGGradientStrokeStyleData, locationHref, getBlendMode, ShapeGroupData,\r\nTransformPropertyFactory, SVGTransformData, ShapePropertyFactory, SVGShapeData, SVGElementsRenderer, ShapeModifiers */\r\n\r\nfunction SVGShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function () {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\nSVGShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function () {\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var shape;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  var style;\r\n  var tempShapes = [];\r\n  var areAnimated = false;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    style = this.stylesList[j];\r\n    areAnimated = false;\r\n    tempShapes.length = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      shape = this.shapes[i];\r\n      if (shape.styles.indexOf(style) !== -1) {\r\n        tempShapes.push(shape);\r\n        areAnimated = shape._isAnimated || areAnimated;\r\n      }\r\n    }\r\n    if (tempShapes.length > 1 && areAnimated) {\r\n      this.setShapesAsAnimated(tempShapes);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n  var i;\r\n  var len = shapes.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    shapes[i].setAsAnimated();\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n  // TODO: prevent drawing of hidden styles\r\n  var elementData;\r\n  var styleOb = new SVGStyleData(data, level);\r\n\r\n  var pathElement = styleOb.pElem;\r\n  if (data.ty === 'st') {\r\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'fl') {\r\n    elementData = new SVGFillStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n    elementData = new GradientConstructor(this, data, styleOb);\r\n    this.globalData.defs.appendChild(elementData.gf);\r\n    if (elementData.maskId) {\r\n      this.globalData.defs.appendChild(elementData.ms);\r\n      this.globalData.defs.appendChild(elementData.of);\r\n      pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\r\n    }\r\n  }\r\n\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    pathElement.setAttribute('stroke-linecap', this.lcEnum[data.lc] || 'round');\r\n    pathElement.setAttribute('stroke-linejoin', this.ljEnum[data.lj] || 'round');\r\n    pathElement.setAttribute('fill-opacity', '0');\r\n    if (data.lj === 1) {\r\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n    }\r\n  }\r\n\r\n  if (data.r === 2) {\r\n    pathElement.setAttribute('fill-rule', 'evenodd');\r\n  }\r\n\r\n  if (data.ln) {\r\n    pathElement.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    pathElement.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  this.stylesList.push(styleOb);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function (data) {\r\n  var elementData = new ShapeGroupData();\r\n  if (data.ln) {\r\n    elementData.gr.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    elementData.gr.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n  var i = 0;\r\n  var len = this.animatedContents.length;\r\n  while (i < len) {\r\n    if (this.animatedContents[i].element === element) {\r\n      return;\r\n    }\r\n    i += 1;\r\n  }\r\n  this.animatedContents.push({\r\n    fn: SVGElementsRenderer.createRenderFunction(data),\r\n    element: element,\r\n    data: data,\r\n  });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n  var arr = elementData.styles;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    if (!this.stylesList[j].closed) {\r\n      arr.push(this.stylesList[j]);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n  var ownTransformers = [].concat(transformers);\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var currentTransform;\r\n  var modifier;\r\n  var processedPos;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._render = render;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], level);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n      if (arr[i]._render) {\r\n        container.appendChild(itemsData[i].style.pElem);\r\n      }\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n      if (arr[i]._render) {\r\n        container.appendChild(itemsData[i].gr);\r\n      }\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createTransformElement(arr[i], container);\r\n      }\r\n      currentTransform = itemsData[i].transform;\r\n      ownTransformers.push(currentTransform);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n      }\r\n      this.setElementStyles(itemsData[i]);\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        render = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  len = ownStyles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownStyles[i].closed = true;\r\n  }\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function () {\r\n  this.renderModifiers();\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.stylesList[i].reset();\r\n  }\r\n  this.renderShape();\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n      if (this.stylesList[i].msElem) {\r\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n        // Adding M0 0 fixes same mask bug on all browsers\r\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n      }\r\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function () {\r\n  var i;\r\n  var len = this.animatedContents.length;\r\n  var animatedContent;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatedContent = this.animatedContents[i];\r\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function () {\r\n  this.destroyBaseElement();\r\n  this.shapesData = null;\r\n  this.itemsData = null;\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTintFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f2');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n  if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'SourceGraphic');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'f2');\r\n    feMerge.appendChild(feMergeNode);\r\n  }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var colorBlack = this.filterManager.effectElements[0].p.v;\r\n    var colorWhite = this.filterManager.effectElements[1].p.v;\r\n    var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n    this.matrixFilter.setAttribute('values', (colorWhite[0] - colorBlack[0]) + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGFillFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color = this.filterManager.effectElements[2].p.v;\r\n    var opacity = this.filterManager.effectElements[6].p.v;\r\n    this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGGaussianBlurEffect(filter, filterManager) {\r\n  // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n  filter.setAttribute('x', '-100%');\r\n  filter.setAttribute('y', '-100%');\r\n  filter.setAttribute('width', '300%');\r\n  filter.setAttribute('height', '300%');\r\n\r\n  this.filterManager = filterManager;\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  filter.appendChild(feGaussianBlur);\r\n  this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    // Empirical value, matching AE's blur appearance.\r\n    var kBlurrinessToSigma = 0.3;\r\n    var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n    // Dimensions mapping:\r\n    //\r\n    //   1 -> horizontal & vertical\r\n    //   2 -> horizontal only\r\n    //   3 -> vertical only\r\n    //\r\n    var dimensions = this.filterManager.effectElements[1].p.v;\r\n    var sigmaX = (dimensions == 3) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n    var sigmaY = (dimensions == 2) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n    this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\r\n\r\n    // Repeat edges mapping:\r\n    //\r\n    //   0 -> off -> duplicate\r\n    //   1 -> on  -> wrap\r\n    var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n    this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n  }\r\n};\r\n\r\n/* global createNS, createElementID, locationHref, bmFloor */\r\n\r\nfunction SVGStrokeEffect(elem, filterManager) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.elem = elem;\r\n  this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function () {\r\n  var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n  var path;\r\n  var groupPath;\r\n  var i;\r\n  var len;\r\n  if (this.filterManager.effectElements[1].p.v === 1) {\r\n    len = this.elem.maskManager.masksProperties.length;\r\n    i = 0;\r\n  } else {\r\n    i = this.filterManager.effectElements[0].p.v - 1;\r\n    len = i + 1;\r\n  }\r\n  groupPath = createNS('g');\r\n  groupPath.setAttribute('fill', 'none');\r\n  groupPath.setAttribute('stroke-linecap', 'round');\r\n  groupPath.setAttribute('stroke-dashoffset', 1);\r\n  for (i; i < len; i += 1) {\r\n    path = createNS('path');\r\n    groupPath.appendChild(path);\r\n    this.paths.push({ p: path, m: i });\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 3) {\r\n    var mask = createNS('mask');\r\n    var id = createElementID();\r\n    mask.setAttribute('id', id);\r\n    mask.setAttribute('mask-type', 'alpha');\r\n    mask.appendChild(groupPath);\r\n    this.elem.globalData.defs.appendChild(mask);\r\n    var g = createNS('g');\r\n    g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n    while (elemChildren[0]) {\r\n      g.appendChild(elemChildren[0]);\r\n    }\r\n    this.elem.layerElement.appendChild(g);\r\n    this.masker = mask;\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (this.filterManager.effectElements[10].p.v === 2) {\r\n      elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n      while (elemChildren.length) {\r\n        this.elem.layerElement.removeChild(elemChildren[0]);\r\n      }\r\n    }\r\n    this.elem.layerElement.appendChild(groupPath);\r\n    this.elem.layerElement.removeAttribute('mask');\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  }\r\n  this.initialized = true;\r\n  this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n  var i;\r\n  var len = this.paths.length;\r\n  var mask;\r\n  var path;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.paths[i].m !== -1) {\r\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n      path = this.paths[i].p;\r\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n        path.setAttribute('d', mask.lastPath);\r\n      }\r\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n        var dasharrayValue;\r\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var l = path.getTotalLength();\r\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n          var lineLength = l * (e - s);\r\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          var units = Math.floor(lineLength / segment);\r\n          var j;\r\n          for (j = 0; j < units; j += 1) {\r\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n          }\r\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n        } else {\r\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n        }\r\n        path.setAttribute('stroke-dasharray', dasharrayValue);\r\n      }\r\n    }\r\n  }\r\n  if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n    this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n  }\r\n\r\n  if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n    this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n      var color = this.filterManager.effectElements[3].p.v;\r\n      this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTritoneFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n  feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n  filter.appendChild(feComponentTransfer);\r\n  this.matrixFilter = feComponentTransfer;\r\n  var feFuncR = createNS('feFuncR');\r\n  feFuncR.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncR);\r\n  this.feFuncR = feFuncR;\r\n  var feFuncG = createNS('feFuncG');\r\n  feFuncG.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncG);\r\n  this.feFuncG = feFuncG;\r\n  var feFuncB = createNS('feFuncB');\r\n  feFuncB.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncB);\r\n  this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color1 = this.filterManager.effectElements[0].p.v;\r\n    var color2 = this.filterManager.effectElements[1].p.v;\r\n    var color3 = this.filterManager.effectElements[2].p.v;\r\n    var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n    var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n    var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n    this.feFuncR.setAttribute('tableValues', tableR);\r\n    this.feFuncG.setAttribute('tableValues', tableG);\r\n    this.feFuncB.setAttribute('tableValues', tableB);\r\n    // var opacity = this.filterManager.effectElements[2].p.v/100;\r\n    // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGProLevelsFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var effectElements = this.filterManager.effectElements;\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n\r\n  if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n    this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n  }\r\n  if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n    this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n  }\r\n  if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n    this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n  if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n    this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n  }\r\n\r\n  if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    feComponentTransfer = createNS('feComponentTransfer');\r\n  }\r\n\r\n  if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n  var feFunc = createNS(type);\r\n  feFunc.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFunc);\r\n  return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n  var cnt = 0;\r\n  var segments = 256;\r\n  var perc;\r\n  var min = Math.min(inputBlack, inputWhite);\r\n  var max = Math.max(inputBlack, inputWhite);\r\n  var table = Array.call(null, { length: segments });\r\n  var colorValue;\r\n  var pos = 0;\r\n  var outputDelta = outputWhite - outputBlack;\r\n  var inputDelta = inputWhite - inputBlack;\r\n  while (cnt <= 256) {\r\n    perc = cnt / 256;\r\n    if (perc <= min) {\r\n      colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n    } else if (perc >= max) {\r\n      colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n    } else {\r\n      colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n    }\r\n    table[pos] = colorValue;\r\n    pos += 1;\r\n    cnt += 256 / (segments - 1);\r\n  }\r\n  return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var val;\r\n    var effectElements = this.filterManager.effectElements;\r\n    if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n      val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n      this.feFuncRComposed.setAttribute('tableValues', val);\r\n      this.feFuncGComposed.setAttribute('tableValues', val);\r\n      this.feFuncBComposed.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n      val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n      this.feFuncR.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n      val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n      this.feFuncG.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n      val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n      this.feFuncB.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n      val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n      this.feFuncA.setAttribute('tableValues', val);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS, rgbToHex, degToRads */\r\n\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n  var filterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n  filter.setAttribute('x', filterSize.x);\r\n  filter.setAttribute('y', filterSize.y);\r\n  filter.setAttribute('width', filterSize.width);\r\n  filter.setAttribute('height', filterSize.height);\r\n  this.filterManager = filterManager;\r\n\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n  feGaussianBlur.setAttribute('result', 'drop_shadow_1');\r\n  feGaussianBlur.setAttribute('stdDeviation', '0');\r\n  this.feGaussianBlur = feGaussianBlur;\r\n  filter.appendChild(feGaussianBlur);\r\n\r\n  var feOffset = createNS('feOffset');\r\n  feOffset.setAttribute('dx', '25');\r\n  feOffset.setAttribute('dy', '0');\r\n  feOffset.setAttribute('in', 'drop_shadow_1');\r\n  feOffset.setAttribute('result', 'drop_shadow_2');\r\n  this.feOffset = feOffset;\r\n  filter.appendChild(feOffset);\r\n  var feFlood = createNS('feFlood');\r\n  feFlood.setAttribute('flood-color', '#00ff00');\r\n  feFlood.setAttribute('flood-opacity', '1');\r\n  feFlood.setAttribute('result', 'drop_shadow_3');\r\n  this.feFlood = feFlood;\r\n  filter.appendChild(feFlood);\r\n\r\n  var feComposite = createNS('feComposite');\r\n  feComposite.setAttribute('in', 'drop_shadow_3');\r\n  feComposite.setAttribute('in2', 'drop_shadow_2');\r\n  feComposite.setAttribute('operator', 'in');\r\n  feComposite.setAttribute('result', 'drop_shadow_4');\r\n  filter.appendChild(feComposite);\r\n\r\n  var feMerge = createNS('feMerge');\r\n  filter.appendChild(feMerge);\r\n  var feMergeNode;\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMerge.appendChild(feMergeNode);\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMergeNode.setAttribute('in', 'SourceGraphic');\r\n  this.feMergeNode = feMergeNode;\r\n  this.feMerge = feMerge;\r\n  this.originalNodeAdded = false;\r\n  feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n      var col = this.filterManager.effectElements[0].p.v;\r\n      this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n      this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n      var distance = this.filterManager.effectElements[3].p.v;\r\n      var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n      var x = distance * Math.cos(angle);\r\n      var y = distance * Math.sin(angle);\r\n      this.feOffset.setAttribute('dx', x);\r\n      this.feOffset.setAttribute('dy', y);\r\n    }\r\n    /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        } */\r\n  }\r\n};\r\n\r\n/* global createElementID, createNS */\r\n\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.filterElem = filterElem;\r\n  this.elem = elem;\r\n  elem.matteElement = createNS('g');\r\n  elem.matteElement.appendChild(elem.layerElement);\r\n  elem.matteElement.appendChild(elem.transformedElement);\r\n  elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n  var i = 0;\r\n  var len = _svgMatteSymbols.length;\r\n  while (i < len) {\r\n    if (_svgMatteSymbols[i] === mask) {\r\n      return _svgMatteSymbols[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n  var parentNode = mask.layerElement.parentNode;\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n  var children = parentNode.children;\r\n  var i = 0;\r\n  var len = children.length;\r\n  while (i < len) {\r\n    if (children[i] === mask.layerElement) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  var nextChild;\r\n  if (i <= len - 2) {\r\n    nextChild = children[i + 1];\r\n  }\r\n  var useElem = createNS('use');\r\n  useElem.setAttribute('href', '#' + symbolId);\r\n  if (nextChild) {\r\n    parentNode.insertBefore(useElem, nextChild);\r\n  } else {\r\n    parentNode.appendChild(useElem);\r\n  }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n  if (!this.findSymbol(mask)) {\r\n    var symbolId = createElementID();\r\n    var masker = createNS('mask');\r\n    masker.setAttribute('id', mask.layerId);\r\n    masker.setAttribute('mask-type', 'alpha');\r\n    _svgMatteSymbols.push(mask);\r\n    var defs = elem.globalData.defs;\r\n    defs.appendChild(masker);\r\n    var symbol = createNS('symbol');\r\n    symbol.setAttribute('id', symbolId);\r\n    this.replaceInParent(mask, symbolId);\r\n    symbol.appendChild(mask.layerElement);\r\n    defs.appendChild(symbol);\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    masker.appendChild(useElem);\r\n    mask.data.hd = false;\r\n    mask.show();\r\n  }\r\n  elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function () {\r\n  var ind = this.filterManager.effectElements[0].p.v;\r\n  var elements = this.elem.comp.elements;\r\n  var i = 0;\r\n  var len = elements.length;\r\n  while (i < len) {\r\n    if (elements[i] && elements[i].data.ind === ind) {\r\n      this.setElementAsMask(this.elem, elements[i]);\r\n    }\r\n    i += 1;\r\n  }\r\n  this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function () {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n};\r\n\r\n/* global createElementID, filtersFactory, SVGTintFilter, SVGFillFilter, SVGStrokeEffect, SVGTritoneFilter,\r\nSVGProLevelsFilter, SVGDropShadowEffect, SVGMatte3Effect, SVGGaussianBlurEffect, locationHref */\r\n\r\nfunction SVGEffects(elem) {\r\n  var i;\r\n  var len = elem.data.ef ? elem.data.ef.length : 0;\r\n  var filId = createElementID();\r\n  var fil = filtersFactory.createFilter(filId);\r\n  var count = 0;\r\n  this.filters = [];\r\n  var filterManager;\r\n  for (i = 0; i < len; i += 1) {\r\n    filterManager = null;\r\n    if (elem.data.ef[i].ty === 20) {\r\n      count += 1;\r\n      filterManager = new SVGTintFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 21) {\r\n      count += 1;\r\n      filterManager = new SVGFillFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 22) {\r\n      filterManager = new SVGStrokeEffect(elem, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 23) {\r\n      count += 1;\r\n      filterManager = new SVGTritoneFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 24) {\r\n      count += 1;\r\n      filterManager = new SVGProLevelsFilter(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 25) {\r\n      count += 1;\r\n      filterManager = new SVGDropShadowEffect(fil, elem.effectsManager.effectElements[i]);\r\n    } else if (elem.data.ef[i].ty === 28) {\r\n      // count += 1;\r\n      filterManager = new SVGMatte3Effect(fil, elem.effectsManager.effectElements[i], elem);\r\n    } else if (elem.data.ef[i].ty === 29) {\r\n      count += 1;\r\n      filterManager = new SVGGaussianBlurEffect(fil, elem.effectsManager.effectElements[i]);\r\n    }\r\n    if (filterManager) {\r\n      this.filters.push(filterManager);\r\n    }\r\n  }\r\n  if (count) {\r\n    elem.globalData.defs.appendChild(fil);\r\n    elem.layerElement.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n  }\r\n  if (this.filters.length) {\r\n    elem.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nSVGEffects.prototype.renderFrame = function (_isFirstFrame) {\r\n  var i;\r\n  var len = this.filters.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.filters[i].renderFrame(_isFirstFrame);\r\n  }\r\n};\r\n\r\n/* global Matrix, createTypedArray */\r\n\r\nfunction CVContextData() {\r\n  this.saved = [];\r\n  this.cArrPos = 0;\r\n  this.cTr = new Matrix();\r\n  this.cO = 1;\r\n  var i;\r\n  var len = 15;\r\n  this.savedOp = createTypedArray('float32', len);\r\n  for (i = 0; i < len; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = len;\r\n}\r\n\r\nCVContextData.prototype.duplicate = function () {\r\n  var newLength = this._length * 2;\r\n  var currentSavedOp = this.savedOp;\r\n  this.savedOp = createTypedArray('float32', newLength);\r\n  this.savedOp.set(currentSavedOp);\r\n  var i = 0;\r\n  for (i = this._length; i < newLength; i += 1) {\r\n    this.saved[i] = createTypedArray('float32', 16);\r\n  }\r\n  this._length = newLength;\r\n};\r\n\r\nCVContextData.prototype.reset = function () {\r\n  this.cArrPos = 0;\r\n  this.cTr.reset();\r\n  this.cO = 1;\r\n};\r\n\r\n/* global CVEffects, getBlendMode, CVMaskElement, Matrix */\r\n\r\nfunction CVBaseElement() {\r\n}\r\n\r\nCVBaseElement.prototype = {\r\n  createElements: function () {},\r\n  initRendererElement: function () {},\r\n  createContainerElements: function () {\r\n    this.canvasContext = this.globalData.canvasContext;\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n  },\r\n  createContent: function () {},\r\n  setBlendMode: function () {\r\n    var globalData = this.globalData;\r\n    if (globalData.blendMode !== this.data.bm) {\r\n      globalData.blendMode = this.data.bm;\r\n      var blendModeValue = getBlendMode(this.data.bm);\r\n      globalData.canvasContext.globalCompositeOperation = blendModeValue;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new CVMaskElement(this.data, this);\r\n  },\r\n  hideElement: function () {\r\n    if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n      this.hidden = true;\r\n    }\r\n  },\r\n  showElement: function () {\r\n    if (this.isInRange && !this.isTransparent) {\r\n      this.hidden = false;\r\n      this._isFirstFrame = true;\r\n      this.maskManager._isFirstFrame = true;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    if (this.hidden || this.data.hd) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.setBlendMode();\r\n    var forceRealStack = this.data.ty === 0;\r\n    this.globalData.renderer.save(forceRealStack);\r\n    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\r\n    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\r\n    this.renderInnerContent();\r\n    this.globalData.renderer.restore(forceRealStack);\r\n    if (this.maskManager.hasMasks) {\r\n      this.globalData.renderer.restore(true);\r\n    }\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.canvasContext = null;\r\n    this.data = null;\r\n    this.globalData = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\r\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement,HierarchyElement, FrameElement,\r\nRenderableElement, SVGShapeElement, IImageElement, createTag */\r\n\r\nfunction CVImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.img = globalData.imageLoader.getImage(this.assetData);\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\r\n\r\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVImageElement.prototype.createContent = function () {\r\n  if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = this.assetData.w;\r\n    canvas.height = this.assetData.h;\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    var imgW = this.img.width;\r\n    var imgH = this.img.height;\r\n    var imgRel = imgW / imgH;\r\n    var canvasRel = this.assetData.w / this.assetData.h;\r\n    var widthCrop;\r\n    var heightCrop;\r\n    var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\r\n    if ((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\r\n      heightCrop = imgH;\r\n      widthCrop = heightCrop * canvasRel;\r\n    } else {\r\n      widthCrop = imgW;\r\n      heightCrop = widthCrop / canvasRel;\r\n    }\r\n    ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\r\n    this.img = canvas;\r\n  }\r\n};\r\n\r\nCVImageElement.prototype.renderInnerContent = function () {\r\n  this.canvasContext.drawImage(this.img, 0, 0);\r\n};\r\n\r\nCVImageElement.prototype.destroy = function () {\r\n  this.img = null;\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, CanvasRenderer, ICompElement, CVBaseElement */\r\n\r\nfunction CVCompElement(data, globalData, comp) {\r\n  this.completeLayers = false;\r\n  this.layers = data.layers;\r\n  this.pendingElements = [];\r\n  this.elements = createSizedArray(this.layers.length);\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([CanvasRenderer, ICompElement, CVBaseElement], CVCompElement);\r\n\r\nCVCompElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.beginPath();\r\n  ctx.moveTo(0, 0);\r\n  ctx.lineTo(this.data.w, 0);\r\n  ctx.lineTo(this.data.w, this.data.h);\r\n  ctx.lineTo(0, this.data.h);\r\n  ctx.lineTo(0, 0);\r\n  ctx.clip();\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nCVCompElement.prototype.destroy = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.layers = null;\r\n  this.elements = null;\r\n};\r\n\r\n/* global createSizedArray, ShapePropertyFactory, MaskElement */\r\n\r\nfunction CVMaskElement(data, element) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.viewData = createSizedArray(this.masksProperties.length);\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var hasMasks = false;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      hasMasks = true;\r\n    }\r\n    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\r\n  }\r\n  this.hasMasks = hasMasks;\r\n  if (hasMasks) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nCVMaskElement.prototype.renderFrame = function () {\r\n  if (!this.hasMasks) {\r\n    return;\r\n  }\r\n  var transform = this.element.finalTransform.mat;\r\n  var ctx = this.element.canvasContext;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  var pt;\r\n  var pts;\r\n  var data;\r\n  ctx.beginPath();\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.masksProperties[i].inv) {\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, 0);\r\n        ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, this.element.globalData.compSize.h);\r\n        ctx.lineTo(0, 0);\r\n      }\r\n      data = this.viewData[i].v;\r\n      pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\r\n      ctx.moveTo(pt[0], pt[1]);\r\n      var j;\r\n      var jLen = data._length;\r\n      for (j = 1; j < jLen; j += 1) {\r\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\r\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n      }\r\n      pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\r\n      ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\r\n    }\r\n  }\r\n  this.element.globalData.renderer.save(true);\r\n  ctx.clip();\r\n};\r\n\r\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\r\n\r\nCVMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n};\r\n\r\n/* global ShapeTransformManager, extendPrototype, BaseElement, TransformElement, CVBaseElement, IShapeElement,\r\nHierarchyElement, FrameElement, RenderableElement, RenderableDOMElement, PropertyFactory, degToRads, GradientProperty,\r\nDashProperty, TransformPropertyFactory, CVShapeData, ShapeModifiers, bmFloor */\r\n\r\nfunction CVShapeElement(data, globalData, comp) {\r\n  this.shapes = [];\r\n  this.shapesData = data.shapes;\r\n  this.stylesList = [];\r\n  this.itemsData = [];\r\n  this.prevViewData = [];\r\n  this.shapeModifiers = [];\r\n  this.processedElements = [];\r\n  this.transformsManager = new ShapeTransformManager();\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\r\n\r\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\r\n\r\nCVShapeElement.prototype.transformHelper = { opacity: 1, _opMdf: false };\r\n\r\nCVShapeElement.prototype.dashResetter = [];\r\n\r\nCVShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n};\r\n\r\nCVShapeElement.prototype.createStyleElement = function (data, transforms) {\r\n  var styleElem = {\r\n    data: data,\r\n    type: data.ty,\r\n    preTransforms: this.transformsManager.addTransformSequence(transforms),\r\n    transforms: [],\r\n    elements: [],\r\n    closed: data.hd === true,\r\n  };\r\n  var elementData = {};\r\n  if (data.ty === 'fl' || data.ty === 'st') {\r\n    elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\r\n    if (!elementData.c.k) {\r\n      styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\r\n    }\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\r\n    elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\r\n    elementData.h = PropertyFactory.getProp(this, data.h || { k: 0 }, 0, 0.01, this);\r\n    elementData.a = PropertyFactory.getProp(this, data.a || { k: 0 }, 0, degToRads, this);\r\n    elementData.g = new GradientProperty(this, data.g, this);\r\n  }\r\n  elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    styleElem.lc = this.lcEnum[data.lc] || 'round';\r\n    styleElem.lj = this.ljEnum[data.lj] || 'round';\r\n    if (data.lj == 1) { // eslint-disable-line eqeqeq\r\n      styleElem.ml = data.ml;\r\n    }\r\n    elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\r\n    if (!elementData.w.k) {\r\n      styleElem.wi = elementData.w.v;\r\n    }\r\n    if (data.d) {\r\n      var d = new DashProperty(this, data.d, 'canvas', this);\r\n      elementData.d = d;\r\n      if (!elementData.d.k) {\r\n        styleElem.da = elementData.d.dashArray;\r\n        styleElem.do = elementData.d.dashoffset[0];\r\n      }\r\n    }\r\n  } else {\r\n    styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\r\n  }\r\n  this.stylesList.push(styleElem);\r\n  elementData.style = styleElem;\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createGroupElement = function () {\r\n  var elementData = {\r\n    it: [],\r\n    prevViewData: [],\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createTransformElement = function (data) {\r\n  var elementData = {\r\n    transform: {\r\n      opacity: 1,\r\n      _opMdf: false,\r\n      key: this.transformsManager.getNewKey(),\r\n      op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\r\n      mProps: TransformPropertyFactory.getTransformProperty(this, data, this),\r\n    },\r\n  };\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.createShapeElement = function (data) {\r\n  var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\r\n\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  return elementData;\r\n};\r\n\r\nCVShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n};\r\n\r\nCVShapeElement.prototype.addTransformToStyleList = function (transform) {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.push(transform);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.removeTransformFromStyleList = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!this.stylesList[i].closed) {\r\n      this.stylesList[i].transforms.pop();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.closeStyles = function (styles) {\r\n  var i;\r\n  var len = styles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    styles[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var processedPos;\r\n  var modifier;\r\n  var currentTransform;\r\n  var ownTransforms = [].concat(transforms);\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._shouldRender = shouldRender;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        currentTransform = this.createTransformElement(arr[i]);\r\n        itemsData[i] = currentTransform;\r\n      }\r\n      ownTransforms.push(itemsData[i]);\r\n      this.addTransformToStyleList(itemsData[i]);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i]);\r\n      }\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        shouldRender = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  this.removeTransformFromStyleList();\r\n  this.closeStyles(ownStyles);\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderInnerContent = function () {\r\n  this.transformHelper.opacity = 1;\r\n  this.transformHelper._opMdf = false;\r\n  this.renderModifiers();\r\n  this.transformsManager.processSequences(this._isFirstFrame);\r\n  this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\r\n};\r\n\r\nCVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\r\n  if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\r\n    groupTransform.opacity = parentTransform.opacity;\r\n    groupTransform.opacity *= groupTransform.op.v;\r\n    groupTransform._opMdf = true;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.drawLayer = function () {\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var elems;\r\n  var nodes;\r\n  var renderer = this.globalData.renderer;\r\n  var ctx = this.globalData.canvasContext;\r\n  var type;\r\n  var currentStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentStyle = this.stylesList[i];\r\n    type = currentStyle.type;\r\n\r\n    // Skipping style when\r\n    // Stroke width equals 0\r\n    // style should not be rendered (extra unused repeaters)\r\n    // current opacity equals 0\r\n    // global opacity equals 0\r\n    if (!(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\r\n      renderer.save();\r\n      elems = currentStyle.elements;\r\n      if (type === 'st' || type === 'gs') {\r\n        ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\r\n        ctx.lineWidth = currentStyle.wi;\r\n        ctx.lineCap = currentStyle.lc;\r\n        ctx.lineJoin = currentStyle.lj;\r\n        ctx.miterLimit = currentStyle.ml || 0;\r\n      } else {\r\n        ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\r\n      }\r\n      renderer.ctxOpacity(currentStyle.coOp);\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.beginPath();\r\n      }\r\n      renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\r\n      jLen = elems.length;\r\n      for (j = 0; j < jLen; j += 1) {\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.beginPath();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(currentStyle.da);\r\n            ctx.lineDashOffset = currentStyle.do;\r\n          }\r\n        }\r\n        nodes = elems[j].trNodes;\r\n        kLen = nodes.length;\r\n\r\n        for (k = 0; k < kLen; k += 1) {\r\n          if (nodes[k].t === 'm') {\r\n            ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\r\n          } else if (nodes[k].t === 'c') {\r\n            ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\r\n          } else {\r\n            ctx.closePath();\r\n          }\r\n        }\r\n        if (type === 'st' || type === 'gs') {\r\n          ctx.stroke();\r\n          if (currentStyle.da) {\r\n            ctx.setLineDash(this.dashResetter);\r\n          }\r\n        }\r\n      }\r\n      if (type !== 'st' && type !== 'gs') {\r\n        ctx.fill(currentStyle.r);\r\n      }\r\n      renderer.restore();\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\r\n  var i;\r\n  var len = items.length - 1;\r\n  var groupTransform;\r\n  groupTransform = parentTransform;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    if (items[i].ty === 'tr') {\r\n      groupTransform = data[i].transform;\r\n      this.renderShapeTransform(parentTransform, groupTransform);\r\n    } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\r\n      this.renderPath(items[i], data[i]);\r\n    } else if (items[i].ty === 'fl') {\r\n      this.renderFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'st') {\r\n      this.renderStroke(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\r\n      this.renderGradientFill(items[i], data[i], groupTransform);\r\n    } else if (items[i].ty === 'gr') {\r\n      this.renderShape(groupTransform, items[i].it, data[i].it);\r\n    } else if (items[i].ty === 'tm') {\r\n      //\r\n    }\r\n  }\r\n  if (isMain) {\r\n    this.drawLayer();\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\r\n  if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\r\n    var shapeNodes = styledShape.trNodes;\r\n    var paths = shape.paths;\r\n    var i;\r\n    var len;\r\n    var j;\r\n    var jLen = paths._length;\r\n    shapeNodes.length = 0;\r\n    var groupTransformMat = styledShape.transforms.finalTransform;\r\n    for (j = 0; j < jLen; j += 1) {\r\n      var pathNodes = paths.shapes[j];\r\n      if (pathNodes && pathNodes.v) {\r\n        len = pathNodes._length;\r\n        for (i = 1; i < len; i += 1) {\r\n          if (i === 1) {\r\n            shapeNodes.push({\r\n              t: 'm',\r\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n            });\r\n          }\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\r\n          });\r\n        }\r\n        if (len === 1) {\r\n          shapeNodes.push({\r\n            t: 'm',\r\n            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\r\n          });\r\n        }\r\n        if (pathNodes.c && len) {\r\n          shapeNodes.push({\r\n            t: 'c',\r\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\r\n          });\r\n          shapeNodes.push({\r\n            t: 'z',\r\n          });\r\n        }\r\n      }\r\n    }\r\n    styledShape.trNodes = shapeNodes;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderPath = function (pathData, itemData) {\r\n  if (pathData.hd !== true && pathData._shouldRender) {\r\n    var i;\r\n    var len = itemData.styledShapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\r\n    }\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb('\r\n        + bmFloor(itemData.c.v[0]) + ','\r\n        + bmFloor(itemData.c.v[1]) + ','\r\n        + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var grd;\r\n  if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\r\n    var ctx = this.globalData.canvasContext;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n    if (styleData.t === 1) {\r\n      grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\r\n    } else {\r\n      var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n      var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n      var percent = itemData.h.v;\r\n      if (percent >= 1) {\r\n        percent = 0.99;\r\n      } else if (percent <= -1) {\r\n        percent = -0.99;\r\n      }\r\n      var dist = rad * percent;\r\n      var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n      var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n      grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\r\n    }\r\n\r\n    var i;\r\n    var len = styleData.g.p;\r\n    var cValues = itemData.g.c;\r\n    var opacity = 1;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (itemData.g._hasOpacity && itemData.g._collapsable) {\r\n        opacity = itemData.g.o[i * 2 + 1];\r\n      }\r\n      grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\r\n    }\r\n    styleElem.grd = grd;\r\n  }\r\n  styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n};\r\n\r\nCVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\r\n  var styleElem = itemData.style;\r\n  var d = itemData.d;\r\n  if (d && (d._mdf || this._isFirstFrame)) {\r\n    styleElem.da = d.dashArray;\r\n    styleElem.do = d.dashoffset[0];\r\n  }\r\n  if (itemData.c._mdf || this._isFirstFrame) {\r\n    styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\r\n  }\r\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\r\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\r\n  }\r\n  if (itemData.w._mdf || this._isFirstFrame) {\r\n    styleElem.wi = itemData.w.v;\r\n  }\r\n};\r\n\r\nCVShapeElement.prototype.destroy = function () {\r\n  this.shapesData = null;\r\n  this.globalData = null;\r\n  this.canvasContext = null;\r\n  this.stylesList.length = 0;\r\n  this.itemsData.length = 0;\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement,\r\nSVGShapeElement, IImageElement */\r\n\r\nfunction CVSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\r\n\r\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\r\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\r\n\r\nCVSolidElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.fillStyle = this.data.sc;\r\n  ctx.fillRect(0, 0, this.data.sw, this.data.sh);\r\n  //\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement,\r\nRenderableElement, ITextElement, createTag, createSizedArray */\r\n\r\nfunction CVTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.yOffset = 0;\r\n  this.fillColorAnim = false;\r\n  this.strokeColorAnim = false;\r\n  this.strokeWidthAnim = false;\r\n  this.stroke = false;\r\n  this.fill = false;\r\n  this.justifyOffset = 0;\r\n  this.currentRender = null;\r\n  this.renderType = 'canvas';\r\n  this.values = {\r\n    fill: 'rgba(0,0,0,0)',\r\n    stroke: 'rgba(0,0,0,0)',\r\n    sWidth: 0,\r\n    fValue: '',\r\n  };\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\r\n\r\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\r\n\r\nCVTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n\r\n  var hasFill = false;\r\n  if (documentData.fc) {\r\n    hasFill = true;\r\n    this.values.fill = this.buildColor(documentData.fc);\r\n  } else {\r\n    this.values.fill = 'rgba(0,0,0,0)';\r\n  }\r\n  this.fill = hasFill;\r\n  var hasStroke = false;\r\n  if (documentData.sc) {\r\n    hasStroke = true;\r\n    this.values.stroke = this.buildColor(documentData.sc);\r\n    this.values.sWidth = documentData.sw;\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var matrixHelper = this.mHelper;\r\n  this.stroke = hasStroke;\r\n  this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\r\n  len = documentData.finalText.length;\r\n  // this.tHelper.font = this.values.fValue;\r\n  var charData;\r\n  var shapeData;\r\n  var k;\r\n  var kLen;\r\n  var shapes;\r\n  var j;\r\n  var jLen;\r\n  var pathNodes;\r\n  var commands;\r\n  var pathArr;\r\n  var singleShape = this.data.singleShape;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n    shapeData = (charData && charData.data) || {};\r\n    matrixHelper.reset();\r\n    if (singleShape && letters[i].n) {\r\n      xPos = -trackingOffset;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      firstLine = false;\r\n    }\r\n\r\n    shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n    jLen = shapes.length;\r\n    matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n    if (singleShape) {\r\n      this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n    }\r\n    commands = createSizedArray(jLen);\r\n    for (j = 0; j < jLen; j += 1) {\r\n      kLen = shapes[j].ks.k.i.length;\r\n      pathNodes = shapes[j].ks.k;\r\n      pathArr = [];\r\n      for (k = 1; k < kLen; k += 1) {\r\n        if (k === 1) {\r\n          pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n        }\r\n        pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\r\n      }\r\n      pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\r\n      commands[j] = pathArr;\r\n    }\r\n    if (singleShape) {\r\n      xPos += letters[i].l;\r\n      xPos += trackingOffset;\r\n    }\r\n    if (this.textSpans[cnt]) {\r\n      this.textSpans[cnt].elem = commands;\r\n    } else {\r\n      this.textSpans[cnt] = { elem: commands };\r\n    }\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nCVTextElement.prototype.renderInnerContent = function () {\r\n  var ctx = this.canvasContext;\r\n  ctx.font = this.values.fValue;\r\n  ctx.lineCap = 'butt';\r\n  ctx.lineJoin = 'miter';\r\n  ctx.miterLimit = 4;\r\n\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  }\r\n\r\n  var i;\r\n  var len;\r\n  var j;\r\n  var jLen;\r\n  var k;\r\n  var kLen;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var lastFill = null;\r\n  var lastStroke = null;\r\n  var lastStrokeW = null;\r\n  var commands;\r\n  var pathArr;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (!letters[i].n) {\r\n      renderedLetter = renderedLetters[i];\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.save();\r\n        this.globalData.renderer.ctxTransform(renderedLetter.p);\r\n        this.globalData.renderer.ctxOpacity(renderedLetter.o);\r\n      }\r\n      if (this.fill) {\r\n        if (renderedLetter && renderedLetter.fc) {\r\n          if (lastFill !== renderedLetter.fc) {\r\n            lastFill = renderedLetter.fc;\r\n            ctx.fillStyle = renderedLetter.fc;\r\n          }\r\n        } else if (lastFill !== this.values.fill) {\r\n          lastFill = this.values.fill;\r\n          ctx.fillStyle = this.values.fill;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.fill();\r\n        /// ctx.fillText(this.textSpans[i].val,0,0);\r\n      }\r\n      if (this.stroke) {\r\n        if (renderedLetter && renderedLetter.sw) {\r\n          if (lastStrokeW !== renderedLetter.sw) {\r\n            lastStrokeW = renderedLetter.sw;\r\n            ctx.lineWidth = renderedLetter.sw;\r\n          }\r\n        } else if (lastStrokeW !== this.values.sWidth) {\r\n          lastStrokeW = this.values.sWidth;\r\n          ctx.lineWidth = this.values.sWidth;\r\n        }\r\n        if (renderedLetter && renderedLetter.sc) {\r\n          if (lastStroke !== renderedLetter.sc) {\r\n            lastStroke = renderedLetter.sc;\r\n            ctx.strokeStyle = renderedLetter.sc;\r\n          }\r\n        } else if (lastStroke !== this.values.stroke) {\r\n          lastStroke = this.values.stroke;\r\n          ctx.strokeStyle = this.values.stroke;\r\n        }\r\n        commands = this.textSpans[i].elem;\r\n        jLen = commands.length;\r\n        this.globalData.canvasContext.beginPath();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathArr = commands[j];\r\n          kLen = pathArr.length;\r\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\r\n          for (k = 2; k < kLen; k += 6) {\r\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\r\n          }\r\n        }\r\n        this.globalData.canvasContext.closePath();\r\n        this.globalData.canvasContext.stroke();\r\n        /// ctx.strokeText(letters[i].val,0,0);\r\n      }\r\n      if (renderedLetter) {\r\n        this.globalData.renderer.restore();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfunction CVEffects() {\r\n\r\n}\r\nCVEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, createNS, styleDiv, CVEffects, MaskElement, SVGBaseElement, HybridRenderer */\r\n\r\nfunction HBaseElement() {}\r\nHBaseElement.prototype = {\r\n  checkBlendMode: function () {},\r\n  initRendererElement: function () {\r\n    this.baseElement = createTag(this.data.tg || 'div');\r\n    if (this.data.hasMask) {\r\n      this.svgElement = createNS('svg');\r\n      this.layerElement = createNS('g');\r\n      this.maskedElement = this.layerElement;\r\n      this.svgElement.appendChild(this.layerElement);\r\n      this.baseElement.appendChild(this.svgElement);\r\n    } else {\r\n      this.layerElement = this.baseElement;\r\n    }\r\n    styleDiv(this.baseElement);\r\n  },\r\n  createContainerElements: function () {\r\n    this.renderableEffectsManager = new CVEffects(this);\r\n    this.transformedElement = this.baseElement;\r\n    this.maskedElement = this.layerElement;\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\r\n    if (this.finalTransform._matMdf) {\r\n      var matrixValue = this.finalTransform.mat.toCSS();\r\n      transformedElementStyle.transform = matrixValue;\r\n      transformedElementStyle.webkitTransform = matrixValue;\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\r\n    }\r\n  },\r\n  renderFrame: function () {\r\n    // If it is exported as hidden (data.hd === true) no need to render\r\n    // If it is not visible no need to render\r\n    if (this.data.hd || this.hidden) {\r\n      return;\r\n    }\r\n    this.renderTransform();\r\n    this.renderRenderable();\r\n    this.renderElement();\r\n    this.renderInnerContent();\r\n    if (this._isFirstFrame) {\r\n      this._isFirstFrame = false;\r\n    }\r\n  },\r\n  destroy: function () {\r\n    this.layerElement = null;\r\n    this.transformedElement = null;\r\n    if (this.matteElement) {\r\n      this.matteElement = null;\r\n    }\r\n    if (this.maskManager) {\r\n      this.maskManager.destroy();\r\n      this.maskManager = null;\r\n    }\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n  },\r\n  addEffects: function () {\r\n  },\r\n  setMatte: function () {},\r\n};\r\nHBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\r\nHBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\r\nHBaseElement.prototype.buildElementParenting = HybridRenderer.prototype.buildElementParenting;\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, createNS, createTag */\r\n\r\nfunction HSolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\r\n\r\nHSolidElement.prototype.createContent = function () {\r\n  var rect;\r\n  if (this.data.hasMask) {\r\n    rect = createNS('rect');\r\n    rect.setAttribute('width', this.data.sw);\r\n    rect.setAttribute('height', this.data.sh);\r\n    rect.setAttribute('fill', this.data.sc);\r\n    this.svgElement.setAttribute('width', this.data.sw);\r\n    this.svgElement.setAttribute('height', this.data.sh);\r\n  } else {\r\n    rect = createTag('div');\r\n    rect.style.width = this.data.sw + 'px';\r\n    rect.style.height = this.data.sh + 'px';\r\n    rect.style.backgroundColor = this.data.sc;\r\n  }\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, HybridRenderer, ICompElement, HBaseElement */\r\n\r\nfunction HCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = !data.hasMask;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement);\r\nHCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\r\n\r\nHCompElement.prototype.createContainerElements = function () {\r\n  this._createBaseContainerElements();\r\n  // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\r\n  if (this.data.hasMask) {\r\n    this.svgElement.setAttribute('width', this.data.w);\r\n    this.svgElement.setAttribute('height', this.data.h);\r\n    this.transformedElement = this.baseElement;\r\n  } else {\r\n    this.transformedElement = this.layerElement;\r\n  }\r\n};\r\n\r\nHCompElement.prototype.addTo3dContainer = function (elem, pos) {\r\n  var j = 0;\r\n  var nextElement;\r\n  while (j < pos) {\r\n    if (this.elements[j] && this.elements[j].getBaseElement) {\r\n      nextElement = this.elements[j].getBaseElement();\r\n    }\r\n    j += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(elem, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(elem);\r\n  }\r\n};\r\n\r\n/* global createNS, extendPrototype, BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement,\r\nHierarchyElement, FrameElement, RenderableElement, createNS, bmMin, bmSqrt, bmMin, bmMax, bmPow */\r\n\r\nfunction HShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.shapesContainer = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n}\r\nextendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\r\nHShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\r\n\r\nHShapeElement.prototype.createContent = function () {\r\n  var cont;\r\n  this.baseElement.style.fontSize = 0;\r\n  if (this.data.hasMask) {\r\n    this.layerElement.appendChild(this.shapesContainer);\r\n    cont = this.svgElement;\r\n  } else {\r\n    cont = createNS('svg');\r\n    var size = this.comp.data ? this.comp.data : this.globalData.compSize;\r\n    cont.setAttribute('width', size.w);\r\n    cont.setAttribute('height', size.h);\r\n    cont.appendChild(this.shapesContainer);\r\n    this.layerElement.appendChild(cont);\r\n  }\r\n\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  this.shapeCont = cont;\r\n};\r\n\r\nHShapeElement.prototype.getTransformedPoint = function (transformers, point) {\r\n  var i;\r\n  var len = transformers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\r\n  }\r\n  return point;\r\n};\r\n\r\nHShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\r\n  var shape = item.sh.v;\r\n  var transformers = item.transformers;\r\n  var i;\r\n  var len = shape._length;\r\n  var vPoint;\r\n  var oPoint;\r\n  var nextIPoint;\r\n  var nextVPoint;\r\n  if (len <= 1) {\r\n    return;\r\n  }\r\n  for (i = 0; i < len - 1; i += 1) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n  if (shape.c) {\r\n    vPoint = this.getTransformedPoint(transformers, shape.v[i]);\r\n    oPoint = this.getTransformedPoint(transformers, shape.o[i]);\r\n    nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\r\n    nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\r\n    this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\r\n  this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\r\n  var bounds = this.shapeBoundingBox;\r\n  boundingBox.x = bmMin(bounds.left, boundingBox.x);\r\n  boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\r\n  boundingBox.y = bmMin(bounds.top, boundingBox.y);\r\n  boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\r\n};\r\n\r\nHShapeElement.prototype.shapeBoundingBox = {\r\n  left: 0,\r\n  right: 0,\r\n  top: 0,\r\n  bottom: 0,\r\n};\r\n\r\nHShapeElement.prototype.tempBoundingBox = {\r\n  x: 0,\r\n  xMax: 0,\r\n  y: 0,\r\n  yMax: 0,\r\n  width: 0,\r\n  height: 0,\r\n};\r\n\r\nHShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\r\n  var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\r\n\r\n  for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) { // eslint-disable-line no-plusplus\r\n    b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\r\n    a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\r\n    c = 3 * p1[i] - 3 * p0[i];\r\n\r\n    b |= 0; // eslint-disable-line no-bitwise\r\n    a |= 0; // eslint-disable-line no-bitwise\r\n    c |= 0; // eslint-disable-line no-bitwise\r\n\r\n    if (a === 0 && b === 0) {\r\n      //\r\n    } else if (a === 0) {\r\n      t = -c / b;\r\n\r\n      if (t > 0 && t < 1) {\r\n        bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\r\n      }\r\n    } else {\r\n      b2ac = b * b - 4 * c * a;\r\n\r\n      if (b2ac >= 0) {\r\n        t1 = (-b + bmSqrt(b2ac)) / (2 * a);\r\n        if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\r\n        t2 = (-b - bmSqrt(b2ac)) / (2 * a);\r\n        if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\r\n      }\r\n    }\r\n  }\r\n\r\n  this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\r\n  this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\r\n  this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\r\n};\r\n\r\nHShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\r\n  return bmPow(1 - t, 3) * p0[i]\r\n        + 3 * bmPow(1 - t, 2) * t * p1[i]\r\n        + 3 * (1 - t) * bmPow(t, 2) * p2[i]\r\n        + bmPow(t, 3) * p3[i];\r\n};\r\n\r\nHShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\r\n  var i;\r\n  var len = itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (itemsData[i] && itemsData[i].sh) {\r\n      this.calculateShapeBoundingBox(itemsData[i], boundingBox);\r\n    } else if (itemsData[i] && itemsData[i].it) {\r\n      this.calculateBoundingBox(itemsData[i].it, boundingBox);\r\n    }\r\n  }\r\n};\r\n\r\nHShapeElement.prototype.currentBoxContains = function (box) {\r\n  return this.currentBBox.x <= box.x\r\n    && this.currentBBox.y <= box.y\r\n    && this.currentBBox.width + this.currentBBox.x >= box.x + box.width\r\n    && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\r\n};\r\n\r\nHShapeElement.prototype.renderInnerContent = function () {\r\n  this._renderShapeFrame();\r\n\r\n  if (!this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var tempBoundingBox = this.tempBoundingBox;\r\n    var max = 999999;\r\n    tempBoundingBox.x = max;\r\n    tempBoundingBox.xMax = -max;\r\n    tempBoundingBox.y = max;\r\n    tempBoundingBox.yMax = -max;\r\n    this.calculateBoundingBox(this.itemsData, tempBoundingBox);\r\n    tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\r\n    tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;\r\n    // var tempBoundingBox = this.shapeCont.getBBox();\r\n    if (this.currentBoxContains(tempBoundingBox)) {\r\n      return;\r\n    }\r\n    var changed = false;\r\n    if (this.currentBBox.w !== tempBoundingBox.width) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.shapeCont.setAttribute('width', tempBoundingBox.width);\r\n      changed = true;\r\n    }\r\n    if (this.currentBBox.h !== tempBoundingBox.height) {\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.shapeCont.setAttribute('height', tempBoundingBox.height);\r\n      changed = true;\r\n    }\r\n    if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\r\n      this.currentBBox.w = tempBoundingBox.width;\r\n      this.currentBBox.h = tempBoundingBox.height;\r\n      this.currentBBox.x = tempBoundingBox.x;\r\n      this.currentBBox.y = tempBoundingBox.y;\r\n\r\n      this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      var shapeStyle = this.shapeCont.style;\r\n      var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      shapeStyle.transform = shapeTransform;\r\n      shapeStyle.webkitTransform = shapeTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createTag, styleDiv, createNS */\r\n\r\nfunction HTextElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.textPaths = [];\r\n  this.currentBBox = {\r\n    x: 999999,\r\n    y: -999999,\r\n    h: 0,\r\n    w: 0,\r\n  };\r\n  this.renderType = 'svg';\r\n  this.isMasked = false;\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\r\n\r\nHTextElement.prototype.createContent = function () {\r\n  this.isMasked = this.checkMasks();\r\n  if (this.isMasked) {\r\n    this.renderType = 'svg';\r\n    this.compW = this.comp.data.w;\r\n    this.compH = this.comp.data.h;\r\n    this.svgElement.setAttribute('width', this.compW);\r\n    this.svgElement.setAttribute('height', this.compH);\r\n    var g = createNS('g');\r\n    this.maskedElement.appendChild(g);\r\n    this.innerElem = g;\r\n  } else {\r\n    this.renderType = 'html';\r\n    this.innerElem = this.layerElement;\r\n  }\r\n\r\n  this.checkParenting();\r\n};\r\n\r\nHTextElement.prototype.buildNewText = function () {\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\r\n  var innerElemStyle = this.innerElem.style;\r\n  var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\r\n  innerElemStyle.fill = textColor;\r\n  innerElemStyle.color = textColor;\r\n  if (documentData.sc) {\r\n    innerElemStyle.stroke = this.buildColor(documentData.sc);\r\n    innerElemStyle.strokeWidth = documentData.sw + 'px';\r\n  }\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (!this.globalData.fontManager.chars) {\r\n    innerElemStyle.fontSize = documentData.finalSize + 'px';\r\n    innerElemStyle.lineHeight = documentData.finalSize + 'px';\r\n    if (fontData.fClass) {\r\n      this.innerElem.className = fontData.fClass;\r\n    } else {\r\n      innerElemStyle.fontFamily = fontData.fFamily;\r\n      var fWeight = documentData.fWeight;\r\n      var fStyle = documentData.fStyle;\r\n      innerElemStyle.fontStyle = fStyle;\r\n      innerElemStyle.fontWeight = fWeight;\r\n    }\r\n  }\r\n  var i;\r\n  var len;\r\n\r\n  var letters = documentData.l;\r\n  len = letters.length;\r\n  var tSpan;\r\n  var tParent;\r\n  var tCont;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var cnt = 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.globalData.fontManager.chars) {\r\n      if (!this.textPaths[cnt]) {\r\n        tSpan = createNS('path');\r\n        tSpan.setAttribute('stroke-linecap', 'butt');\r\n        tSpan.setAttribute('stroke-linejoin', 'round');\r\n        tSpan.setAttribute('stroke-miterlimit', '4');\r\n      } else {\r\n        tSpan = this.textPaths[cnt];\r\n      }\r\n      if (!this.isMasked) {\r\n        if (this.textSpans[cnt]) {\r\n          tParent = this.textSpans[cnt];\r\n          tCont = tParent.children[0];\r\n        } else {\r\n          tParent = createTag('div');\r\n          tParent.style.lineHeight = 0;\r\n          tCont = createNS('svg');\r\n          tCont.appendChild(tSpan);\r\n          styleDiv(tParent);\r\n        }\r\n      }\r\n    } else if (!this.isMasked) {\r\n      if (this.textSpans[cnt]) {\r\n        tParent = this.textSpans[cnt];\r\n        tSpan = this.textPaths[cnt];\r\n      } else {\r\n        tParent = createTag('span');\r\n        styleDiv(tParent);\r\n        tSpan = createTag('span');\r\n        styleDiv(tSpan);\r\n        tParent.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\r\n    }\r\n    // tSpan.setAttribute('visibility', 'hidden');\r\n    if (this.globalData.fontManager.chars) {\r\n      var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n      var shapeData;\r\n      if (charData) {\r\n        shapeData = charData.data;\r\n      } else {\r\n        shapeData = null;\r\n      }\r\n      matrixHelper.reset();\r\n      if (shapeData && shapeData.shapes) {\r\n        shapes = shapeData.shapes[0].it;\r\n        matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n        shapeStr = this.createPathShape(matrixHelper, shapes);\r\n        tSpan.setAttribute('d', shapeStr);\r\n      }\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        if (shapeData && shapeData.shapes) {\r\n          // document.body.appendChild is needed to get exact measure of shape\r\n          document.body.appendChild(tCont);\r\n          var boundingBox = tCont.getBBox();\r\n          tCont.setAttribute('width', boundingBox.width + 2);\r\n          tCont.setAttribute('height', boundingBox.height + 2);\r\n          tCont.setAttribute('viewBox', (boundingBox.x - 1) + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\r\n          var tContStyle = tCont.style;\r\n          var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\r\n          tContStyle.transform = tContTranslation;\r\n          tContStyle.webkitTransform = tContTranslation;\r\n\r\n          letters[i].yOffset = boundingBox.y - 1;\r\n        } else {\r\n          tCont.setAttribute('width', 1);\r\n          tCont.setAttribute('height', 1);\r\n        }\r\n        tParent.appendChild(tCont);\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    } else {\r\n      tSpan.textContent = letters[i].val;\r\n      tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      if (!this.isMasked) {\r\n        this.innerElem.appendChild(tParent);\r\n        //\r\n        var tStyle = tSpan.style;\r\n        var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\r\n        tStyle.transform = tSpanTranslation;\r\n        tStyle.webkitTransform = tSpanTranslation;\r\n      } else {\r\n        this.innerElem.appendChild(tSpan);\r\n      }\r\n    }\r\n    //\r\n    if (!this.isMasked) {\r\n      this.textSpans[cnt] = tParent;\r\n    } else {\r\n      this.textSpans[cnt] = tSpan;\r\n    }\r\n    this.textSpans[cnt].style.display = 'block';\r\n    this.textPaths[cnt] = tSpan;\r\n    cnt += 1;\r\n  }\r\n  while (cnt < this.textSpans.length) {\r\n    this.textSpans[cnt].style.display = 'none';\r\n    cnt += 1;\r\n  }\r\n};\r\n\r\nHTextElement.prototype.renderInnerContent = function () {\r\n  var svgStyle;\r\n  if (this.data.singleShape) {\r\n    if (!this._isFirstFrame && !this.lettersChangedFlag) {\r\n      return;\r\n    } if (this.isMasked && this.finalTransform._matMdf) {\r\n      // Todo Benchmark if using this is better than getBBox\r\n      this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\r\n      svgStyle = this.svgElement.style;\r\n      var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\r\n      svgStyle.transform = translation;\r\n      svgStyle.webkitTransform = translation;\r\n    }\r\n  }\r\n\r\n  this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n  if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\r\n    return;\r\n  }\r\n  var i;\r\n  var len;\r\n  var count = 0;\r\n  var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n  var letters = this.textProperty.currentData.l;\r\n\r\n  len = letters.length;\r\n  var renderedLetter;\r\n  var textSpan;\r\n  var textPath;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (letters[i].n) {\r\n      count += 1;\r\n    } else {\r\n      textSpan = this.textSpans[i];\r\n      textPath = this.textPaths[i];\r\n      renderedLetter = renderedLetters[count];\r\n      count += 1;\r\n      if (renderedLetter._mdf.m) {\r\n        if (!this.isMasked) {\r\n          textSpan.style.webkitTransform = renderedLetter.m;\r\n          textSpan.style.transform = renderedLetter.m;\r\n        } else {\r\n          textSpan.setAttribute('transform', renderedLetter.m);\r\n        }\r\n      }\r\n      /// /textSpan.setAttribute('opacity',renderedLetter.o);\r\n      textSpan.style.opacity = renderedLetter.o;\r\n      if (renderedLetter.sw && renderedLetter._mdf.sw) {\r\n        textPath.setAttribute('stroke-width', renderedLetter.sw);\r\n      }\r\n      if (renderedLetter.sc && renderedLetter._mdf.sc) {\r\n        textPath.setAttribute('stroke', renderedLetter.sc);\r\n      }\r\n      if (renderedLetter.fc && renderedLetter._mdf.fc) {\r\n        textPath.setAttribute('fill', renderedLetter.fc);\r\n        textPath.style.color = renderedLetter.fc;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\r\n    var boundingBox = this.innerElem.getBBox();\r\n\r\n    if (this.currentBBox.w !== boundingBox.width) {\r\n      this.currentBBox.w = boundingBox.width;\r\n      this.svgElement.setAttribute('width', boundingBox.width);\r\n    }\r\n    if (this.currentBBox.h !== boundingBox.height) {\r\n      this.currentBBox.h = boundingBox.height;\r\n      this.svgElement.setAttribute('height', boundingBox.height);\r\n    }\r\n\r\n    var margin = 1;\r\n    if (this.currentBBox.w !== (boundingBox.width + margin * 2) || this.currentBBox.h !== (boundingBox.height + margin * 2) || this.currentBBox.x !== (boundingBox.x - margin) || this.currentBBox.y !== (boundingBox.y - margin)) {\r\n      this.currentBBox.w = boundingBox.width + margin * 2;\r\n      this.currentBBox.h = boundingBox.height + margin * 2;\r\n      this.currentBBox.x = boundingBox.x - margin;\r\n      this.currentBBox.y = boundingBox.y - margin;\r\n\r\n      this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\r\n      svgStyle = this.svgElement.style;\r\n      var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\r\n      svgStyle.transform = svgTransform;\r\n      svgStyle.webkitTransform = svgTransform;\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement,\r\nFrameElement, RenderableElement, createNS */\r\n\r\nfunction HImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\r\n\r\nHImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  var img = new Image();\r\n\r\n  if (this.data.hasMask) {\r\n    this.imageElem = createNS('image');\r\n    this.imageElem.setAttribute('width', this.assetData.w + 'px');\r\n    this.imageElem.setAttribute('height', this.assetData.h + 'px');\r\n    this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n    this.layerElement.appendChild(this.imageElem);\r\n    this.baseElement.setAttribute('width', this.assetData.w);\r\n    this.baseElement.setAttribute('height', this.assetData.h);\r\n  } else {\r\n    this.layerElement.appendChild(img);\r\n  }\r\n  img.crossOrigin = 'anonymous';\r\n  img.src = assetPath;\r\n  if (this.data.ln) {\r\n    this.baseElement.setAttribute('id', this.data.ln);\r\n  }\r\n};\r\n\r\n/* global PropertyFactory, degToRads, Matrix, extendPrototype, BaseElement, FrameElement, HierarchyElement */\r\n\r\nfunction HCameraElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initHierarchy();\r\n  var getProp = PropertyFactory.getProp;\r\n  this.pe = getProp(this, data.pe, 0, 0, this);\r\n  if (data.ks.p.s) {\r\n    this.px = getProp(this, data.ks.p.x, 1, 0, this);\r\n    this.py = getProp(this, data.ks.p.y, 1, 0, this);\r\n    this.pz = getProp(this, data.ks.p.z, 1, 0, this);\r\n  } else {\r\n    this.p = getProp(this, data.ks.p, 1, 0, this);\r\n  }\r\n  if (data.ks.a) {\r\n    this.a = getProp(this, data.ks.a, 1, 0, this);\r\n  }\r\n  if (data.ks.or.k.length && data.ks.or.k[0].to) {\r\n    var i;\r\n    var len = data.ks.or.k.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      data.ks.or.k[i].to = null;\r\n      data.ks.or.k[i].ti = null;\r\n    }\r\n  }\r\n  this.or = getProp(this, data.ks.or, 1, degToRads, this);\r\n  this.or.sh = true;\r\n  this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\r\n  this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\r\n  this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\r\n  this.mat = new Matrix();\r\n  this._prevMat = new Matrix();\r\n  this._isFirstFrame = true;\r\n\r\n  // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\r\n  this.finalTransform = {\r\n    mProp: this,\r\n  };\r\n}\r\nextendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\r\n\r\nHCameraElement.prototype.setup = function () {\r\n  var i;\r\n  var len = this.comp.threeDElements.length;\r\n  var comp;\r\n  var perspectiveStyle;\r\n  var containerStyle;\r\n  for (i = 0; i < len; i += 1) {\r\n    // [perspectiveElem,container]\r\n    comp = this.comp.threeDElements[i];\r\n    if (comp.type === '3d') {\r\n      perspectiveStyle = comp.perspectiveElem.style;\r\n      containerStyle = comp.container.style;\r\n      var perspective = this.pe.v + 'px';\r\n      var origin = '0px 0px 0px';\r\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\r\n      perspectiveStyle.perspective = perspective;\r\n      perspectiveStyle.webkitPerspective = perspective;\r\n      containerStyle.transformOrigin = origin;\r\n      containerStyle.mozTransformOrigin = origin;\r\n      containerStyle.webkitTransformOrigin = origin;\r\n      perspectiveStyle.transform = matrix;\r\n      perspectiveStyle.webkitTransform = matrix;\r\n    }\r\n  }\r\n};\r\n\r\nHCameraElement.prototype.createElements = function () {\r\n};\r\n\r\nHCameraElement.prototype.hide = function () {\r\n};\r\n\r\nHCameraElement.prototype.renderFrame = function () {\r\n  var _mdf = this._isFirstFrame;\r\n  var i;\r\n  var len;\r\n  if (this.hierarchy) {\r\n    len = this.hierarchy.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\r\n    }\r\n  }\r\n  if (_mdf || this.pe._mdf || (this.p && this.p._mdf) || (this.px && (this.px._mdf || this.py._mdf || this.pz._mdf)) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || (this.a && this.a._mdf)) {\r\n    this.mat.reset();\r\n\r\n    if (this.hierarchy) {\r\n      len = this.hierarchy.length - 1;\r\n      for (i = len; i >= 0; i -= 1) {\r\n        var mTransf = this.hierarchy[i].finalTransform.mProp;\r\n        this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\r\n        this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\r\n        this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\r\n        this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\r\n        this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\r\n      }\r\n    }\r\n    if (this.p) {\r\n      this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\r\n    } else {\r\n      this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\r\n    }\r\n    if (this.a) {\r\n      var diffVector;\r\n      if (this.p) {\r\n        diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\r\n      } else {\r\n        diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\r\n      }\r\n      var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2));\r\n      // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\r\n      var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\r\n      var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\r\n      var mRotationX = (Math.atan2(lookDir[1], lookLengthOnXZ));\r\n      var mRotationY = (Math.atan2(lookDir[0], -lookDir[2]));\r\n      this.mat.rotateY(mRotationY).rotateX(-mRotationX);\r\n    }\r\n    this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\r\n    this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\r\n    this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\r\n    this.mat.translate(0, 0, this.pe.v);\r\n\r\n    var hasMatrixChanged = !this._prevMat.equals(this.mat);\r\n    if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\r\n      len = this.comp.threeDElements.length;\r\n      var comp;\r\n      var perspectiveStyle;\r\n      var containerStyle;\r\n      for (i = 0; i < len; i += 1) {\r\n        comp = this.comp.threeDElements[i];\r\n        if (comp.type === '3d') {\r\n          if (hasMatrixChanged) {\r\n            var matValue = this.mat.toCSS();\r\n            containerStyle = comp.container.style;\r\n            containerStyle.transform = matValue;\r\n            containerStyle.webkitTransform = matValue;\r\n          }\r\n          if (this.pe._mdf) {\r\n            perspectiveStyle = comp.perspectiveElem.style;\r\n            perspectiveStyle.perspective = this.pe.v + 'px';\r\n            perspectiveStyle.webkitPerspective = this.pe.v + 'px';\r\n          }\r\n        }\r\n      }\r\n      this.mat.clone(this._prevMat);\r\n    }\r\n  }\r\n  this._isFirstFrame = false;\r\n};\r\n\r\nHCameraElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nHCameraElement.prototype.destroy = function () {\r\n};\r\nHCameraElement.prototype.getBaseElement = function () { return null; };\r\n\r\nfunction HEffects() {\r\n}\r\nHEffects.prototype.renderFrame = function () {};\r\n\r\n/* global createTag, AnimationItem */\r\n/* exported animationManager */\r\n\r\nvar animationManager = (function () {\r\n  var moduleOb = {};\r\n  var registeredAnimations = [];\r\n  var initTime = 0;\r\n  var len = 0;\r\n  var playingAnimationsNum = 0;\r\n  var _stopped = true;\r\n  var _isFrozen = false;\r\n\r\n  function removeElement(ev) {\r\n    var i = 0;\r\n    var animItem = ev.target;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].animation === animItem) {\r\n        registeredAnimations.splice(i, 1);\r\n        i -= 1;\r\n        len -= 1;\r\n        if (!animItem.isPaused) {\r\n          subtractPlayingCount();\r\n        }\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  function registerAnimation(element, animationData) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    var i = 0;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n        return registeredAnimations[i].animation;\r\n      }\r\n      i += 1;\r\n    }\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, element);\r\n    animItem.setData(element, animationData);\r\n    return animItem;\r\n  }\r\n\r\n  function getRegisteredAnimations() {\r\n    var i;\r\n    var lenAnims = registeredAnimations.length;\r\n    var animations = [];\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      animations.push(registeredAnimations[i].animation);\r\n    }\r\n    return animations;\r\n  }\r\n\r\n  function addPlayingCount() {\r\n    playingAnimationsNum += 1;\r\n    activate();\r\n  }\r\n\r\n  function subtractPlayingCount() {\r\n    playingAnimationsNum -= 1;\r\n  }\r\n\r\n  function setupAnimation(animItem, element) {\r\n    animItem.addEventListener('destroy', removeElement);\r\n    animItem.addEventListener('_active', addPlayingCount);\r\n    animItem.addEventListener('_idle', subtractPlayingCount);\r\n    registeredAnimations.push({ elem: element, animation: animItem });\r\n    len += 1;\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, null);\r\n    animItem.setParams(params);\r\n    return animItem;\r\n  }\r\n\r\n  function setSpeed(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setSpeed(val, animation);\r\n    }\r\n  }\r\n\r\n  function setDirection(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setDirection(val, animation);\r\n    }\r\n  }\r\n\r\n  function play(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.play(animation);\r\n    }\r\n  }\r\n  function resume(nowTime) {\r\n    var elapsedTime = nowTime - initTime;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n    }\r\n    initTime = nowTime;\r\n    if (playingAnimationsNum && !_isFrozen) {\r\n      window.requestAnimationFrame(resume);\r\n    } else {\r\n      _stopped = true;\r\n    }\r\n  }\r\n\r\n  function first(nowTime) {\r\n    initTime = nowTime;\r\n    window.requestAnimationFrame(resume);\r\n  }\r\n\r\n  function pause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.pause(animation);\r\n    }\r\n  }\r\n\r\n  function goToAndStop(value, isFrame, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n    }\r\n  }\r\n\r\n  function stop(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.stop(animation);\r\n    }\r\n  }\r\n\r\n  function togglePause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.togglePause(animation);\r\n    }\r\n  }\r\n\r\n  function destroy(animation) {\r\n    var i;\r\n    for (i = (len - 1); i >= 0; i -= 1) {\r\n      registeredAnimations[i].animation.destroy(animation);\r\n    }\r\n  }\r\n\r\n  function searchAnimations(animationData, standalone, renderer) {\r\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n      [].slice.call(document.getElementsByClassName('bodymovin')));\r\n    var i;\r\n    var lenAnims = animElements.length;\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      if (renderer) {\r\n        animElements[i].setAttribute('data-bm-type', renderer);\r\n      }\r\n      registerAnimation(animElements[i], animationData);\r\n    }\r\n    if (standalone && lenAnims === 0) {\r\n      if (!renderer) {\r\n        renderer = 'svg';\r\n      }\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.innerText = '';\r\n      var div = createTag('div');\r\n      div.style.width = '100%';\r\n      div.style.height = '100%';\r\n      div.setAttribute('data-bm-type', renderer);\r\n      body.appendChild(div);\r\n      registerAnimation(div, animationData);\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.resize();\r\n    }\r\n  }\r\n\r\n  function activate() {\r\n    if (!_isFrozen && playingAnimationsNum) {\r\n      if (_stopped) {\r\n        window.requestAnimationFrame(first);\r\n        _stopped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function freeze() {\r\n    _isFrozen = true;\r\n  }\r\n\r\n  function unfreeze() {\r\n    _isFrozen = false;\r\n    activate();\r\n  }\r\n\r\n  function setVolume(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setVolume(val, animation);\r\n    }\r\n  }\r\n\r\n  function mute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.mute(animation);\r\n    }\r\n  }\r\n\r\n  function unmute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.unmute(animation);\r\n    }\r\n  }\r\n\r\n  moduleOb.registerAnimation = registerAnimation;\r\n  moduleOb.loadAnimation = loadAnimation;\r\n  moduleOb.setSpeed = setSpeed;\r\n  moduleOb.setDirection = setDirection;\r\n  moduleOb.play = play;\r\n  moduleOb.pause = pause;\r\n  moduleOb.stop = stop;\r\n  moduleOb.togglePause = togglePause;\r\n  moduleOb.searchAnimations = searchAnimations;\r\n  moduleOb.resize = resize;\r\n  // moduleOb.start = start;\r\n  moduleOb.goToAndStop = goToAndStop;\r\n  moduleOb.destroy = destroy;\r\n  moduleOb.freeze = freeze;\r\n  moduleOb.unfreeze = unfreeze;\r\n  moduleOb.setVolume = setVolume;\r\n  moduleOb.mute = mute;\r\n  moduleOb.unmute = unmute;\r\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n  return moduleOb;\r\n}());\r\n\r\n/* global createElementID, subframeEnabled, ProjectInterface, ImagePreloader, audioControllerFactory, extendPrototype, BaseEvent,\r\nCanvasRenderer, SVGRenderer, HybridRenderer, assetLoader, dataManager, expressionsPlugin, BMEnterFrameEvent, BMCompleteLoopEvent,\r\nBMCompleteEvent, BMSegmentStartEvent, BMDestroyEvent, BMEnterFrameEvent, BMCompleteLoopEvent, BMCompleteEvent, BMSegmentStartEvent,\r\nBMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent */\r\n\r\nvar AnimationItem = function () {\r\n  this._cbs = [];\r\n  this.name = '';\r\n  this.path = '';\r\n  this.isLoaded = false;\r\n  this.currentFrame = 0;\r\n  this.currentRawFrame = 0;\r\n  this.firstFrame = 0;\r\n  this.totalFrames = 0;\r\n  this.frameRate = 0;\r\n  this.frameMult = 0;\r\n  this.playSpeed = 1;\r\n  this.playDirection = 1;\r\n  this.playCount = 0;\r\n  this.animationData = {};\r\n  this.assets = [];\r\n  this.isPaused = true;\r\n  this.autoplay = false;\r\n  this.loop = true;\r\n  this.renderer = null;\r\n  this.animationID = createElementID();\r\n  this.assetsPath = '';\r\n  this.timeCompleted = 0;\r\n  this.segmentPos = 0;\r\n  this.isSubframeEnabled = subframeEnabled;\r\n  this.segments = [];\r\n  this._idle = true;\r\n  this._completedLoop = false;\r\n  this.projectInterface = ProjectInterface();\r\n  this.imagePreloader = new ImagePreloader();\r\n  this.audioController = audioControllerFactory();\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function (params) {\r\n  if (params.wrapper || params.container) {\r\n    this.wrapper = params.wrapper || params.container;\r\n  }\r\n  var animType = 'svg';\r\n  if (params.animType) {\r\n    animType = params.animType;\r\n  } else if (params.renderer) {\r\n    animType = params.renderer;\r\n  }\r\n  switch (animType) {\r\n    case 'canvas':\r\n      this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n      break;\r\n    case 'svg':\r\n      this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n      break;\r\n    default:\r\n      this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n      break;\r\n  }\r\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n  this.renderer.setProjectInterface(this.projectInterface);\r\n  this.animType = animType;\r\n  if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true) {\r\n    this.loop = true;\r\n  } else if (params.loop === false) {\r\n    this.loop = false;\r\n  } else {\r\n    this.loop = parseInt(params.loop, 10);\r\n  }\r\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n  this.name = params.name ? params.name : '';\r\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n  this.assetsPath = params.assetsPath;\r\n  this.initialSegment = params.initialSegment;\r\n  if (params.audioFactory) {\r\n    this.audioController.setAudioFactory(params.audioFactory);\r\n  }\r\n  if (params.animationData) {\r\n    this.configAnimation(params.animationData);\r\n  } else if (params.path) {\r\n    if (params.path.lastIndexOf('\\\\') !== -1) {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n    } else {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n    }\r\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n\r\n    assetLoader.load(params.path, this.configAnimation.bind(this), function () {\r\n      this.trigger('data_failed');\r\n    }.bind(this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n  if (animationData) {\r\n    if (typeof animationData !== 'object') {\r\n      animationData = JSON.parse(animationData);\r\n    }\r\n  }\r\n  var params = {\r\n    wrapper: wrapper,\r\n    animationData: animationData,\r\n  };\r\n  var wrapperAttributes = wrapper.attributes;\r\n\r\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\r\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\r\n      : wrapperAttributes.getNamedItem('bm-path')\r\n        ? wrapperAttributes.getNamedItem('bm-path').value\r\n        : '';\r\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\r\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\r\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n        ? wrapperAttributes.getNamedItem('bm-type').value\r\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\r\n          : wrapperAttributes.getNamedItem('bm-renderer')\r\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\r\n            : 'canvas';\r\n\r\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\r\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\r\n      : wrapperAttributes.getNamedItem('bm-loop')\r\n        ? wrapperAttributes.getNamedItem('bm-loop').value\r\n        : '';\r\n  if (loop === 'false') {\r\n    params.loop = false;\r\n  } else if (loop === 'true') {\r\n    params.loop = true;\r\n  } else if (loop !== '') {\r\n    params.loop = parseInt(loop, 10);\r\n  }\r\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\r\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\r\n      : wrapperAttributes.getNamedItem('bm-autoplay')\r\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\r\n        : true;\r\n  params.autoplay = autoplay !== 'false';\r\n\r\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value\r\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\r\n      : wrapperAttributes.getNamedItem('bm-name')\r\n        ? wrapperAttributes.getNamedItem('bm-name').value\r\n        : '';\r\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\r\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\r\n      : wrapperAttributes.getNamedItem('bm-prerender')\r\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\r\n        : '';\r\n\r\n  if (prerender === 'false') {\r\n    params.prerender = false;\r\n  }\r\n  this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function (data) {\r\n  if (data.op > this.animationData.op) {\r\n    this.animationData.op = data.op;\r\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n  }\r\n  var layers = this.animationData.layers;\r\n  var i;\r\n  var len = layers.length;\r\n  var newLayers = data.layers;\r\n  var j;\r\n  var jLen = newLayers.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    i = 0;\r\n    while (i < len) {\r\n      if (layers[i].id === newLayers[j].id) {\r\n        layers[i] = newLayers[j];\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n  if (data.chars || data.fonts) {\r\n    this.renderer.globalData.fontManager.addChars(data.chars);\r\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n  }\r\n  if (data.assets) {\r\n    len = data.assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.animationData.assets.push(data.assets[i]);\r\n    }\r\n  }\r\n  this.animationData.__complete = false;\r\n  dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n  this.renderer.includeLayers(data.layers);\r\n  if (expressionsPlugin) {\r\n    expressionsPlugin.initExpressions(this);\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n    this.trigger('data_ready');\r\n    this.timeCompleted = this.totalFrames;\r\n    return;\r\n  }\r\n  var segment = segments.shift();\r\n  this.timeCompleted = segment.time * this.frameRate;\r\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n  this.segmentPos += 1;\r\n  assetLoader.load(segmentPath, this.includeLayers.bind(this), function () {\r\n    this.trigger('data_failed');\r\n  }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments) {\r\n    this.timeCompleted = this.totalFrames;\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function () {\r\n  this.trigger('loaded_images');\r\n  this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.preloadImages = function () {\r\n  this.imagePreloader.setAssetsPath(this.assetsPath);\r\n  this.imagePreloader.setPath(this.path);\r\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.animationData = animData;\r\n\r\n    if (this.initialSegment) {\r\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n      this.firstFrame = Math.round(this.initialSegment[0]);\r\n    } else {\r\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n      this.firstFrame = Math.round(this.animationData.ip);\r\n    }\r\n    this.renderer.configAnimation(animData);\r\n    if (!animData.assets) {\r\n      animData.assets = [];\r\n    }\r\n\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n    this.trigger('config_ready');\r\n    this.preloadImages();\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    this.waitForFontsLoaded();\r\n    if (this.isPaused) {\r\n      this.audioController.pause();\r\n    }\r\n  } catch (error) {\r\n    this.triggerConfigError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function () {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  if (this.renderer.globalData.fontManager.isLoaded) {\r\n    this.checkLoaded();\r\n  } else {\r\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n  if (!this.isLoaded\r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loaded() || this.renderer.rendererType !== 'canvas')\r\n  ) {\r\n    this.isLoaded = true;\r\n    dataManager.completeData(this.animationData, this.renderer.globalData.fontManager);\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.initItems();\r\n    setTimeout(function () {\r\n      this.trigger('DOMLoaded');\r\n    }.bind(this), 0);\r\n    this.gotoFrame();\r\n    if (this.autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n  this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function (flag) {\r\n  this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n    this.currentFrame = this.timeCompleted;\r\n  }\r\n  this.trigger('enterFrame');\r\n  this.renderFrame();\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n  if (this.isLoaded === false) {\r\n    return;\r\n  }\r\n  try {\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n  } catch (error) {\r\n    this.triggerRenderFrameError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.isPaused = false;\r\n    this.audioController.resume();\r\n    if (this._idle) {\r\n      this._idle = false;\r\n      this.trigger('_active');\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === false) {\r\n    this.isPaused = true;\r\n    this._idle = true;\r\n    this.trigger('_idle');\r\n    this.audioController.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.play();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.pause();\r\n  this.playCount = 0;\r\n  this._completedLoop = false;\r\n  this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (isFrame) {\r\n    this.setCurrentRawFrameValue(value);\r\n  } else {\r\n    this.setCurrentRawFrameValue(value * this.frameModifier);\r\n  }\r\n  this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n  this.goToAndStop(value, isFrame, name);\r\n  this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n  if (this.isPaused === true || this.isLoaded === false) {\r\n    return;\r\n  }\r\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n  var _isComplete = false;\r\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n    if (!this.loop || this.playCount === this.loop) {\r\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n        _isComplete = true;\r\n        nextValue = this.totalFrames - 1;\r\n      }\r\n    } else if (nextValue >= this.totalFrames) {\r\n      this.playCount += 1;\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n        this._completedLoop = true;\r\n        this.trigger('loopComplete');\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n  } else if (nextValue < 0) {\r\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\r\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n        if (!this._completedLoop) {\r\n          this._completedLoop = true;\r\n        } else {\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        _isComplete = true;\r\n        nextValue = 0;\r\n      }\r\n    }\r\n  } else {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n  }\r\n  if (_isComplete) {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n    this.pause();\r\n    this.trigger('complete');\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n  this.playCount = 0;\r\n  if (arr[1] < arr[0]) {\r\n    if (this.frameModifier > 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(-1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[0] - arr[1];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[1];\r\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n  } else if (arr[1] > arr[0]) {\r\n    if (this.frameModifier < 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[1] - arr[0];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[0];\r\n    this.setCurrentRawFrameValue(0.001 + offset);\r\n  }\r\n  this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init, end) {\r\n  var pendingFrame = -1;\r\n  if (this.isPaused) {\r\n    if (this.currentRawFrame + this.firstFrame < init) {\r\n      pendingFrame = init;\r\n    } else if (this.currentRawFrame + this.firstFrame > end) {\r\n      pendingFrame = end - init;\r\n    }\r\n  }\r\n\r\n  this.firstFrame = init;\r\n  this.totalFrames = end - init;\r\n  this.timeCompleted = this.totalFrames;\r\n  if (pendingFrame !== -1) {\r\n    this.goToAndStop(pendingFrame, true);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n  if (forceFlag) {\r\n    this.segments.length = 0;\r\n  }\r\n  if (typeof arr[0] === 'object') {\r\n    var i;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.segments.push(arr[i]);\r\n    }\r\n  } else {\r\n    this.segments.push(arr);\r\n  }\r\n  if (this.segments.length && forceFlag) {\r\n    this.adjustSegment(this.segments.shift(), 0);\r\n  }\r\n  if (this.isPaused) {\r\n    this.play();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n  this.segments.length = 0;\r\n  this.segments.push([this.animationData.ip, this.animationData.op]);\r\n  // this.segments.push([this.animationData.ip*this.frameRate,Math.floor(this.animationData.op - this.animationData.ip+this.animationData.ip*this.frameRate)]);\r\n  if (forceFlag) {\r\n    this.checkSegments(0);\r\n  }\r\n};\r\nAnimationItem.prototype.checkSegments = function (offset) {\r\n  if (this.segments.length) {\r\n    this.adjustSegment(this.segments.shift(), offset);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n  if ((name && this.name !== name) || !this.renderer) {\r\n    return;\r\n  }\r\n  this.renderer.destroy();\r\n  this.imagePreloader.destroy();\r\n  this.trigger('destroy');\r\n  this._cbs = null;\r\n  this.onEnterFrame = null;\r\n  this.onLoopComplete = null;\r\n  this.onComplete = null;\r\n  this.onSegmentStart = null;\r\n  this.onDestroy = null;\r\n  this.renderer = null;\r\n  this.renderer = null;\r\n  this.imagePreloader = null;\r\n  this.projectInterface = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n  this.currentRawFrame = value;\r\n  this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n  this.playSpeed = val;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n  this.playDirection = val < 0 ? -1 : 1;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n  return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n  this.audioController.setRate(this.playSpeed * this.playDirection);\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n  return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n  var path = '';\r\n  if (assetData.e) {\r\n    path = assetData.p;\r\n  } else if (this.assetsPath) {\r\n    var imagePath = assetData.p;\r\n    if (imagePath.indexOf('images/') !== -1) {\r\n      imagePath = imagePath.split('/')[1];\r\n    }\r\n    path = this.assetsPath + imagePath;\r\n  } else {\r\n    path = this.path;\r\n    path += assetData.u ? assetData.u : '';\r\n    path += assetData.p;\r\n  }\r\n  return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n  var i = 0;\r\n  var len = this.assets.length;\r\n  while (i < len) {\r\n    if (id === this.assets[i].id) {\r\n      return this.assets[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n  this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n  this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function (name) {\r\n  if (this._cbs && this._cbs[name]) {\r\n    switch (name) {\r\n      case 'enterFrame':\r\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n        break;\r\n      case 'loopComplete':\r\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n        break;\r\n      case 'complete':\r\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n        break;\r\n      case 'segmentStart':\r\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n        break;\r\n      case 'destroy':\r\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n        break;\r\n      default:\r\n        this.triggerEvent(name);\r\n    }\r\n  }\r\n  if (name === 'enterFrame' && this.onEnterFrame) {\r\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n  }\r\n  if (name === 'loopComplete' && this.onLoopComplete) {\r\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n  }\r\n  if (name === 'complete' && this.onComplete) {\r\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n  }\r\n  if (name === 'segmentStart' && this.onSegmentStart) {\r\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n  }\r\n  if (name === 'destroy' && this.onDestroy) {\r\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\n/* global CompExpressionInterface, expressionsPlugin: writable */\r\n/* exported expressionsPlugin */\r\n\r\nvar Expressions = (function () {\r\n  var ob = {};\r\n  ob.initExpressions = initExpressions;\r\n\r\n  function initExpressions(animation) {\r\n    var stackCount = 0;\r\n    var registers = [];\r\n\r\n    function pushExpression() {\r\n      stackCount += 1;\r\n    }\r\n\r\n    function popExpression() {\r\n      stackCount -= 1;\r\n      if (stackCount === 0) {\r\n        releaseInstances();\r\n      }\r\n    }\r\n\r\n    function registerExpressionProperty(expression) {\r\n      if (registers.indexOf(expression) === -1) {\r\n        registers.push(expression);\r\n      }\r\n    }\r\n\r\n    function releaseInstances() {\r\n      var i;\r\n      var len = registers.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        registers[i].release();\r\n      }\r\n      registers.length = 0;\r\n    }\r\n\r\n    animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\r\n    animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\r\n    animation.renderer.globalData.pushExpression = pushExpression;\r\n    animation.renderer.globalData.popExpression = popExpression;\r\n    animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\r\n  }\r\n  return ob;\r\n}());\r\n\r\nexpressionsPlugin = Expressions;\r\n\r\n/* eslint-disable camelcase, no-unused-vars */\r\n/* global BMMath, BezierFactory, createTypedArray, degToRads, shapePool */\r\n\r\nvar ExpressionManager = (function () {\r\n  'use strict';\r\n\r\n  var ob = {};\r\n  var Math = BMMath;\r\n  var window = null;\r\n  var document = null;\r\n\r\n  function $bm_isInstanceOfArray(arr) {\r\n    return arr.constructor === Array || arr.constructor === Float32Array;\r\n  }\r\n\r\n  function isNumerable(tOfV, v) {\r\n    return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\r\n  }\r\n\r\n  function $bm_neg(a) {\r\n    var tOfA = typeof a;\r\n    if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\r\n      return -a;\r\n    }\r\n    if ($bm_isInstanceOfArray(a)) {\r\n      var i;\r\n      var lenA = a.length;\r\n      var retArr = [];\r\n      for (i = 0; i < lenA; i += 1) {\r\n        retArr[i] = -a[i];\r\n      }\r\n      return retArr;\r\n    }\r\n    if (a.propType) {\r\n      return a.v;\r\n    }\r\n    return -a;\r\n  }\r\n\r\n  var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\r\n  var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\r\n  var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\r\n\r\n  function sum(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (tOfA === 'string' || tOfB === 'string') {\r\n      return a + b;\r\n    }\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a + b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] += b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a + b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] + b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n  var add = sum;\r\n\r\n  function sub(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      if (tOfA === 'string') {\r\n        a = parseInt(a, 10);\r\n      }\r\n      if (tOfB === 'string') {\r\n        b = parseInt(b, 10);\r\n      }\r\n      return a - b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      a = a.slice(0);\r\n      a[0] -= b;\r\n      return a;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      b = b.slice(0);\r\n      b[0] = a - b[0];\r\n      return b;\r\n    }\r\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\r\n      var i = 0;\r\n      var lenA = a.length;\r\n      var lenB = b.length;\r\n      var retArr = [];\r\n      while (i < lenA || i < lenB) {\r\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\r\n          retArr[i] = a[i] - b[i];\r\n        } else {\r\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return retArr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function mul(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a * b;\r\n    }\r\n\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] * b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a * b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function div(a, b) {\r\n    var tOfA = typeof a;\r\n    var tOfB = typeof b;\r\n    var arr;\r\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\r\n      return a / b;\r\n    }\r\n    var i;\r\n    var len;\r\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\r\n      len = a.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a[i] / b;\r\n      }\r\n      return arr;\r\n    }\r\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\r\n      len = b.length;\r\n      arr = createTypedArray('float32', len);\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = a / b[i];\r\n      }\r\n      return arr;\r\n    }\r\n    return 0;\r\n  }\r\n  function mod(a, b) {\r\n    if (typeof a === 'string') {\r\n      a = parseInt(a, 10);\r\n    }\r\n    if (typeof b === 'string') {\r\n      b = parseInt(b, 10);\r\n    }\r\n    return a % b;\r\n  }\r\n  var $bm_sum = sum;\r\n  var $bm_sub = sub;\r\n  var $bm_mul = mul;\r\n  var $bm_div = div;\r\n  var $bm_mod = mod;\r\n\r\n  function clamp(num, min, max) {\r\n    if (min > max) {\r\n      var mm = max;\r\n      max = min;\r\n      min = mm;\r\n    }\r\n    return Math.min(Math.max(num, min), max);\r\n  }\r\n\r\n  function radiansToDegrees(val) {\r\n    return val / degToRads;\r\n  }\r\n  var radians_to_degrees = radiansToDegrees;\r\n\r\n  function degreesToRadians(val) {\r\n    return val * degToRads;\r\n  }\r\n  var degrees_to_radians = radiansToDegrees;\r\n\r\n  var helperLengthArray = [0, 0, 0, 0, 0, 0];\r\n\r\n  function length(arr1, arr2) {\r\n    if (typeof arr1 === 'number' || arr1 instanceof Number) {\r\n      arr2 = arr2 || 0;\r\n      return Math.abs(arr1 - arr2);\r\n    }\r\n    if (!arr2) {\r\n      arr2 = helperLengthArray;\r\n    }\r\n    var i;\r\n    var len = Math.min(arr1.length, arr2.length);\r\n    var addedLength = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      addedLength += Math.pow(arr2[i] - arr1[i], 2);\r\n    }\r\n    return Math.sqrt(addedLength);\r\n  }\r\n\r\n  function normalize(vec) {\r\n    return div(vec, length(vec));\r\n  }\r\n\r\n  function rgbToHsl(val) {\r\n    var r = val[0]; var g = val[1]; var b = val[2];\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var h;\r\n    var s;\r\n    var l = (max + min) / 2;\r\n\r\n    if (max === min) {\r\n      h = 0; // achromatic\r\n      s = 0; // achromatic\r\n    } else {\r\n      var d = max - min;\r\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n      switch (max) {\r\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\r\n        case g: h = (b - r) / d + 2; break;\r\n        case b: h = (r - g) / d + 4; break;\r\n        default: break;\r\n      }\r\n      h /= 6;\r\n    }\r\n\r\n    return [h, s, l, val[3]];\r\n  }\r\n\r\n  function hue2rgb(p, q, t) {\r\n    if (t < 0) t += 1;\r\n    if (t > 1) t -= 1;\r\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n    if (t < 1 / 2) return q;\r\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n    return p;\r\n  }\r\n\r\n  function hslToRgb(val) {\r\n    var h = val[0];\r\n    var s = val[1];\r\n    var l = val[2];\r\n\r\n    var r;\r\n    var g;\r\n    var b;\r\n\r\n    if (s === 0) {\r\n      r = l; // achromatic\r\n      b = l; // achromatic\r\n      g = l; // achromatic\r\n    } else {\r\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n      var p = 2 * l - q;\r\n      r = hue2rgb(p, q, h + 1 / 3);\r\n      g = hue2rgb(p, q, h);\r\n      b = hue2rgb(p, q, h - 1 / 3);\r\n    }\r\n\r\n    return [r, g, b, val[3]];\r\n  }\r\n\r\n  function linear(t, tMin, tMax, value1, value2) {\r\n    if (value1 === undefined || value2 === undefined) {\r\n      value1 = tMin;\r\n      value2 = tMax;\r\n      tMin = 0;\r\n      tMax = 1;\r\n    }\r\n    if (tMax < tMin) {\r\n      var _tMin = tMax;\r\n      tMax = tMin;\r\n      tMin = _tMin;\r\n    }\r\n    if (t <= tMin) {\r\n      return value1;\r\n    } if (t >= tMax) {\r\n      return value2;\r\n    }\r\n    var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\r\n    if (!value1.length) {\r\n      return value1 + (value2 - value1) * perc;\r\n    }\r\n    var i;\r\n    var len = value1.length;\r\n    var arr = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\r\n    }\r\n    return arr;\r\n  }\r\n  function random(min, max) {\r\n    if (max === undefined) {\r\n      if (min === undefined) {\r\n        min = 0;\r\n        max = 1;\r\n      } else {\r\n        max = min;\r\n        min = undefined;\r\n      }\r\n    }\r\n    if (max.length) {\r\n      var i;\r\n      var len = max.length;\r\n      if (!min) {\r\n        min = createTypedArray('float32', len);\r\n      }\r\n      var arr = createTypedArray('float32', len);\r\n      var rnd = BMMath.random();\r\n      for (i = 0; i < len; i += 1) {\r\n        arr[i] = min[i] + rnd * (max[i] - min[i]);\r\n      }\r\n      return arr;\r\n    }\r\n    if (min === undefined) {\r\n      min = 0;\r\n    }\r\n    var rndm = BMMath.random();\r\n    return min + rndm * (max - min);\r\n  }\r\n\r\n  function createPath(points, inTangents, outTangents, closed) {\r\n    var i;\r\n    var len = points.length;\r\n    var path = shapePool.newElement();\r\n    path.setPathData(!!closed, len);\r\n    var arrPlaceholder = [0, 0];\r\n    var inVertexPoint;\r\n    var outVertexPoint;\r\n    for (i = 0; i < len; i += 1) {\r\n      inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\r\n      outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\r\n      path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function initiateExpression(elem, data, property) {\r\n    var val = data.x;\r\n    var needsVelocity = /velocity(?![\\w\\d])/.test(val);\r\n    var _needsRandom = val.indexOf('random') !== -1;\r\n    var elemType = elem.data.ty;\r\n    var transform;\r\n    var $bm_transform;\r\n    var content;\r\n    var effect;\r\n    var thisProperty = property;\r\n    thisProperty.valueAtTime = thisProperty.getValueAtTime;\r\n    Object.defineProperty(thisProperty, 'value', {\r\n      get: function () {\r\n        return thisProperty.v;\r\n      },\r\n    });\r\n    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\r\n    elem.comp.displayStartTime = 0;\r\n    var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    var outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    var width = elem.data.sw ? elem.data.sw : 0;\r\n    var height = elem.data.sh ? elem.data.sh : 0;\r\n    var name = elem.data.nm;\r\n    var loopIn;\r\n    var loop_in;\r\n    var loopOut;\r\n    var loop_out;\r\n    var smooth;\r\n    var toWorld;\r\n    var fromWorld;\r\n    var fromComp;\r\n    var toComp;\r\n    var fromCompToSurface;\r\n    var position;\r\n    var rotation;\r\n    var anchorPoint;\r\n    var scale;\r\n    var thisLayer;\r\n    var thisComp;\r\n    var mask;\r\n    var valueAtTime;\r\n    var velocityAtTime;\r\n\r\n    var scoped_bm_rt;\r\n    var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\r\n    var numKeys = property.kf ? data.k.length : 0;\r\n\r\n    var active = !this.data || this.data.hd !== true;\r\n\r\n    var wiggle = function wiggle(freq, amp) {\r\n      var iWiggle;\r\n      var j;\r\n      var lenWiggle = this.pv.length ? this.pv.length : 1;\r\n      var addedAmps = createTypedArray('float32', lenWiggle);\r\n      freq = 5;\r\n      var iterations = Math.floor(time * freq);\r\n      iWiggle = 0;\r\n      j = 0;\r\n      while (iWiggle < iterations) {\r\n        // var rnd = BMMath.random();\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          addedAmps[j] += -amp + amp * 2 * BMMath.random();\r\n          // addedAmps[j] += -amp + amp*2*rnd;\r\n        }\r\n        iWiggle += 1;\r\n      }\r\n      // var rnd2 = BMMath.random();\r\n      var periods = time * freq;\r\n      var perc = periods - Math.floor(periods);\r\n      var arr = createTypedArray('float32', lenWiggle);\r\n      if (lenWiggle > 1) {\r\n        for (j = 0; j < lenWiggle; j += 1) {\r\n          arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n          // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\r\n          // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\r\n        }\r\n        return arr;\r\n      }\r\n      return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\r\n    }.bind(this);\r\n\r\n    if (thisProperty.loopIn) {\r\n      loopIn = thisProperty.loopIn.bind(thisProperty);\r\n      loop_in = loopIn;\r\n    }\r\n\r\n    if (thisProperty.loopOut) {\r\n      loopOut = thisProperty.loopOut.bind(thisProperty);\r\n      loop_out = loopOut;\r\n    }\r\n\r\n    if (thisProperty.smooth) {\r\n      smooth = thisProperty.smooth.bind(thisProperty);\r\n    }\r\n\r\n    function loopInDuration(type, duration) {\r\n      return loopIn(type, duration, true);\r\n    }\r\n\r\n    function loopOutDuration(type, duration) {\r\n      return loopOut(type, duration, true);\r\n    }\r\n\r\n    if (this.getValueAtTime) {\r\n      valueAtTime = this.getValueAtTime.bind(this);\r\n    }\r\n\r\n    if (this.getVelocityAtTime) {\r\n      velocityAtTime = this.getVelocityAtTime.bind(this);\r\n    }\r\n\r\n    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\r\n\r\n    function lookAt(elem1, elem2) {\r\n      var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\r\n      var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\r\n      var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\r\n      return [yaw, pitch, 0];\r\n    }\r\n\r\n    function easeOut(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function easeIn(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function ease(t, tMin, tMax, val1, val2) {\r\n      return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\r\n    }\r\n\r\n    function applyEase(fn, t, tMin, tMax, val1, val2) {\r\n      if (val1 === undefined) {\r\n        val1 = tMin;\r\n        val2 = tMax;\r\n      } else {\r\n        t = (t - tMin) / (tMax - tMin);\r\n      }\r\n      if (t > 1) {\r\n        t = 1;\r\n      } else if (t < 0) {\r\n        t = 0;\r\n      }\r\n      var mult = fn(t);\r\n      if ($bm_isInstanceOfArray(val1)) {\r\n        var iKey;\r\n        var lenKey = val1.length;\r\n        var arr = createTypedArray('float32', lenKey);\r\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n          arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\r\n        }\r\n        return arr;\r\n      }\r\n      return (val2 - val1) * mult + val1;\r\n    }\r\n\r\n    function nearestKey(time) {\r\n      var iKey;\r\n      var lenKey = data.k.length;\r\n      var index;\r\n      var keyTime;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        index = 0;\r\n        keyTime = 0;\r\n      } else {\r\n        index = -1;\r\n        time *= elem.comp.globalData.frameRate;\r\n        if (time < data.k[0].t) {\r\n          index = 1;\r\n          keyTime = data.k[0].t;\r\n        } else {\r\n          for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\r\n            if (time === data.k[iKey].t) {\r\n              index = iKey + 1;\r\n              keyTime = data.k[iKey].t;\r\n              break;\r\n            } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\r\n              if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\r\n                index = iKey + 2;\r\n                keyTime = data.k[iKey + 1].t;\r\n              } else {\r\n                index = iKey + 1;\r\n                keyTime = data.k[iKey].t;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n          if (index === -1) {\r\n            index = iKey + 1;\r\n            keyTime = data.k[iKey].t;\r\n          }\r\n        }\r\n      }\r\n      var obKey = {};\r\n      obKey.index = index;\r\n      obKey.time = keyTime / elem.comp.globalData.frameRate;\r\n      return obKey;\r\n    }\r\n\r\n    function key(ind) {\r\n      var obKey;\r\n      var iKey;\r\n      var lenKey;\r\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\r\n        throw new Error('The property has no keyframe at index ' + ind);\r\n      }\r\n      ind -= 1;\r\n      obKey = {\r\n        time: data.k[ind].t / elem.comp.globalData.frameRate,\r\n        value: [],\r\n      };\r\n      var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\r\n\r\n      lenKey = arr.length;\r\n      for (iKey = 0; iKey < lenKey; iKey += 1) {\r\n        obKey[iKey] = arr[iKey];\r\n        obKey.value[iKey] = arr[iKey];\r\n      }\r\n      return obKey;\r\n    }\r\n\r\n    function framesToTime(frames, fps) {\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return frames / fps;\r\n    }\r\n\r\n    function timeToFrames(t, fps) {\r\n      if (!t && t !== 0) {\r\n        t = time;\r\n      }\r\n      if (!fps) {\r\n        fps = elem.comp.globalData.frameRate;\r\n      }\r\n      return t * fps;\r\n    }\r\n\r\n    function seedRandom(seed) {\r\n      BMMath.seedrandom(randSeed + seed);\r\n    }\r\n\r\n    function sourceRectAtTime() {\r\n      return elem.sourceRectAtTime();\r\n    }\r\n\r\n    function substring(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substring(init);\r\n        }\r\n        return value.substring(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function substr(init, end) {\r\n      if (typeof value === 'string') {\r\n        if (end === undefined) {\r\n          return value.substr(init);\r\n        }\r\n        return value.substr(init, end);\r\n      }\r\n      return '';\r\n    }\r\n\r\n    function posterizeTime(framesPerSecond) {\r\n      time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\r\n      value = valueAtTime(time);\r\n    }\r\n\r\n    var time;\r\n    var velocity;\r\n    var value;\r\n    var text;\r\n    var textIndex;\r\n    var textTotal;\r\n    var selectorValue;\r\n    var index = elem.data.ind;\r\n    var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n    var parent;\r\n    var randSeed = Math.floor(Math.random() * 1000000);\r\n    var globalData = elem.globalData;\r\n    function executeExpression(_value) {\r\n      // globalData.pushExpression();\r\n      value = _value;\r\n      if (_needsRandom) {\r\n        seedRandom(randSeed);\r\n      }\r\n      if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\r\n        return value;\r\n      }\r\n      if (this.propType === 'textSelector') {\r\n        textIndex = this.textIndex;\r\n        textTotal = this.textTotal;\r\n        selectorValue = this.selectorValue;\r\n      }\r\n      if (!thisLayer) {\r\n        text = elem.layerInterface.text;\r\n        thisLayer = elem.layerInterface;\r\n        thisComp = elem.comp.compInterface;\r\n        toWorld = thisLayer.toWorld.bind(thisLayer);\r\n        fromWorld = thisLayer.fromWorld.bind(thisLayer);\r\n        fromComp = thisLayer.fromComp.bind(thisLayer);\r\n        toComp = thisLayer.toComp.bind(thisLayer);\r\n        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\r\n        fromCompToSurface = fromComp;\r\n      }\r\n      if (!transform) {\r\n        transform = elem.layerInterface('ADBE Transform Group');\r\n        $bm_transform = transform;\r\n        if (transform) {\r\n          anchorPoint = transform.anchorPoint;\r\n          /* position = transform.position;\r\n                    rotation = transform.rotation;\r\n                    scale = transform.scale; */\r\n        }\r\n      }\r\n\r\n      if (elemType === 4 && !content) {\r\n        content = thisLayer('ADBE Root Vectors Group');\r\n      }\r\n      if (!effect) {\r\n        effect = thisLayer(4);\r\n      }\r\n      hasParent = !!(elem.hierarchy && elem.hierarchy.length);\r\n      if (hasParent && !parent) {\r\n        parent = elem.hierarchy[0].layerInterface;\r\n      }\r\n      time = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n      if (needsVelocity) {\r\n        velocity = velocityAtTime(time);\r\n      }\r\n      expression_function();\r\n      this.frameExpressionId = elem.globalData.frameId;\r\n\r\n      // TODO: Check if it's possible to return on ShapeInterface the .v value\r\n      if (scoped_bm_rt.propType === 'shape') {\r\n        scoped_bm_rt = scoped_bm_rt.v;\r\n      }\r\n      // globalData.popExpression();\r\n      return scoped_bm_rt;\r\n    }\r\n    return executeExpression;\r\n  }\r\n\r\n  ob.initiateExpression = initiateExpression;\r\n  return ob;\r\n}());\r\n\r\n/* global ExpressionManager, createTypedArray */\r\n/* exported expressionHelpers */\r\n\r\nvar expressionHelpers = (function () {\r\n  function searchExpressions(elem, data, prop) {\r\n    if (data.x) {\r\n      prop.k = true;\r\n      prop.x = true;\r\n      prop.initiateExpression = ExpressionManager.initiateExpression;\r\n      prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\r\n    }\r\n  }\r\n\r\n  function getValueAtTime(frameNum) {\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastFrame) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\r\n      this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\r\n      this._cachingAtTime.lastFrame = frameNum;\r\n    }\r\n    return this._cachingAtTime.value;\r\n  }\r\n\r\n  function getSpeedAtTime(frameNum) {\r\n    var delta = -0.01;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var speed = 0;\r\n    if (v1.length) {\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        speed += Math.pow(v2[i] - v1[i], 2);\r\n      }\r\n      speed = Math.sqrt(speed) * 100;\r\n    } else {\r\n      speed = 0;\r\n    }\r\n    return speed;\r\n  }\r\n\r\n  function getVelocityAtTime(frameNum) {\r\n    if (this.vel !== undefined) {\r\n      return this.vel;\r\n    }\r\n    var delta = -0.001;\r\n    // frameNum += this.elem.data.st;\r\n    var v1 = this.getValueAtTime(frameNum);\r\n    var v2 = this.getValueAtTime(frameNum + delta);\r\n    var velocity;\r\n    if (v1.length) {\r\n      velocity = createTypedArray('float32', v1.length);\r\n      var i;\r\n      for (i = 0; i < v1.length; i += 1) {\r\n        // removing frameRate\r\n        // if needed, don't add it here\r\n        // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\r\n        velocity[i] = (v2[i] - v1[i]) / delta;\r\n      }\r\n    } else {\r\n      velocity = (v2 - v1) / delta;\r\n    }\r\n    return velocity;\r\n  }\r\n\r\n  function getStaticValueAtTime() {\r\n    return this.pv;\r\n  }\r\n\r\n  function setGroupProperty(propertyGroup) {\r\n    this.propertyGroup = propertyGroup;\r\n  }\r\n\r\n  return {\r\n    searchExpressions: searchExpressions,\r\n    getSpeedAtTime: getSpeedAtTime,\r\n    getVelocityAtTime: getVelocityAtTime,\r\n    getValueAtTime: getValueAtTime,\r\n    getStaticValueAtTime: getStaticValueAtTime,\r\n    setGroupProperty: setGroupProperty,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, Matrix, TransformPropertyFactory, expressionHelpers, PropertyFactory, expressionHelpers,\r\ninitialDefaultFrame, shapePool, ShapePropertyFactory, bez, extendPrototype, ExpressionManager, createSizedArray */\r\n\r\n(function addPropertyDecorator() {\r\n  function loopOut(type, duration, durationFlag) {\r\n    if (!this.k || !this.keyframes) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var lastKeyFrame = keyframes[keyframes.length - 1].t;\r\n    if (currentFrame <= lastKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var firstKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\r\n      } else {\r\n        cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      firstKeyFrame = lastKeyFrame - cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (iterations % 2 !== 0) {\r\n          return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = (endV[i] - initV[i]) * repeats + current[i];\r\n        }\r\n        return ret;\r\n      }\r\n      return (endV - initV) * repeats + current;\r\n    } else if (type === 'continue') {\r\n      var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(lastValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\r\n        }\r\n        return ret;\r\n      }\r\n      return lastValue + (lastValue - nextLastValue) * (((currentFrame - lastKeyFrame)) / 0.001);\r\n    }\r\n      return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function loopIn(type, duration, durationFlag) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    type = type ? type.toLowerCase() : '';\r\n    var currentFrame = this.comp.renderedFrame;\r\n    var keyframes = this.keyframes;\r\n    var firstKeyFrame = keyframes[0].t;\r\n    if (currentFrame >= firstKeyFrame) {\r\n      return this.pv;\r\n    }\r\n    var cycleDuration;\r\n    var lastKeyFrame;\r\n    if (!durationFlag) {\r\n      if (!duration || duration > keyframes.length - 1) {\r\n        duration = keyframes.length - 1;\r\n      }\r\n      lastKeyFrame = keyframes[duration].t;\r\n      cycleDuration = lastKeyFrame - firstKeyFrame;\r\n    } else {\r\n      if (!duration) {\r\n        cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\r\n      } else {\r\n        cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\r\n      }\r\n      lastKeyFrame = firstKeyFrame + cycleDuration;\r\n    }\r\n    var i;\r\n    var len;\r\n    var ret;\r\n    if (type === 'pingpong') {\r\n      var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\r\n      if (iterations % 2 === 0) {\r\n          return this.getValueAtTime((((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n      }\r\n    } else if (type === 'offset') {\r\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var current = this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration) + firstKeyFrame) / this.comp.globalData.frameRate, 0);\r\n      var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\r\n      if (this.pv.length) {\r\n        ret = new Array(initV.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\r\n        }\r\n        return ret;\r\n      }\r\n      return current - (endV - initV) * repeats;\r\n    } else if (type === 'continue') {\r\n      var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\r\n      var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\r\n      if (this.pv.length) {\r\n        ret = new Array(firstValue.length);\r\n        len = ret.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          ret[i] = firstValue[i] + ((firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame)) / 0.001;\r\n        }\r\n        return ret;\r\n      }\r\n      return firstValue + ((firstValue - nextFirstValue) * (firstKeyFrame - currentFrame)) / 0.001;\r\n    }\r\n      return this.getValueAtTime(((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame))) / this.comp.globalData.frameRate, 0); // eslint-disable-line\r\n\r\n  }\r\n\r\n  function smooth(width, samples) {\r\n    if (!this.k) {\r\n      return this.pv;\r\n    }\r\n    width = (width || 0.4) * 0.5;\r\n    samples = Math.floor(samples || 5);\r\n    if (samples <= 1) {\r\n      return this.pv;\r\n    }\r\n    var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\r\n    var initFrame = currentTime - width;\r\n    var endFrame = currentTime + width;\r\n    var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\r\n    var i = 0;\r\n    var j = 0;\r\n    var value;\r\n    if (this.pv.length) {\r\n      value = createTypedArray('float32', this.pv.length);\r\n    } else {\r\n      value = 0;\r\n    }\r\n    var sampleValue;\r\n    while (i < samples) {\r\n      sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\r\n      if (this.pv.length) {\r\n        for (j = 0; j < this.pv.length; j += 1) {\r\n          value[j] += sampleValue[j];\r\n        }\r\n      } else {\r\n        value += sampleValue;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (this.pv.length) {\r\n      for (j = 0; j < this.pv.length; j += 1) {\r\n        value[j] /= samples;\r\n      }\r\n    } else {\r\n      value /= samples;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getTransformValueAtTime(time) {\r\n    if (!this._transformCachingAtTime) {\r\n      this._transformCachingAtTime = {\r\n        v: new Matrix(),\r\n      };\r\n    }\r\n    /// /\r\n    var matrix = this._transformCachingAtTime.v;\r\n    matrix.cloneFromProps(this.pre.props);\r\n    if (this.appliedTransformations < 1) {\r\n      var anchor = this.a.getValueAtTime(time);\r\n      matrix.translate(\r\n        -anchor[0] * this.a.mult,\r\n        -anchor[1] * this.a.mult,\r\n        anchor[2] * this.a.mult\r\n      );\r\n    }\r\n    if (this.appliedTransformations < 2) {\r\n      var scale = this.s.getValueAtTime(time);\r\n      matrix.scale(\r\n        scale[0] * this.s.mult,\r\n        scale[1] * this.s.mult,\r\n        scale[2] * this.s.mult\r\n      );\r\n    }\r\n    if (this.sk && this.appliedTransformations < 3) {\r\n      var skew = this.sk.getValueAtTime(time);\r\n      var skewAxis = this.sa.getValueAtTime(time);\r\n      matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\r\n    }\r\n    if (this.r && this.appliedTransformations < 4) {\r\n      var rotation = this.r.getValueAtTime(time);\r\n      matrix.rotate(-rotation * this.r.mult);\r\n    } else if (!this.r && this.appliedTransformations < 4) {\r\n      var rotationZ = this.rz.getValueAtTime(time);\r\n      var rotationY = this.ry.getValueAtTime(time);\r\n      var rotationX = this.rx.getValueAtTime(time);\r\n      var orientation = this.or.getValueAtTime(time);\r\n      matrix.rotateZ(-rotationZ * this.rz.mult)\r\n        .rotateY(rotationY * this.ry.mult)\r\n        .rotateX(rotationX * this.rx.mult)\r\n        .rotateZ(-orientation[2] * this.or.mult)\r\n        .rotateY(orientation[1] * this.or.mult)\r\n        .rotateX(orientation[0] * this.or.mult);\r\n    }\r\n    if (this.data.p && this.data.p.s) {\r\n      var positionX = this.px.getValueAtTime(time);\r\n      var positionY = this.py.getValueAtTime(time);\r\n      if (this.data.p.z) {\r\n        var positionZ = this.pz.getValueAtTime(time);\r\n        matrix.translate(\r\n          positionX * this.px.mult,\r\n          positionY * this.py.mult,\r\n          -positionZ * this.pz.mult\r\n        );\r\n      } else {\r\n        matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\r\n      }\r\n    } else {\r\n      var position = this.p.getValueAtTime(time);\r\n      matrix.translate(\r\n        position[0] * this.p.mult,\r\n        position[1] * this.p.mult,\r\n        -position[2] * this.p.mult\r\n      );\r\n    }\r\n    return matrix;\r\n    /// /\r\n  }\r\n\r\n  function getTransformStaticValueAtTime() {\r\n    return this.v.clone(new Matrix());\r\n  }\r\n\r\n  var getTransformProperty = TransformPropertyFactory.getTransformProperty;\r\n  TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\r\n    var prop = getTransformProperty(elem, data, container);\r\n    if (prop.dynamicProperties.length) {\r\n      prop.getValueAtTime = getTransformValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    return prop;\r\n  };\r\n\r\n  var propertyGetProp = PropertyFactory.getProp;\r\n  PropertyFactory.getProp = function (elem, data, type, mult, container) {\r\n    var prop = propertyGetProp(elem, data, type, mult, container);\r\n    // prop.getVelocityAtTime = getVelocityAtTime;\r\n    // prop.loopOut = loopOut;\r\n    // prop.loopIn = loopIn;\r\n    if (prop.kf) {\r\n      prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\r\n    } else {\r\n      prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\r\n    }\r\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    prop.loopOut = loopOut;\r\n    prop.loopIn = loopIn;\r\n    prop.smooth = smooth;\r\n    prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\r\n    prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\r\n    prop.numKeys = data.a === 1 ? data.k.length : 0;\r\n    prop.propertyIndex = data.ix;\r\n    var value = 0;\r\n    if (type !== 0) {\r\n      value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\r\n    }\r\n    prop._cachingAtTime = {\r\n      lastFrame: initialDefaultFrame,\r\n      lastIndex: 0,\r\n      value: value,\r\n    };\r\n    expressionHelpers.searchExpressions(elem, data, prop);\r\n    if (prop.k) {\r\n      container.addDynamicProperty(prop);\r\n    }\r\n\r\n    return prop;\r\n  };\r\n\r\n  function getShapeValueAtTime(frameNum) {\r\n    // For now this caching object is created only when needed instead of creating it when the shape is initialized.\r\n    if (!this._cachingAtTime) {\r\n      this._cachingAtTime = {\r\n        shapeValue: shapePool.clone(this.pv),\r\n        lastIndex: 0,\r\n        lastTime: initialDefaultFrame,\r\n      };\r\n    }\r\n\r\n    frameNum *= this.elem.globalData.frameRate;\r\n    frameNum -= this.offsetTime;\r\n    if (frameNum !== this._cachingAtTime.lastTime) {\r\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\r\n      this._cachingAtTime.lastTime = frameNum;\r\n      this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\r\n    }\r\n    return this._cachingAtTime.shapeValue;\r\n  }\r\n\r\n  var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\r\n  var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\r\n\r\n  function ShapeExpressions() {}\r\n  ShapeExpressions.prototype = {\r\n    vertices: function (prop, time) {\r\n      if (this.k) {\r\n        this.getValue();\r\n      }\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      var i;\r\n      var len = shapePath._length;\r\n      var vertices = shapePath[prop];\r\n      var points = shapePath.v;\r\n      var arr = createSizedArray(len);\r\n      for (i = 0; i < len; i += 1) {\r\n        if (prop === 'i' || prop === 'o') {\r\n          arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\r\n        } else {\r\n          arr[i] = [vertices[i][0], vertices[i][1]];\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    points: function (time) {\r\n      return this.vertices('v', time);\r\n    },\r\n    inTangents: function (time) {\r\n      return this.vertices('i', time);\r\n    },\r\n    outTangents: function (time) {\r\n      return this.vertices('o', time);\r\n    },\r\n    isClosed: function () {\r\n      return this.v.c;\r\n    },\r\n    pointOnPath: function (perc, time) {\r\n      var shapePath = this.v;\r\n      if (time !== undefined) {\r\n        shapePath = this.getValueAtTime(time, 0);\r\n      }\r\n      if (!this._segmentsLength) {\r\n        this._segmentsLength = bez.getSegmentsLength(shapePath);\r\n      }\r\n\r\n      var segmentsLength = this._segmentsLength;\r\n      var lengths = segmentsLength.lengths;\r\n      var lengthPos = segmentsLength.totalLength * perc;\r\n      var i = 0;\r\n      var len = lengths.length;\r\n      var accumulatedLength = 0;\r\n      var pt;\r\n      while (i < len) {\r\n        if (accumulatedLength + lengths[i].addedLength > lengthPos) {\r\n          var initIndex = i;\r\n          var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\r\n          var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\r\n          pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\r\n          break;\r\n        } else {\r\n          accumulatedLength += lengths[i].addedLength;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!pt) {\r\n        pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\r\n      }\r\n      return pt;\r\n    },\r\n    vectorOnPath: function (perc, time, vectorType) {\r\n      // perc doesn't use triple equality because it can be a Number object as well as a primitive.\r\n      if (perc == 1) { // eslint-disable-line eqeqeq\r\n        perc = this.v.c;\r\n      } else if (perc == 0) { // eslint-disable-line eqeqeq\r\n        perc = 0.999;\r\n      }\r\n      var pt1 = this.pointOnPath(perc, time);\r\n      var pt2 = this.pointOnPath(perc + 0.001, time);\r\n      var xLength = pt2[0] - pt1[0];\r\n      var yLength = pt2[1] - pt1[1];\r\n      var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\r\n      if (magnitude === 0) {\r\n        return [0, 0];\r\n      }\r\n      var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\r\n      return unitVector;\r\n    },\r\n    tangentOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'tangent');\r\n    },\r\n    normalOnPath: function (perc, time) {\r\n      return this.vectorOnPath(perc, time, 'normal');\r\n    },\r\n    setGroupProperty: expressionHelpers.setGroupProperty,\r\n    getValueAtTime: expressionHelpers.getStaticValueAtTime,\r\n  };\r\n  extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\r\n  extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\r\n  KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\r\n  KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\r\n\r\n  var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\r\n  ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\r\n    var prop = propertyGetShapeProp(elem, data, type, arr, trims);\r\n    prop.propertyIndex = data.ix;\r\n    prop.lock = false;\r\n    if (type === 3) {\r\n      expressionHelpers.searchExpressions(elem, data.pt, prop);\r\n    } else if (type === 4) {\r\n      expressionHelpers.searchExpressions(elem, data.ks, prop);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  };\r\n}());\r\n\r\n/* global ExpressionManager, TextProperty */\r\n\r\n(function addDecorator() {\r\n  function searchExpressions() {\r\n    if (this.data.d.x) {\r\n      this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\r\n      this.addEffect(this.getExpressionValue.bind(this));\r\n      return true;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  TextProperty.prototype.getExpressionValue = function (currentValue, text) {\r\n    var newValue = this.calculateExpression(text);\r\n    if (currentValue.t !== newValue) {\r\n      var newData = {};\r\n      this.copyData(newData, currentValue);\r\n      newData.t = newValue.toString();\r\n      newData.__complete = false;\r\n      return newData;\r\n    }\r\n    return currentValue;\r\n  };\r\n\r\n  TextProperty.prototype.searchProperty = function () {\r\n    var isKeyframed = this.searchKeyframes();\r\n    var hasExpressions = this.searchExpressions();\r\n    this.kf = isKeyframed || hasExpressions;\r\n    return this.kf;\r\n  };\r\n\r\n  TextProperty.prototype.searchExpressions = searchExpressions;\r\n}());\r\n\r\n/* global propertyGroupFactory, PropertyInterface */\r\n/* exported ShapePathInterface */\r\n\r\nvar ShapePathInterface = (\r\n\r\n  function () {\r\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\r\n      var prop = view.sh;\r\n\r\n      function interfaceFunction(val) {\r\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\r\n          return interfaceFunction.path;\r\n        }\r\n        return null;\r\n      }\r\n\r\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\r\n      Object.defineProperties(interfaceFunction, {\r\n        path: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        shape: {\r\n          get: function () {\r\n            if (prop.k) {\r\n              prop.getValue();\r\n            }\r\n            return prop;\r\n          },\r\n        },\r\n        _name: { value: shape.nm },\r\n        ix: { value: shape.ix },\r\n        propertyIndex: { value: shape.ix },\r\n        mn: { value: shape.mn },\r\n        propertyGroup: { value: propertyGroup },\r\n      });\r\n      return interfaceFunction;\r\n    };\r\n  }()\r\n);\r\n\r\n/* exported propertyGroupFactory */\r\n\r\nvar propertyGroupFactory = (function () {\r\n  return function (interfaceFunction, parentPropertyGroup) {\r\n    return function (val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return parentPropertyGroup(val - 1);\r\n    };\r\n  };\r\n}());\r\n\r\n/* exported PropertyInterface */\r\n\r\nvar PropertyInterface = (function () {\r\n  return function (propertyName, propertyGroup) {\r\n    var interfaceFunction = {\r\n      _name: propertyName,\r\n    };\r\n\r\n    function _propertyGroup(val) {\r\n      val = val === undefined ? 1 : val;\r\n      if (val <= 0) {\r\n        return interfaceFunction;\r\n      }\r\n      return propertyGroup(val - 1);\r\n    }\r\n\r\n    return _propertyGroup;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface, PropertyInterface, propertyGroupFactory, ShapePathInterface */\r\n/* exported ShapeExpressionInterface */\r\n\r\nvar ShapeExpressionInterface = (function () {\r\n  function iterateElements(shapes, view, propertyGroup) {\r\n    var arr = [];\r\n    var i;\r\n    var len = shapes ? shapes.length : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shapes[i].ty === 'gr') {\r\n        arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'fl') {\r\n        arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'st') {\r\n        arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tm') {\r\n        arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'tr') {\r\n        // arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\r\n      } else if (shapes[i].ty === 'el') {\r\n        arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sr') {\r\n        arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'sh') {\r\n        arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rc') {\r\n        arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rd') {\r\n        arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      } else if (shapes[i].ty === 'rp') {\r\n        arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function contentsInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaces;\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      if (typeof value === 'number') {\r\n        return interfaces[value - 1];\r\n      }\r\n      return null;\r\n    };\r\n\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\r\n    interfaceFunction.numProperties = interfaces.length;\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.transform = transformInterface;\r\n    interfaceFunction.propertyIndex = shape.cix;\r\n    interfaceFunction._name = shape.nm;\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function groupInterfaceFactory(shape, view, propertyGroup) {\r\n    var interfaceFunction = function _interfaceFunction(value) {\r\n      switch (value) {\r\n        case 'ADBE Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return interfaceFunction.content;\r\n          // Not necessary for now. Keeping them here in case a new case appears\r\n          // case 'ADBE Vector Transform Group':\r\n          // case 3:\r\n        default:\r\n          return interfaceFunction.transform;\r\n      }\r\n    };\r\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\r\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\r\n    interfaceFunction.content = content;\r\n    interfaceFunction.transform = transformInterface;\r\n    Object.defineProperty(interfaceFunction, '_name', {\r\n      get: function () {\r\n        return shape.nm;\r\n      },\r\n    });\r\n    // interfaceFunction.content = interfaceFunction;\r\n    interfaceFunction.numProperties = shape.np;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.nm = shape.nm;\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function fillInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function strokeInterfaceFactory(shape, view, propertyGroup) {\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\r\n    function addPropertyToDashOb(i) {\r\n      Object.defineProperty(dashOb, shape.d[i].nm, {\r\n        get: ExpressionPropertyInterface(view.d.dataProps[i].p),\r\n      });\r\n    }\r\n    var i;\r\n    var len = shape.d ? shape.d.length : 0;\r\n    var dashOb = {};\r\n    for (i = 0; i < len; i += 1) {\r\n      addPropertyToDashOb(i);\r\n      view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\r\n    }\r\n\r\n    function interfaceFunction(val) {\r\n      if (val === 'Color' || val === 'color') {\r\n        return interfaceFunction.color;\r\n      } if (val === 'Opacity' || val === 'opacity') {\r\n        return interfaceFunction.opacity;\r\n      } if (val === 'Stroke Width' || val === 'stroke width') {\r\n        return interfaceFunction.strokeWidth;\r\n      }\r\n      return null;\r\n    }\r\n    Object.defineProperties(interfaceFunction, {\r\n      color: {\r\n        get: ExpressionPropertyInterface(view.c),\r\n      },\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      strokeWidth: {\r\n        get: ExpressionPropertyInterface(view.w),\r\n      },\r\n      dash: {\r\n        get: function () {\r\n          return dashOb;\r\n        },\r\n      },\r\n      _name: { value: shape.nm },\r\n      mn: { value: shape.mn },\r\n    });\r\n\r\n    view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function trimInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(val) {\r\n      if (val === shape.e.ix || val === 'End' || val === 'end') {\r\n        return interfaceFunction.end;\r\n      }\r\n      if (val === shape.s.ix) {\r\n        return interfaceFunction.start;\r\n      }\r\n      if (val === shape.o.ix) {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n\r\n    view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\r\n    view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\r\n    view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      start: {\r\n        get: ExpressionPropertyInterface(view.s),\r\n      },\r\n      end: {\r\n        get: ExpressionPropertyInterface(view.e),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(view.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function transformInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.a.ix === value || value === 'Anchor Point') {\r\n        return interfaceFunction.anchorPoint;\r\n      }\r\n      if (shape.o.ix === value || value === 'Opacity') {\r\n        return interfaceFunction.opacity;\r\n      }\r\n      if (shape.p.ix === value || value === 'Position') {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.s.ix === value || value === 'Scale') {\r\n        return interfaceFunction.scale;\r\n      }\r\n      if ((shape.sk && shape.sk.ix === value) || value === 'Skew') {\r\n        return interfaceFunction.skew;\r\n      }\r\n      if ((shape.sa && shape.sa.ix === value) || value === 'Skew Axis') {\r\n        return interfaceFunction.skewAxis;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\r\n    view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\r\n    view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (view.transform.mProps.sk) {\r\n      view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\r\n      view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\r\n    }\r\n    view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      opacity: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.o),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.p),\r\n      },\r\n      anchorPoint: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.a),\r\n      },\r\n      scale: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.s),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.r),\r\n      },\r\n      skew: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sk),\r\n      },\r\n      skewAxis: {\r\n        get: ExpressionPropertyInterface(view.transform.mProps.sa),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.ty = 'tr';\r\n    interfaceFunction.mn = shape.mn;\r\n    interfaceFunction.propertyGroup = propertyGroup;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function ellipseInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.s.ix === value) {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function starInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.rotation;\r\n      }\r\n      if (shape.pt.ix === value) {\r\n        return interfaceFunction.points;\r\n      }\r\n      if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\r\n        return interfaceFunction.outerRadius;\r\n      }\r\n      if (shape.os.ix === value) {\r\n        return interfaceFunction.outerRoundness;\r\n      }\r\n      if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\r\n        return interfaceFunction.innerRadius;\r\n      }\r\n      if (shape.is && shape.is.ix === value) {\r\n        return interfaceFunction.innerRoundness;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\r\n    prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\r\n    prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n    if (shape.ir) {\r\n      prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\r\n      prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\r\n    }\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      rotation: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      points: {\r\n        get: ExpressionPropertyInterface(prop.pt),\r\n      },\r\n      outerRadius: {\r\n        get: ExpressionPropertyInterface(prop.or),\r\n      },\r\n      outerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.os),\r\n      },\r\n      innerRadius: {\r\n        get: ExpressionPropertyInterface(prop.ir),\r\n      },\r\n      innerRoundness: {\r\n        get: ExpressionPropertyInterface(prop.is),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function rectInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.p.ix === value) {\r\n        return interfaceFunction.position;\r\n      }\r\n      if (shape.r.ix === value) {\r\n        return interfaceFunction.roundness;\r\n      }\r\n      if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\r\n        return interfaceFunction.size;\r\n      }\r\n      return null;\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n\r\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\r\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\r\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      position: {\r\n        get: ExpressionPropertyInterface(prop.p),\r\n      },\r\n      roundness: {\r\n        get: ExpressionPropertyInterface(prop.r),\r\n      },\r\n      size: {\r\n        get: ExpressionPropertyInterface(prop.s),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function roundedInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.r.ix === value || value === 'Round Corners 1') {\r\n        return interfaceFunction.radius;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\r\n\r\n    Object.defineProperties(interfaceFunction, {\r\n      radius: {\r\n        get: ExpressionPropertyInterface(prop.rd),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  function repeaterInterfaceFactory(shape, view, propertyGroup) {\r\n    function interfaceFunction(value) {\r\n      if (shape.c.ix === value || value === 'Copies') {\r\n        return interfaceFunction.copies;\r\n      } if (shape.o.ix === value || value === 'Offset') {\r\n        return interfaceFunction.offset;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\r\n    var prop = view;\r\n    interfaceFunction.propertyIndex = shape.ix;\r\n    prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\r\n    prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\r\n    Object.defineProperties(interfaceFunction, {\r\n      copies: {\r\n        get: ExpressionPropertyInterface(prop.c),\r\n      },\r\n      offset: {\r\n        get: ExpressionPropertyInterface(prop.o),\r\n      },\r\n      _name: { value: shape.nm },\r\n    });\r\n    interfaceFunction.mn = shape.mn;\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return function (shapes, view, propertyGroup) {\r\n    var interfaces;\r\n    function _interfaceFunction(value) {\r\n      if (typeof value === 'number') {\r\n        value = value === undefined ? 1 : value;\r\n        if (value === 0) {\r\n          return propertyGroup;\r\n        }\r\n        return interfaces[value - 1];\r\n      }\r\n      var i = 0;\r\n      var len = interfaces.length;\r\n      while (i < len) {\r\n        if (interfaces[i]._name === value) {\r\n          return interfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n    function parentGroupWrapper() {\r\n      return propertyGroup;\r\n    }\r\n    _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\r\n    interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\r\n    _interfaceFunction.numProperties = interfaces.length;\r\n    _interfaceFunction._name = 'Contents';\r\n    return _interfaceFunction;\r\n  };\r\n}());\r\n\r\n/* exported TextExpressionInterface */\r\n\r\nvar TextExpressionInterface = (function () {\r\n  return function (elem) {\r\n    var _prevValue;\r\n    var _sourceText;\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Text Document':\r\n          return _thisLayerFunction.sourceText;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, 'sourceText', {\r\n      get: function () {\r\n        elem.textProperty.getValue();\r\n        var stringValue = elem.textProperty.currentData.t;\r\n        if (stringValue !== _prevValue) {\r\n          elem.textProperty.currentData.t = _prevValue;\r\n          _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\r\n          // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\r\n          _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\r\n        }\r\n        return _sourceText;\r\n      },\r\n    });\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global Matrix, MaskManagerInterface, TransformExpressionInterface, getDescriptor */\r\n/* exported LayerExpressionInterface */\r\n\r\nvar LayerExpressionInterface = (function () {\r\n  function getMatrix(time) {\r\n    var toWorldMat = new Matrix();\r\n    if (time !== undefined) {\r\n      var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\r\n      propMatrix.clone(toWorldMat);\r\n    } else {\r\n      var transformMat = this._elem.finalTransform.mProp;\r\n      transformMat.applyToMatrix(toWorldMat);\r\n    }\r\n    return toWorldMat;\r\n  }\r\n\r\n  function toWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function toWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.applyPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorldVec(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    toWorldMat.props[12] = 0;\r\n    toWorldMat.props[13] = 0;\r\n    toWorldMat.props[14] = 0;\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function fromWorld(arr, time) {\r\n    var toWorldMat = this.getMatrix(time);\r\n    return this.invertPoint(toWorldMat, arr);\r\n  }\r\n\r\n  function applyPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\r\n  }\r\n\r\n  function invertPoint(matrix, arr) {\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\r\n      }\r\n    }\r\n    return matrix.inversePoint(arr);\r\n  }\r\n\r\n  function fromComp(arr) {\r\n    var toWorldMat = new Matrix();\r\n    toWorldMat.reset();\r\n    this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\r\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\r\n      var i;\r\n      var len = this._elem.hierarchy.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n      }\r\n      return toWorldMat.inversePoint(arr);\r\n    }\r\n    return toWorldMat.inversePoint(arr);\r\n  }\r\n\r\n  function sampleImage() {\r\n    return [1, 1, 1, 1];\r\n  }\r\n\r\n  return function (elem) {\r\n    var transformInterface;\r\n\r\n    function _registerMaskInterface(maskManager) {\r\n      _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\r\n    }\r\n    function _registerEffectsInterface(effects) {\r\n      _thisLayerFunction.effect = effects;\r\n    }\r\n\r\n    function _thisLayerFunction(name) {\r\n      switch (name) {\r\n        case 'ADBE Root Vectors Group':\r\n        case 'Contents':\r\n        case 2:\r\n          return _thisLayerFunction.shapeInterface;\r\n        case 1:\r\n        case 6:\r\n        case 'Transform':\r\n        case 'transform':\r\n        case 'ADBE Transform Group':\r\n          return transformInterface;\r\n        case 4:\r\n        case 'ADBE Effect Parade':\r\n        case 'effects':\r\n        case 'Effects':\r\n          return _thisLayerFunction.effect;\r\n        case 'ADBE Text Properties':\r\n          return _thisLayerFunction.textInterface;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    _thisLayerFunction.getMatrix = getMatrix;\r\n    _thisLayerFunction.invertPoint = invertPoint;\r\n    _thisLayerFunction.applyPoint = applyPoint;\r\n    _thisLayerFunction.toWorld = toWorld;\r\n    _thisLayerFunction.toWorldVec = toWorldVec;\r\n    _thisLayerFunction.fromWorld = fromWorld;\r\n    _thisLayerFunction.fromWorldVec = fromWorldVec;\r\n    _thisLayerFunction.toComp = toWorld;\r\n    _thisLayerFunction.fromComp = fromComp;\r\n    _thisLayerFunction.sampleImage = sampleImage;\r\n    _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\r\n    _thisLayerFunction._elem = elem;\r\n    transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\r\n    var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\r\n    Object.defineProperties(_thisLayerFunction, {\r\n      hasParent: {\r\n        get: function () {\r\n          return elem.hierarchy.length;\r\n        },\r\n      },\r\n      parent: {\r\n        get: function () {\r\n          return elem.hierarchy[0].layerInterface;\r\n        },\r\n      },\r\n      rotation: getDescriptor(transformInterface, 'rotation'),\r\n      scale: getDescriptor(transformInterface, 'scale'),\r\n      position: getDescriptor(transformInterface, 'position'),\r\n      opacity: getDescriptor(transformInterface, 'opacity'),\r\n      anchorPoint: anchorPointDescriptor,\r\n      anchor_point: anchorPointDescriptor,\r\n      transform: {\r\n        get: function () {\r\n          return transformInterface;\r\n        },\r\n      },\r\n      active: {\r\n        get: function () {\r\n          return elem.isInRange;\r\n        },\r\n      },\r\n    });\r\n\r\n    _thisLayerFunction.startTime = elem.data.st;\r\n    _thisLayerFunction.index = elem.data.ind;\r\n    _thisLayerFunction.source = elem.data.refId;\r\n    _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\r\n    _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\r\n    _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\r\n    _thisLayerFunction._name = elem.data.nm;\r\n\r\n    _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\r\n    _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* exported CompExpressionInterface */\r\n\r\nvar CompExpressionInterface = (function () {\r\n  return function (comp) {\r\n    function _thisLayerFunction(name) {\r\n      var i = 0;\r\n      var len = comp.layers.length;\r\n      while (i < len) {\r\n        if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\r\n          return comp.elements[i].layerInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n      // return {active:false};\r\n    }\r\n    Object.defineProperty(_thisLayerFunction, '_name', { value: comp.data.nm });\r\n    _thisLayerFunction.layer = _thisLayerFunction;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\r\n    _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\r\n    _thisLayerFunction.pixelAspect = 1;\r\n    _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\r\n    _thisLayerFunction.displayStartTime = 0;\r\n    _thisLayerFunction.numLayers = comp.layers.length;\r\n    return _thisLayerFunction;\r\n  };\r\n}());\r\n\r\n/* global ExpressionPropertyInterface */\r\n/* exported TransformExpressionInterface */\r\n\r\nvar TransformExpressionInterface = (function () {\r\n  return function (transform) {\r\n    function _thisFunction(name) {\r\n      switch (name) {\r\n        case 'scale':\r\n        case 'Scale':\r\n        case 'ADBE Scale':\r\n        case 6:\r\n          return _thisFunction.scale;\r\n        case 'rotation':\r\n        case 'Rotation':\r\n        case 'ADBE Rotation':\r\n        case 'ADBE Rotate Z':\r\n        case 10:\r\n          return _thisFunction.rotation;\r\n        case 'ADBE Rotate X':\r\n          return _thisFunction.xRotation;\r\n        case 'ADBE Rotate Y':\r\n          return _thisFunction.yRotation;\r\n        case 'position':\r\n        case 'Position':\r\n        case 'ADBE Position':\r\n        case 2:\r\n          return _thisFunction.position;\r\n        case 'ADBE Position_0':\r\n          return _thisFunction.xPosition;\r\n        case 'ADBE Position_1':\r\n          return _thisFunction.yPosition;\r\n        case 'ADBE Position_2':\r\n          return _thisFunction.zPosition;\r\n        case 'anchorPoint':\r\n        case 'AnchorPoint':\r\n        case 'Anchor Point':\r\n        case 'ADBE AnchorPoint':\r\n        case 1:\r\n          return _thisFunction.anchorPoint;\r\n        case 'opacity':\r\n        case 'Opacity':\r\n        case 11:\r\n          return _thisFunction.opacity;\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'rotation', {\r\n      get: ExpressionPropertyInterface(transform.r || transform.rz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zRotation', {\r\n      get: ExpressionPropertyInterface(transform.rz || transform.r),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xRotation', {\r\n      get: ExpressionPropertyInterface(transform.rx),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yRotation', {\r\n      get: ExpressionPropertyInterface(transform.ry),\r\n    });\r\n    Object.defineProperty(_thisFunction, 'scale', {\r\n      get: ExpressionPropertyInterface(transform.s),\r\n    });\r\n    var _px;\r\n    var _py;\r\n    var _pz;\r\n    var _transformFactory;\r\n    if (transform.p) {\r\n      _transformFactory = ExpressionPropertyInterface(transform.p);\r\n    } else {\r\n      _px = ExpressionPropertyInterface(transform.px);\r\n      _py = ExpressionPropertyInterface(transform.py);\r\n      if (transform.pz) {\r\n        _pz = ExpressionPropertyInterface(transform.pz);\r\n      }\r\n    }\r\n    Object.defineProperty(_thisFunction, 'position', {\r\n      get: function () {\r\n        if (transform.p) {\r\n          return _transformFactory();\r\n        }\r\n        return [\r\n          _px(),\r\n          _py(),\r\n          _pz ? _pz() : 0];\r\n      },\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'xPosition', {\r\n      get: ExpressionPropertyInterface(transform.px),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'yPosition', {\r\n      get: ExpressionPropertyInterface(transform.py),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'zPosition', {\r\n      get: ExpressionPropertyInterface(transform.pz),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'anchorPoint', {\r\n      get: ExpressionPropertyInterface(transform.a),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'opacity', {\r\n      get: ExpressionPropertyInterface(transform.o),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skew', {\r\n      get: ExpressionPropertyInterface(transform.sk),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'skewAxis', {\r\n      get: ExpressionPropertyInterface(transform.sa),\r\n    });\r\n\r\n    Object.defineProperty(_thisFunction, 'orientation', {\r\n      get: ExpressionPropertyInterface(transform.or),\r\n    });\r\n\r\n    return _thisFunction;\r\n  };\r\n}());\r\n\r\n/* exported ProjectInterface */\r\n\r\nvar ProjectInterface = (function () {\r\n  function registerComposition(comp) {\r\n    this.compositions.push(comp);\r\n  }\r\n\r\n  return function () {\r\n    function _thisProjectFunction(name) {\r\n      var i = 0;\r\n      var len = this.compositions.length;\r\n      while (i < len) {\r\n        if (this.compositions[i].data && this.compositions[i].data.nm === name) {\r\n          if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\r\n            this.compositions[i].prepareFrame(this.currentFrame);\r\n          }\r\n          return this.compositions[i].compInterface;\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    _thisProjectFunction.compositions = [];\r\n    _thisProjectFunction.currentFrame = 0;\r\n\r\n    _thisProjectFunction.registerComposition = registerComposition;\r\n\r\n    return _thisProjectFunction;\r\n  };\r\n}());\r\n\r\n/* global propertyGroupFactory, ExpressionPropertyInterface, PropertyInterface */\r\n/* exported EffectsExpressionInterface */\r\n\r\nvar EffectsExpressionInterface = (function () {\r\n  var ob = {\r\n    createEffectsInterface: createEffectsInterface,\r\n  };\r\n\r\n  function createEffectsInterface(elem, propertyGroup) {\r\n    if (elem.effectsManager) {\r\n      var effectElements = [];\r\n      var effectsData = elem.data.ef;\r\n      var i;\r\n      var len = elem.effectsManager.effectElements.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\r\n      }\r\n\r\n      var effects = elem.data.ef || [];\r\n      var groupInterface = function (name) {\r\n        i = 0;\r\n        len = effects.length;\r\n        while (i < len) {\r\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n            return effectElements[i];\r\n          }\r\n          i += 1;\r\n        }\r\n        return null;\r\n      };\r\n      Object.defineProperty(groupInterface, 'numProperties', {\r\n        get: function () {\r\n          return effects.length;\r\n        },\r\n      });\r\n      return groupInterface;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function createGroupInterface(data, elements, propertyGroup, elem) {\r\n    function groupInterface(name) {\r\n      var effects = data.ef;\r\n      var i = 0;\r\n      var len = effects.length;\r\n      while (i < len) {\r\n        if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\r\n          if (effects[i].ty === 5) {\r\n            return effectElements[i];\r\n          }\r\n          return effectElements[i]();\r\n        }\r\n        i += 1;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\r\n\r\n    var effectElements = [];\r\n    var i;\r\n    var len = data.ef.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (data.ef[i].ty === 5) {\r\n        effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\r\n      } else {\r\n        effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\r\n      }\r\n    }\r\n\r\n    if (data.mn === 'ADBE Color Control') {\r\n      Object.defineProperty(groupInterface, 'color', {\r\n        get: function () {\r\n          return effectElements[0]();\r\n        },\r\n      });\r\n    }\r\n    Object.defineProperties(groupInterface, {\r\n      numProperties: {\r\n        get: function () {\r\n          return data.np;\r\n        },\r\n      },\r\n      _name: { value: data.nm },\r\n      propertyGroup: { value: _propertyGroup },\r\n    });\r\n    groupInterface.enabled = data.en !== 0;\r\n    groupInterface.active = groupInterface.enabled;\r\n    return groupInterface;\r\n  }\r\n\r\n  function createValueInterface(element, type, elem, propertyGroup) {\r\n    var expressionProperty = ExpressionPropertyInterface(element.p);\r\n    function interfaceFunction() {\r\n      if (type === 10) {\r\n        return elem.comp.compInterface(element.p.v);\r\n      }\r\n      return expressionProperty();\r\n    }\r\n\r\n    if (element.p.setGroupProperty) {\r\n      element.p.setGroupProperty(PropertyInterface('', propertyGroup));\r\n    }\r\n\r\n    return interfaceFunction;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported MaskManagerInterface */\r\n\r\nvar MaskManagerInterface = (function () {\r\n  function MaskInterface(mask, data) {\r\n    this._mask = mask;\r\n    this._data = data;\r\n  }\r\n  Object.defineProperty(MaskInterface.prototype, 'maskPath', {\r\n    get: function () {\r\n      if (this._mask.prop.k) {\r\n        this._mask.prop.getValue();\r\n      }\r\n      return this._mask.prop;\r\n    },\r\n  });\r\n  Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\r\n    get: function () {\r\n      if (this._mask.op.k) {\r\n        this._mask.op.getValue();\r\n      }\r\n      return this._mask.op.v * 100;\r\n    },\r\n  });\r\n\r\n  var MaskManager = function (maskManager) {\r\n    var _masksInterfaces = createSizedArray(maskManager.viewData.length);\r\n    var i;\r\n    var len = maskManager.viewData.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\r\n    }\r\n\r\n    var maskFunction = function (name) {\r\n      i = 0;\r\n      while (i < len) {\r\n        if (maskManager.masksProperties[i].nm === name) {\r\n          return _masksInterfaces[i];\r\n        }\r\n        i += 1;\r\n      }\r\n      return null;\r\n    };\r\n    return maskFunction;\r\n  };\r\n  return MaskManager;\r\n}());\r\n\r\n/* global createTypedArray */\r\n/* exported ExpressionPropertyInterface */\r\n\r\nvar ExpressionPropertyInterface = (function () {\r\n  var defaultUnidimensionalValue = { pv: 0, v: 0, mult: 1 };\r\n  var defaultMultidimensionalValue = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 };\r\n\r\n  function completeProperty(expressionValue, property, type) {\r\n    Object.defineProperty(expressionValue, 'velocity', {\r\n      get: function () {\r\n        return property.getVelocityAtTime(property.comp.currentFrame);\r\n      },\r\n    });\r\n    expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\r\n    expressionValue.key = function (pos) {\r\n      if (!expressionValue.numKeys) {\r\n        return 0;\r\n      }\r\n      var value = '';\r\n      if ('s' in property.keyframes[pos - 1]) {\r\n        value = property.keyframes[pos - 1].s;\r\n      } else if ('e' in property.keyframes[pos - 2]) {\r\n        value = property.keyframes[pos - 2].e;\r\n      } else {\r\n        value = property.keyframes[pos - 2].s;\r\n      }\r\n      var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\r\n      valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\r\n      valueProp.value = type === 'unidimensional' ? value[0] : value;\r\n      return valueProp;\r\n    };\r\n    expressionValue.valueAtTime = property.getValueAtTime;\r\n    expressionValue.speedAtTime = property.getSpeedAtTime;\r\n    expressionValue.velocityAtTime = property.getVelocityAtTime;\r\n    expressionValue.propertyGroup = property.propertyGroup;\r\n  }\r\n\r\n  function UnidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultUnidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var val = property.pv * mult;\r\n    var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n    expressionValue.value = val;\r\n    completeProperty(expressionValue, property, 'unidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      val = property.v * mult;\r\n      if (expressionValue.value !== val) {\r\n        expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\r\n        expressionValue.value = val;\r\n        completeProperty(expressionValue, property, 'unidimensional');\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  function MultidimensionalPropertyInterface(property) {\r\n    if (!property || !('pv' in property)) {\r\n      property = defaultMultidimensionalValue;\r\n    }\r\n    var mult = 1 / property.mult;\r\n    var len = (property.data && property.data.l) || property.pv.length;\r\n    var expressionValue = createTypedArray('float32', len);\r\n    var arrValue = createTypedArray('float32', len);\r\n    expressionValue.value = arrValue;\r\n    completeProperty(expressionValue, property, 'multidimensional');\r\n\r\n    return function () {\r\n      if (property.k) {\r\n        property.getValue();\r\n      }\r\n      for (var i = 0; i < len; i += 1) {\r\n        arrValue[i] = property.v[i] * mult;\r\n        expressionValue[i] = arrValue[i];\r\n      }\r\n      return expressionValue;\r\n    };\r\n  }\r\n\r\n  // TODO: try to avoid using this getter\r\n  function defaultGetter() {\r\n    return defaultUnidimensionalValue;\r\n  }\r\n\r\n  return function (property) {\r\n    if (!property) {\r\n      return defaultGetter;\r\n    } if (property.propType === 'unidimensional') {\r\n      return UnidimensionalPropertyInterface(property);\r\n    }\r\n    return MultidimensionalPropertyInterface(property);\r\n  };\r\n}());\r\n\r\n/* global expressionHelpers, TextSelectorProp, ExpressionManager */\r\n/* exported TextExpressionSelectorProp */\r\n\r\n(function () {\r\n  var TextExpressionSelectorProp = (function () { // eslint-disable-line no-unused-vars\r\n    function getValueProxy(index, total) {\r\n      this.textIndex = index + 1;\r\n      this.textTotal = total;\r\n      this.v = this.getValue() * this.mult;\r\n      return this.v;\r\n    }\r\n\r\n    return function TextExpressionSelectorPropFactory(elem, data) {\r\n      this.pv = 1;\r\n      this.comp = elem.comp;\r\n      this.elem = elem;\r\n      this.mult = 0.01;\r\n      this.propType = 'textSelector';\r\n      this.textTotal = data.totalChars;\r\n      this.selectorValue = 100;\r\n      this.lastValue = [1, 1, 1];\r\n      this.k = true;\r\n      this.x = true;\r\n      this.getValue = ExpressionManager.initiateExpression.bind(this)(elem, data, this);\r\n      this.getMult = getValueProxy;\r\n      this.getVelocityAtTime = expressionHelpers.getVelocityAtTime;\r\n      if (this.kf) {\r\n        this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this);\r\n      } else {\r\n        this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this);\r\n      }\r\n      this.setGroupProperty = expressionHelpers.setGroupProperty;\r\n    };\r\n  }());\r\n\r\n  var propertyGetTextProp = TextSelectorProp.getTextSelectorProp;\r\n  TextSelectorProp.getTextSelectorProp = function (elem, data, arr) {\r\n    if (data.t === 1) {\r\n      return new TextExpressionSelectorPropFactory(elem, data, arr); // eslint-disable-line no-undef\r\n    }\r\n    return propertyGetTextProp(elem, data, arr);\r\n  };\r\n}());\r\n\r\n/* global PropertyFactory */\r\n/* exported SliderEffect, AngleEffect, ColorEffect, PointEffect, LayerIndexEffect, MaskIndexEffect, CheckboxEffect, NoValueEffect */\r\n\r\nfunction SliderEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction AngleEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction ColorEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction PointEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\r\n}\r\nfunction LayerIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction MaskIndexEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction CheckboxEffect(data, elem, container) {\r\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\r\n}\r\nfunction NoValueEffect() {\r\n  this.p = {};\r\n}\r\n\r\n/* global extendPrototype, SliderEffect, AngleEffect, ColorEffect, PointEffect, CheckboxEffect, LayerIndexEffect,\r\nMaskIndexEffect, NoValueEffect, DynamicPropertyContainer */\r\n\r\nfunction EffectsManager(data, element) {\r\n  var effects = data.ef || [];\r\n  this.effectElements = [];\r\n  var i;\r\n  var len = effects.length;\r\n  var effectItem;\r\n  for (i = 0; i < len; i += 1) {\r\n    effectItem = new GroupEffect(effects[i], element);\r\n    this.effectElements.push(effectItem);\r\n  }\r\n}\r\n\r\nfunction GroupEffect(data, element) {\r\n  this.init(data, element);\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], GroupEffect);\r\n\r\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\r\n\r\nGroupEffect.prototype.init = function (data, element) {\r\n  this.data = data;\r\n  this.effectElements = [];\r\n  this.initDynamicPropertyContainer(element);\r\n  var i;\r\n  var len = this.data.ef.length;\r\n  var eff;\r\n  var effects = this.data.ef;\r\n  for (i = 0; i < len; i += 1) {\r\n    eff = null;\r\n    switch (effects[i].ty) {\r\n      case 0:\r\n        eff = new SliderEffect(effects[i], element, this);\r\n        break;\r\n      case 1:\r\n        eff = new AngleEffect(effects[i], element, this);\r\n        break;\r\n      case 2:\r\n        eff = new ColorEffect(effects[i], element, this);\r\n        break;\r\n      case 3:\r\n        eff = new PointEffect(effects[i], element, this);\r\n        break;\r\n      case 4:\r\n      case 7:\r\n        eff = new CheckboxEffect(effects[i], element, this);\r\n        break;\r\n      case 10:\r\n        eff = new LayerIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 11:\r\n        eff = new MaskIndexEffect(effects[i], element, this);\r\n        break;\r\n      case 5:\r\n        eff = new EffectsManager(effects[i], element, this);\r\n        break;\r\n        // case 6:\r\n      default:\r\n        eff = new NoValueEffect(effects[i], element, this);\r\n        break;\r\n    }\r\n    if (eff) {\r\n      this.effectElements.push(eff);\r\n    }\r\n  }\r\n};\r\n\r\n\r\nvar lottie = {};\r\n\r\nfunction setLocationHref(href) {\r\n  locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n  if (standalone === true) {\r\n    animationManager.searchAnimations(animationData, standalone, renderer);\r\n  } else {\r\n    animationManager.searchAnimations();\r\n  }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n  subframeEnabled = flag;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n  if (standalone === true) {\r\n    params.animationData = JSON.parse(animationData);\r\n  }\r\n  return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n  if (typeof value === 'string') {\r\n    switch (value) {\r\n      case 'high':\r\n        defaultCurveSegments = 200;\r\n        break;\r\n      default:\r\n      case 'medium':\r\n        defaultCurveSegments = 50;\r\n        break;\r\n      case 'low':\r\n        defaultCurveSegments = 10;\r\n        break;\r\n    }\r\n  } else if (!isNaN(value) && value > 1) {\r\n    defaultCurveSegments = value;\r\n  }\r\n  if (defaultCurveSegments >= 50) {\r\n    roundValues(false);\r\n  } else {\r\n    roundValues(true);\r\n  }\r\n}\r\n\r\nfunction inBrowser() {\r\n  return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n  if (type === 'expressions') {\r\n    expressionsPlugin = plugin;\r\n  }\r\n}\r\n\r\nfunction getFactory(name) {\r\n  switch (name) {\r\n    case 'propertyFactory':\r\n      return PropertyFactory;\r\n    case 'shapePropertyFactory':\r\n      return ShapePropertyFactory;\r\n    case 'matrix':\r\n      return Matrix;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n// lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.7.6';\r\n\r\nfunction checkReady() {\r\n  if (document.readyState === 'complete') {\r\n    clearInterval(readyStateCheckInterval);\r\n    searchAnimations();\r\n  }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n  var vars = queryString.split('&');\r\n  for (var i = 0; i < vars.length; i += 1) {\r\n    var pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nvar queryString;\r\nif (standalone) {\r\n  var scripts = document.getElementsByTagName('script');\r\n  var index = scripts.length - 1;\r\n  var myScript = scripts[index] || {\r\n    src: '',\r\n  };\r\n  queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\r\n  renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\ndeclare global {\n    interface Window { paypal: any }\n}\n\nexport interface PayPalButtonProps {\n    amount?: number|string,\n    currency?: number|string,\n    shippingPreference?: \"NO_SHIPPING\" | \"GET_FROM_FILE\" | \"SET_PROVIDED_ADDRESS\",\n    onSuccess?: Function,\n    catchError?: Function,\n    onError?: Function,\n    createOrder?: Function,\n    createSubscription?: Function,\n    onApprove?: Function,\n    style?: object,\n    options?: PaypalOptions,\n    onButtonReady?: Function,\n}\n\nexport interface PayPalButtonState {\n    isSdkReady: boolean\n}\n\nexport interface PaypalOptions {\n    clientId?: string,\n    merchantId?: string,\n    currency?: number|string,\n    intent?: string,\n    commit?: boolean|string,\n    vault?: boolean|string,\n    component?: string,\n    disableFunding?: string,\n    disableCard?: string,\n    integrationDate?: string,\n    locale?: string,\n    buyerCountry?: string,\n    debug?: boolean|string\n}\n\nclass PayPalButton extends React.Component<PayPalButtonProps, PayPalButtonState> {\n    static propTypes = {\n        amount: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.string,\n        ]),\n        currency: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.string,\n        ]),\n        shippingPreference: PropTypes.string,\n        onSuccess: PropTypes.func,\n        catchError: PropTypes.func,\n        onError: PropTypes.func,\n        createOrder: PropTypes.func,\n        createSubscription: PropTypes.func,\n        onApprove: PropTypes.func,\n        style: PropTypes.object,\n        options: PropTypes.shape({\n            clientId: PropTypes.string,\n            merchantId: PropTypes.string,\n            currency: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.string,\n            ]),\n            intent: PropTypes.string,\n            commit: PropTypes.oneOfType([\n                PropTypes.bool,\n                PropTypes.string\n            ]),\n            vault: PropTypes.oneOfType([\n                PropTypes.bool,\n                PropTypes.string\n            ]),\n            component: PropTypes.string,\n            disableFunding: PropTypes.string,\n            disableCard: PropTypes.string,\n            integrationDate: PropTypes.string,\n            locale: PropTypes.string,\n            buyerCountry: PropTypes.string,\n            debug: PropTypes.oneOfType([\n                PropTypes.bool,\n                PropTypes.string\n            ])\n        }),\n        onButtonReady: PropTypes.func,\n    }\n\n    static defaultProps = {\n        style: {},\n        options: {\n            clientId: \"sb\",\n            currency: \"USD\"\n        },\n        shippingPreference: \"GET_FROM_FILE\",\n    }\n\n    constructor(props: PayPalButtonProps) {\n        super(props);\n\n        this.state = {\n            isSdkReady: false,\n        };\n    }\n\n    componentDidMount() {\n        if (\n            typeof window !== \"undefined\" &&\n            window !== undefined &&\n            window.paypal === undefined\n        ) {\n            this.addPaypalSdk();\n        }\n        else if (\n            typeof window !== \"undefined\" &&\n            window !== undefined &&\n            window.paypal !== undefined &&\n            this.props.onButtonReady\n        ) {\n            this.props.onButtonReady();\n        }\n    }\n\n    createOrder(data: any, actions: any) {\n\n        const { currency, options, amount, shippingPreference } = this.props;\n\n        return actions.order.create({\n          purchase_units: [\n            {\n              amount: {\n                currency_code: currency\n                  ? currency\n                  : options && options.currency\n                  ? options.currency\n                  : \"USD\",\n                value: amount.toString()\n              }\n            }\n          ],\n          application_context: {\n            shipping_preference: shippingPreference\n          }\n        });\n    }\n\n    onApprove(data: any, actions: any) {\n        return actions.order\n            .capture()\n            .then((details) => {\n                if (this.props.onSuccess) {\n                    return this.props.onSuccess(details, data);\n                }\n            })\n            .catch((err) => {\n                if (this.props.catchError) {\n                    return this.props.catchError(err);\n                }\n            });\n    }\n\n    render() {\n        const {\n            amount,\n            onSuccess,\n            createOrder,\n            createSubscription,\n            onApprove,\n            style,\n        } = this.props;\n        const { isSdkReady } = this.state;\n\n        if (\n            !isSdkReady &&\n            (typeof window === \"undefined\" || window.paypal === undefined)\n        ) {\n            return null;\n        }\n\n        const Button = window.paypal.Buttons.driver(\"react\", {\n            React,\n            ReactDOM,\n        });\n\n        const createOrderFn =\n            amount && !createOrder\n                ? (data: any, actions: any) => this.createOrder(data, actions)\n                : (data: any, actions: any) => createOrder(data, actions);\n\n        return (\n            <Button\n                {...this.props}\n                createOrder={createSubscription ? undefined : createOrderFn}\n                createSubscription={createSubscription}\n                onApprove={\n                    onSuccess\n                        ? (data: any, actions: any) => this.onApprove(data, actions)\n                        : (data: any, actions: any) => onApprove(data, actions)\n                }\n                style={style}\n            />\n        );\n    }\n\n    private addPaypalSdk() {\n        const { options, onButtonReady } = this.props;\n        const queryParams: string[] = [];\n\n        // replacing camelCase with dashes\n        Object.keys(options).forEach(k => {\n            const name = k.split(/(?=[A-Z])/).join(\"-\").toLowerCase();\n            queryParams.push(`${name}=${options[k]}`);\n        });\n\n        const script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = `https://www.paypal.com/sdk/js?${queryParams.join(\"&\")}`;\n        script.async = true;\n        script.onload = () => {\n            this.setState({ isSdkReady: true });\n\n            if (onButtonReady) {\n                onButtonReady();\n            }\n        };\n        script.onerror = () => {\n            throw new Error(\"Paypal SDK could not be loaded.\");\n        };\n    \n        document.body.appendChild(script);\n    }\n}\n\nexport { PayPalButton };\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nlet logDisabled_ = true;\nlet deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nexport function extractVersion(uastring, expr, pos) {\n  const match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nexport function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  const nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    const wrappedCallback = (e) => {\n      const modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  const nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    const unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\n\nexport function disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return (bool) ? 'adapter.js logging disabled' :\n      'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nexport function disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + typeof bool +\n        '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nexport function log() {\n  if (typeof window === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nexport function deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n      ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nexport function detectBrowser(window) {\n  // Returned result object.\n  const result = {browser: null, version: null};\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  const {navigator} = window;\n\n  if (navigator.mozGetUserMedia) { // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent,\n        /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia ||\n      (window.isSecureContext === false && window.webkitRTCPeerConnection &&\n       !window.RTCIceGatherer)) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent,\n        /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (navigator.mediaDevices &&\n      navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n    result.browser = 'edge';\n    result.version = extractVersion(navigator.userAgent,\n        /Edge\\/(\\d+).(\\d+)$/, 2);\n  } else if (window.RTCPeerConnection &&\n      navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent,\n        /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver &&\n        'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else { // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nexport function compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function(accumulator, key) {\n    const isObj = isObject(data[key]);\n    const value = isObj ? compactObject(data[key]) : data[key];\n    const isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, {[key]: value});\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nexport function walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(name => {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(id => {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nexport function filterStats(result, track, outbound) {\n  const streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  const filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  const trackStats = [];\n  result.forEach(value => {\n    if (value.type === 'track' &&\n        value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(trackStat => {\n    result.forEach(stats => {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\nconst logging = utils.log;\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  if (!navigator.mediaDevices) {\n    return;\n  }\n\n  const browserDetails = utils.detectBrowser(window);\n\n  const constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    const cc = {};\n    Object.keys(c).forEach(key => {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      const r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      const oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        let oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(mix => {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  const shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      const remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      let face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      const getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        let matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(devices => {\n            devices = devices.filter(d => d.kind === 'videoinput');\n            let dev = devices.find(d => matches.some(match =>\n              d.label.toLowerCase().includes(match)));\n            if (!dev && devices.length && matches.includes('back')) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  const shimError_ = function(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  const getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, c => {\n      navigator.webkitGetUserMedia(c, onSuccess, e => {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, c => origGetUserMedia(c).then(stream => {\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(track => {\n            track.stop();\n          });\n          throw new DOMException('', 'NotFoundError');\n        }\n        return stream;\n      }, e => Promise.reject(shimError_(e))));\n    };\n  }\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\nexport function shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' +\n        'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      return getSourceId(constraints)\n        .then(sourceId => {\n          const widthSpecified = constraints.video && constraints.video.width;\n          const heightSpecified = constraints.video &&\n            constraints.video.height;\n          const frameRateSpecified = constraints.video &&\n            constraints.video.frameRate;\n          constraints.video = {\n            mandatory: {\n              chromeMediaSource: 'desktop',\n              chromeMediaSourceId: sourceId,\n              maxFrameRate: frameRateSpecified || 3\n            }\n          };\n          if (widthSpecified) {\n            constraints.video.mandatory.maxWidth = widthSpecified;\n          }\n          if (heightSpecified) {\n            constraints.video.mandatory.maxHeight = heightSpecified;\n          }\n          return window.navigator.mediaDevices.getUserMedia(constraints);\n        });\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nimport * as utils from '../utils.js';\n\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n      window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get() {\n        return this._ontrack;\n      },\n      set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    const origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        if (!this._ontrackpoly) {\n          this._ontrackpoly = (e) => {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', te => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === te.track.id);\n              } else {\n                receiver = {track: te.track};\n              }\n\n              const event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(track => {\n              let receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = this.getReceivers()\n                  .find(r => r.track && r.track.id === track.id);\n              } else {\n                receiver = {track};\n              }\n              const event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            });\n          };\n          this.addEventListener('addstream', this._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(this, arguments);\n      };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver',\n          {value: {receiver: e.receiver}});\n      }\n      return e;\n    });\n  }\n}\n\nexport function shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if (typeof window === 'object' && window.RTCPeerConnection &&\n      !('getSenders' in window.RTCPeerConnection.prototype) &&\n      'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    const shimSenderWithDtmf = function(pc, track) {\n      return {\n        track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n      const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack =\n        function addTrack(track, stream) {\n          let sender = origAddTrack.apply(this, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(this, track);\n            this._senders.push(sender);\n          }\n          return sender;\n        };\n\n      const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack =\n        function removeTrack(sender) {\n          origRemoveTrack.apply(this, arguments);\n          const idx = this._senders.indexOf(sender);\n          if (idx !== -1) {\n            this._senders.splice(idx, 1);\n          }\n        };\n    }\n    const origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(track => {\n        this._senders.push(shimSenderWithDtmf(this, track));\n      });\n    };\n\n    const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        this._senders = this._senders || [];\n        origRemoveStream.apply(this, [stream]);\n\n        stream.getTracks().forEach(track => {\n          const sender = this._senders.find(s => s.track === track);\n          if (sender) { // remove sender\n            this._senders.splice(this._senders.indexOf(sender), 1);\n          }\n        });\n      };\n  } else if (typeof window === 'object' && window.RTCPeerConnection &&\n             'getSenders' in window.RTCPeerConnection.prototype &&\n             'createDTMFSender' in window.RTCPeerConnection.prototype &&\n             window.RTCRtpSender &&\n             !('dtmf' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\n\nexport function shimGetStats(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n\n    // If selector is a function then we are in the old style stats so just\n    // pass back the original getStats format to avoid breaking old users.\n    if (arguments.length > 0 && typeof selector === 'function') {\n      return origGetStats.apply(this, arguments);\n    }\n\n    // When spec-style getStats is supported, return those when called with\n    // either no arguments or the selector argument is null.\n    if (origGetStats.length === 0 && (arguments.length === 0 ||\n        typeof selector !== 'function')) {\n      return origGetStats.apply(this, []);\n    }\n\n    const fixChromeStats_ = function(response) {\n      const standardReport = {};\n      const reports = response.result();\n      reports.forEach(report => {\n        const standardStats = {\n          id: report.id,\n          timestamp: report.timestamp,\n          type: {\n            localcandidate: 'local-candidate',\n            remotecandidate: 'remote-candidate'\n          }[report.type] || report.type\n        };\n        report.names().forEach(name => {\n          standardStats[name] = report.stat(name);\n        });\n        standardReport[standardStats.id] = standardStats;\n      });\n\n      return standardReport;\n    };\n\n    // shim getStats with maplike support\n    const makeMapStats = function(stats) {\n      return new Map(Object.keys(stats).map(key => [key, stats[key]]));\n    };\n\n    if (arguments.length >= 2) {\n      const successCallbackWrapper_ = function(response) {\n        onSucc(makeMapStats(fixChromeStats_(response)));\n      };\n\n      return origGetStats.apply(this, [successCallbackWrapper_,\n        selector]);\n    }\n\n    // promise-support\n    return new Promise((resolve, reject) => {\n      origGetStats.apply(this, [\n        function(response) {\n          resolve(makeMapStats(fixChromeStats_(response)));\n        }, reject]);\n    }).then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        const senders = origGetSenders.apply(this, []);\n        senders.forEach(sender => sender._pc = this);\n        return senders;\n      };\n    }\n\n    const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        const sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      const sender = this;\n      return this._pc.getStats().then(result =>\n        /* Note: this will include stats of all senders that\n         *   send a track with the same id as sender.track as\n         *   it is not possible to identify the RTCRtpSender.\n         */\n        utils.filterStats(result, sender.track, true));\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers =\n        function getReceivers() {\n          const receivers = origGetReceivers.apply(this, []);\n          receivers.forEach(receiver => receiver._pc = this);\n          return receivers;\n        };\n    }\n    utils.wrapPeerConnectionEvent(window, 'track', e => {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      const receiver = this;\n      return this._pc.getStats().then(result =>\n        utils.filterStats(result, receiver.track, false));\n    };\n  }\n\n  if (!('getStats' in window.RTCRtpSender.prototype &&\n      'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  const origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 &&\n        arguments[0] instanceof window.MediaStreamTrack) {\n      const track = arguments[0];\n      let sender;\n      let receiver;\n      let err;\n      this.getSenders().forEach(s => {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(r => {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || (sender && receiver)) {\n        return Promise.reject(new DOMException(\n          'There are more than one sender or receiver for the track.',\n          'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException(\n        'There is no sender or receiver for the track.',\n        'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\n\nexport function shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams)\n        .map(streamId => this._shimmedLocalStreams[streamId][0]);\n    };\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      const sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n    });\n    const existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    const newSenders = this.getSenders()\n      .filter(newSender => existingSenders.indexOf(newSender) === -1);\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n  const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(streamId => {\n          const idx = this._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            this._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (this._shimmedLocalStreams[streamId].length === 1) {\n            delete this._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n}\n\nexport function shimAddTrackRemoveTrack(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const browserDetails = utils.detectBrowser(window);\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack &&\n      browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  const origGetLocalStreams = window.RTCPeerConnection.prototype\n      .getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams =\n    function getLocalStreams() {\n      const nativeStreams = origGetLocalStreams.apply(this);\n      this._reverseStreams = this._reverseStreams || {};\n      return nativeStreams.map(stream => this._reverseStreams[stream.id]);\n    };\n\n  const origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    stream.getTracks().forEach(track => {\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      const newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n\n  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n\n      origRemoveStream.apply(this, [(this._streams[stream.id] || stream)]);\n      delete this._reverseStreams[(this._streams[stream.id] ?\n          this._streams[stream.id].id : stream.id)];\n      delete this._streams[stream.id];\n    };\n\n  window.RTCPeerConnection.prototype.addTrack =\n    function addTrack(track, stream) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      const streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(t => t === track)) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      const alreadyExists = this.getSenders().find(s => s.track === track);\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      this._streams = this._streams || {};\n      this._reverseStreams = this._reverseStreams || {};\n      const oldStream = this._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(() => {\n          this.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        const newStream = new window.MediaStream([track]);\n        this._streams[stream.id] = newStream;\n        this._reverseStreams[newStream.id] = stream;\n        this.addStream(newStream);\n      }\n      return this.getSenders().find(s => s.track === track);\n    };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n          externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    let sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(internalId => {\n      const externalStream = pc._reverseStreams[internalId];\n      const internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n          internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function(method) {\n    const nativeMethod = window.RTCPeerConnection.prototype[method];\n    const methodObj = {[method]() {\n      const args = arguments;\n      const isLegacyCall = arguments.length &&\n          typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [\n          (description) => {\n            const desc = replaceInternalStreamId(this, description);\n            args[0].apply(null, [desc]);\n          },\n          (err) => {\n            if (args[1]) {\n              args[1].apply(null, err);\n            }\n          }, arguments[2]\n        ]);\n      }\n      return nativeMethod.apply(this, arguments)\n      .then(description => replaceInternalStreamId(this, description));\n    }};\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n\n  const origSetLocalDescription =\n      window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription =\n    function setLocalDescription() {\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(this, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(this, arguments[0]);\n      return origSetLocalDescription.apply(this, arguments);\n    };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  const origLocalDescription = Object.getOwnPropertyDescriptor(\n      window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype,\n      'localDescription', {\n        get() {\n          const description = origLocalDescription.get.apply(this);\n          if (description.type === '') {\n            return description;\n          }\n          return replaceInternalStreamId(this, description);\n        }\n      });\n\n  window.RTCPeerConnection.prototype.removeTrack =\n    function removeTrack(sender) {\n      if (this.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      const isLocal = sender._pc === this;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      this._streams = this._streams || {};\n      let stream;\n      Object.keys(this._streams).forEach(streamid => {\n        const hasTrack = this._streams[streamid].getTracks()\n          .find(track => sender.track === track);\n        if (hasTrack) {\n          stream = this._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          this.removeStream(this._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        this.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n}\n\nexport function shimPeerConnection(window) {\n  const browserDetails = utils.detectBrowser(window);\n\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  const addIceCandidateNullSupported =\n    window.RTCPeerConnection.prototype.addIceCandidate.length === 0;\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n\n  // support for addIceCandidate(null or undefined)\n  const nativeAddIceCandidate =\n      window.RTCPeerConnection.prototype.addIceCandidate;\n  window.RTCPeerConnection.prototype.addIceCandidate =\n    function addIceCandidate() {\n      if (!addIceCandidateNullSupported && !arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n      // in older versions. Native support planned for Chrome M77.\n      if (browserDetails.version < 78 &&\n        arguments[0] && arguments[0].candidate === '') {\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n}\n\n// Attempt to fix ONN in plan-b mode.\nexport function fixNegotiationNeeded(window) {\n  const browserDetails = utils.detectBrowser(window);\n  utils.wrapPeerConnectionEvent(window, 'negotiationneeded', e => {\n    const pc = e.target;\n    if (browserDetails.version < 72 || (pc.getConfiguration &&\n        pc.getConfiguration().sdpSemantics === 'plan-b')) {\n      if (pc.signalingState !== 'stable') {\n        return;\n      }\n    }\n    return e;\n  });\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  const shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  const origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(e => Promise.reject(shimError_(e)));\n  };\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window) {\n  if (!('getDisplayMedia' in window.navigator)) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    window.navigator.getDisplayMedia.bind(window.navigator);\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nimport {filterIceServers} from './filtericeservers';\nimport shimRTCPeerConnection from 'rtcpeerconnection-shim';\n\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimPeerConnection(window) {\n  const browserDetails = utils.detectBrowser(window);\n\n  if (window.RTCIceGatherer) {\n    if (!window.RTCIceCandidate) {\n      window.RTCIceCandidate = function RTCIceCandidate(args) {\n        return args;\n      };\n    }\n    if (!window.RTCSessionDescription) {\n      window.RTCSessionDescription = function RTCSessionDescription(args) {\n        return args;\n      };\n    }\n    // this adds an additional event listener to MediaStrackTrack that signals\n    // when a tracks enabled property was changed. Workaround for a bug in\n    // addStream, see below. No longer required in 15025+\n    if (browserDetails.version < 15025) {\n      const origMSTEnabled = Object.getOwnPropertyDescriptor(\n          window.MediaStreamTrack.prototype, 'enabled');\n      Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n        set(value) {\n          origMSTEnabled.set.call(this, value);\n          const ev = new Event('enabled');\n          ev.enabled = value;\n          this.dispatchEvent(ev);\n        }\n      });\n    }\n  }\n\n  // ORTC defines the DTMF sender a bit different.\n  // https://github.com/w3c/ortc/issues/714\n  if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = new window.RTCDtmfSender(this);\n          } else if (this.track.kind === 'video') {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n  // Edge currently only implements the RTCDtmfSender, not the\n  // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*\n  if (window.RTCDtmfSender && !window.RTCDTMFSender) {\n    window.RTCDTMFSender = window.RTCDtmfSender;\n  }\n\n  const RTCPeerConnectionShim = shimRTCPeerConnection(window,\n      browserDetails.version);\n  window.RTCPeerConnection = function RTCPeerConnection(config) {\n    if (config && config.iceServers) {\n      config.iceServers = filterIceServers(config.iceServers,\n        browserDetails.version);\n      utils.log('ICE servers after filtering:', config.iceServers);\n    }\n    return new RTCPeerConnectionShim(config);\n  };\n  window.RTCPeerConnection.prototype = RTCPeerConnectionShim.prototype;\n}\n\nexport function shimReplaceTrack(window) {\n  // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n  if (window.RTCRtpSender &&\n      !('replaceTrack' in window.RTCRtpSender.prototype)) {\n    window.RTCRtpSender.prototype.replaceTrack =\n        window.RTCRtpSender.prototype.setTrack;\n  }\n}\n","/*\n *  Copyright (c) 2018 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nexport function filterIceServers(iceServers, edgeVersion) {\n  let hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(server => {\n    if (server && (server.urls || server.url)) {\n      let urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n      }\n      const isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(url => {\n        // filter STUN unconditionally.\n        if (url.indexOf('stun:') === 0) {\n          return false;\n        }\n\n        const validTurn = url.startsWith('turn') &&\n            !url.startsWith('turn:[') &&\n            url.includes('transport=udp');\n        if (validTurn && !hasTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return validTurn && !hasTurn;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\n\nexport function shimGetUserMedia(window) {\n  const browserDetails = utils.detectBrowser(window);\n  const navigator = window && window.navigator;\n  const MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    const remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    const nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        const obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      const nativeApplyConstraints =\n        MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n","/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nexport function shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices &&\n    'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!(window.navigator.mediaDevices)) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia =\n    function getDisplayMedia(constraints) {\n      if (!(constraints && constraints.video)) {\n        const err = new DOMException('getDisplayMedia without video ' +\n            'constraints is undefined');\n        err.name = 'NotFoundError';\n        // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n        err.code = 8;\n        return Promise.reject(err);\n      }\n      if (constraints.video === true) {\n        constraints.video = {mediaSource: preferredMediaSource};\n      } else {\n        constraints.video.mediaSource = preferredMediaSource;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport * as utils from '../utils';\nexport {shimGetUserMedia} from './getusermedia';\nexport {shimGetDisplayMedia} from './getdisplaymedia';\n\nexport function shimOnTrack(window) {\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      ('receiver' in window.RTCTrackEvent.prototype) &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimPeerConnection(window) {\n  const browserDetails = utils.detectBrowser(window);\n\n  if (typeof window !== 'object' ||\n      !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          const nativeMethod = window.RTCPeerConnection.prototype[method];\n          const methodObj = {[method]() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          }};\n          window.RTCPeerConnection.prototype[method] = methodObj[method];\n        });\n  }\n\n  // support for addIceCandidate(null or undefined)\n  // as well as ignoring {sdpMid, candidate: \"\"}\n  if (browserDetails.version < 68) {\n    const nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate =\n    function addIceCandidate() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n      // in older versions.\n      if (arguments[0] && arguments[0].candidate === '') {\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n\n  const modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  const nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    const [selector, onSucc, onErr] = arguments;\n    return nativeGetStats.apply(this, [selector || null])\n      .then(stats => {\n        if (browserDetails.version < 53 && !onSucc) {\n          // Shim only promise getStats with spec-hyphens in type names\n          // Leave callback version alone; misc old uses of forEach before Map\n          try {\n            stats.forEach(stat => {\n              stat.type = modernStatsTypes[stat.type] || stat.type;\n            });\n          } catch (e) {\n            if (e.name !== 'TypeError') {\n              throw e;\n            }\n            // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n            stats.forEach((stat, i) => {\n              stats.set(i, Object.assign({}, stat, {\n                type: modernStatsTypes[stat.type] || stat.type\n              }));\n            });\n          }\n        }\n        return stats;\n      })\n      .then(onSucc, onErr);\n  };\n}\n\nexport function shimSenderGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  const origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      const senders = origGetSenders.apply(this, []);\n      senders.forEach(sender => sender._pc = this);\n      return senders;\n    };\n  }\n\n  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      const sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) :\n        Promise.resolve(new Map());\n  };\n}\n\nexport function shimReceiverGetStats(window) {\n  if (!(typeof window === 'object' && window.RTCPeerConnection &&\n      window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      const receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(receiver => receiver._pc = this);\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', e => {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nexport function shimRemoveStream(window) {\n  if (!window.RTCPeerConnection ||\n      'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream =\n    function removeStream(stream) {\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(sender => {\n        if (sender.track && stream.getTracks().includes(sender.track)) {\n          this.removeTrack(sender);\n        }\n      });\n    };\n}\n\nexport function shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nexport function shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver =\n      function addTransceiver() {\n        this.setParametersPromises = [];\n        const initParameters = arguments[1];\n        const shouldPerformCheck = initParameters &&\n                                  'sendEncodings' in initParameters;\n        if (shouldPerformCheck) {\n          // If sendEncodings params are provided, validate grammar\n          initParameters.sendEncodings.forEach((encodingParam) => {\n            if ('rid' in encodingParam) {\n              const ridRegex = /^[a-z0-9]{0,16}$/i;\n              if (!ridRegex.test(encodingParam.rid)) {\n                throw new TypeError('Invalid RID value provided.');\n              }\n            }\n            if ('scaleResolutionDownBy' in encodingParam) {\n              if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n                throw new RangeError('scale_resolution_down_by must be >= 1.0');\n              }\n            }\n            if ('maxFramerate' in encodingParam) {\n              if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n                throw new RangeError('max_framerate must be >= 0.0');\n              }\n            }\n          });\n        }\n        const transceiver = origAddTransceiver.apply(this, arguments);\n        if (shouldPerformCheck) {\n          // Check if the init options were applied. If not we do this in an\n          // asynchronous way and save the promise reference in a global object.\n          // This is an ugly hack, but at the same time is way more robust than\n          // checking the sender parameters before and after the createOffer\n          // Also note that after the createoffer we are not 100% sure that\n          // the params were asynchronously applied so we might miss the\n          // opportunity to recreate offer.\n          const {sender} = transceiver;\n          const params = sender.getParameters();\n          if (!('encodings' in params) ||\n              // Avoid being fooled by patched getParameters() below.\n              (params.encodings.length === 1 &&\n               Object.keys(params.encodings[0]).length === 0)) {\n            params.encodings = initParameters.sendEncodings;\n            sender.sendEncodings = initParameters.sendEncodings;\n            this.setParametersPromises.push(sender.setParameters(params)\n              .then(() => {\n                delete sender.sendEncodings;\n              }).catch(() => {\n                delete sender.sendEncodings;\n              })\n            );\n          }\n        }\n        return transceiver;\n      };\n  }\n}\n\nexport function shimGetParameters(window) {\n  if (!(typeof window === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  const origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters =\n      function getParameters() {\n        const params = origGetParameters.apply(this, arguments);\n        if (!('encodings' in params)) {\n          params.encodings = [].concat(this.sendEncodings || [{}]);\n        }\n        return params;\n      };\n  }\n}\n\nexport function shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateOffer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nexport function shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(typeof window === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  const origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises)\n      .then(() => {\n        return origCreateAnswer.apply(this, arguments);\n      })\n      .finally(() => {\n        this.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nimport * as utils from '../utils';\n\nexport function shimLocalStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams =\n      function getLocalStreams() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    const _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n      stream.getVideoTracks().forEach(track => _addTrack.call(this, track,\n        stream));\n    };\n\n    window.RTCPeerConnection.prototype.addTrack =\n      function addTrack(track, ...streams) {\n        if (streams) {\n          streams.forEach((stream) => {\n            if (!this._localStreams) {\n              this._localStreams = [stream];\n            } else if (!this._localStreams.includes(stream)) {\n              this._localStreams.push(stream);\n            }\n          });\n        }\n        return _addTrack.apply(this, arguments);\n      };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream =\n      function removeStream(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        const index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        const tracks = stream.getTracks();\n        this.getSenders().forEach(sender => {\n          if (tracks.includes(sender.track)) {\n            this.removeTrack(sender);\n          }\n        });\n      };\n  }\n}\n\nexport function shimRemoteStreamsAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams =\n      function getRemoteStreams() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get() {\n        return this._onaddstream;\n      },\n      set(f) {\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = (e) => {\n          e.streams.forEach(stream => {\n            if (!this._remoteStreams) {\n              this._remoteStreams = [];\n            }\n            if (this._remoteStreams.includes(stream)) {\n              return;\n            }\n            this._remoteStreams.push(stream);\n            const event = new Event('addstream');\n            event.stream = stream;\n            this.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n      function setRemoteDescription() {\n        const pc = this;\n        if (!this._onaddstreampoly) {\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(stream => {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              const event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n  }\n}\n\nexport function shimCallbacksAPI(window) {\n  if (typeof window !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  const prototype = window.RTCPeerConnection.prototype;\n  const origCreateOffer = prototype.createOffer;\n  const origCreateAnswer = prototype.createAnswer;\n  const setLocalDescription = prototype.setLocalDescription;\n  const setRemoteDescription = prototype.setRemoteDescription;\n  const addIceCandidate = prototype.addIceCandidate;\n\n  prototype.createOffer =\n    function createOffer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  prototype.createAnswer =\n    function createAnswer(successCallback, failureCallback) {\n      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      const promise = origCreateAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n  let withCallback = function(description, successCallback, failureCallback) {\n    const promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n\n  withCallback = function(description, successCallback, failureCallback) {\n    const promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n\n  withCallback = function(candidate, successCallback, failureCallback) {\n    const promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\n\nexport function shimGetUserMedia(window) {\n  const navigator = window && window.navigator;\n\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    const mediaDevices = navigator.mediaDevices;\n    const _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = (constraints) => {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n\n  if (!navigator.getUserMedia && navigator.mediaDevices &&\n    navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints)\n      .then(cb, errcb);\n    }.bind(navigator);\n  }\n}\n\nexport function shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({},\n      constraints,\n      {video: utils.compactObject(constraints.video)}\n    );\n  }\n\n  return constraints;\n}\n\nexport function shimRTCIceServerUrls(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  const OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection =\n    function RTCPeerConnection(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        const newIceServers = [];\n        for (let i = 0; i < pcConfig.iceServers.length; i++) {\n          let server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in OrigPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\n\nexport function shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if (typeof window === 'object' && window.RTCTrackEvent &&\n      'receiver' in window.RTCTrackEvent.prototype &&\n      !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get() {\n        return {receiver: this.receiver};\n      }\n    });\n  }\n}\n\nexport function shimCreateOfferLegacy(window) {\n  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer =\n    function createOffer(offerOptions) {\n      if (offerOptions) {\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveAudio =\n            !!offerOptions.offerToReceiveAudio;\n        }\n        const audioTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'audio');\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          this.addTransceiver('audio');\n        }\n\n        if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveVideo =\n            !!offerOptions.offerToReceiveVideo;\n        }\n        const videoTransceiver = this.getTransceivers().find(transceiver =>\n          transceiver.receiver.track.kind === 'video');\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('sendonly');\n            } else {\n              videoTransceiver.direction = 'sendonly';\n            }\n          } else if (videoTransceiver.direction === 'recvonly') {\n            if (videoTransceiver.setDirection) {\n              videoTransceiver.setDirection('inactive');\n            } else {\n              videoTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          this.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(this, arguments);\n    };\n}\n\nexport function shimAudioContext(window) {\n  if (typeof window !== 'object' || window.AudioContext) {\n    return;\n  }\n  window.AudioContext = window.webkitAudioContext;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nimport SDPUtils from 'sdp';\nimport * as utils from './utils';\n\nexport function shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n      window.RTCIceCandidate.prototype)) {\n    return;\n  }\n\n  const NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if (typeof args === 'object' && args.candidate &&\n        args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substr(2);\n    }\n\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      const nativeCandidate = new NativeRTCIceCandidate(args);\n      const parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n      const augmentedCandidate = Object.assign(nativeCandidate,\n          parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function toJSON() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment,\n        };\n      };\n      return augmentedCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', e => {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\n\nexport function shimMaxMessageSize(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const browserDetails = utils.detectBrowser(window);\n\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n\n  const sctpInDescription = function(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    const sections = SDPUtils.splitSections(description.sdp);\n    sections.shift();\n    return sections.some(mediaSection => {\n      const mLine = SDPUtils.parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application'\n          && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n\n  const getRemoteFirefoxVersion = function(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    const match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    const version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n\n  const getCanSendMaxMessageSize = function(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    let canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize =\n          browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n\n  const getMaxMessageSize = function(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    let maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox'\n         && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n\n    const match = SDPUtils.matchPrefix(description.sdp,\n      'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substr(19), 10);\n    } else if (browserDetails.browser === 'firefox' &&\n                remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n\n  const origSetRemoteDescription =\n      window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n    function setRemoteDescription() {\n      this._sctp = null;\n      // Chrome decided to not expose .sctp in plan-b mode.\n      // As usual, adapter.js has to do an 'ugly worakaround'\n      // to cover up the mess.\n      if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n        const {sdpSemantics} = this.getConfiguration();\n        if (sdpSemantics === 'plan-b') {\n          Object.defineProperty(this, 'sctp', {\n            get() {\n              return typeof this._sctp === 'undefined' ? null : this._sctp;\n            },\n            enumerable: true,\n            configurable: true,\n          });\n        }\n      }\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        const isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        const canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        const remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        let maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        const sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get() {\n            return maxMessageSize;\n          }\n        });\n        this._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n}\n\nexport function shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection &&\n      'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    const origDataChannelSend = dc.send;\n    dc.send = function send() {\n      const data = arguments[0];\n      const length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' &&\n          pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' +\n          pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  const origCreateDataChannel =\n    window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel =\n    function createDataChannel() {\n      const dataChannel = origCreateDataChannel.apply(this, arguments);\n      wrapDcSend(dataChannel, this);\n      return dataChannel;\n    };\n  utils.wrapPeerConnectionEvent(window, 'datachannel', e => {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nexport function shimConnectionState(window) {\n  if (!window.RTCPeerConnection ||\n      'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  const proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get() {\n      return this._onconnectionstatechange || null;\n    },\n    set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange',\n            this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange',\n            this._onconnectionstatechange = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ['setLocalDescription', 'setRemoteDescription'].forEach((method) => {\n    const origMethod = proto[method];\n    proto[method] = function() {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = e => {\n          const pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            const newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange',\n          this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\n\nexport function removeAllowExtmapMixed(window) {\n  /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  const browserDetails = utils.detectBrowser(window);\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {\n    return;\n  }\n  const nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription =\n  function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      desc.sdp = desc.sdp.split('\\n').filter((line) => {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n'use strict';\n\nimport {adapterFactory} from './adapter_factory.js';\n\nconst adapter =\n  adapterFactory({window: typeof window === 'undefined' ? undefined : window});\nexport default adapter;\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nimport * as utils from './utils';\n\n  // Browser shims.\nimport * as chromeShim from './chrome/chrome_shim';\nimport * as edgeShim from './edge/edge_shim';\nimport * as firefoxShim from './firefox/firefox_shim';\nimport * as safariShim from './safari/safari_shim';\nimport * as commonShim from './common_shim';\n\n// Shimming starts here.\nexport function adapterFactory({window} = {}, options = {\n  shimChrome: true,\n  shimFirefox: true,\n  shimEdge: true,\n  shimSafari: true,\n}) {\n  // Utils.\n  const logging = utils.log;\n  const browserDetails = utils.detectBrowser(window);\n\n  const adapter = {\n    browserDetails,\n    commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n      chromeShim.shimGetStats(window);\n      chromeShim.shimSenderReceiverGetStats(window);\n      chromeShim.fixNegotiationNeeded(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimConnectionState(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      commonShim.removeAllowExtmapMixed(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n      firefoxShim.shimSenderGetStats(window);\n      firefoxShim.shimReceiverGetStats(window);\n      firefoxShim.shimRTCDataChannel(window);\n      firefoxShim.shimAddTransceiver(window);\n      firefoxShim.shimGetParameters(window);\n      firefoxShim.shimCreateOffer(window);\n      firefoxShim.shimCreateAnswer(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimConnectionState(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimGetDisplayMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCreateOfferLegacy(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimAudioContext(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      commonShim.removeAllowExtmapMixed(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n"],"sourceRoot":""}