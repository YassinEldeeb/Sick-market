{"version":3,"sources":["../node_modules/react-filepond/dist/react-filepond.js","../node_modules/filepond/dist/filepond.js","../node_modules/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js","../node_modules/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js","../node_modules/filepond-plugin-image-exif-orientation/dist/filepond-plugin-image-exif-orientation.js","../node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js","../node_modules/filepond-plugin-image-crop/dist/filepond-plugin-image-crop.js"],"names":["Object","defineProperty","exports","value","FilePond","FileStatus","registerPlugin","undefined","obj","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","__webpack_require__","_react2","__esModule","default","_filepond","isSupported","supported","filteredMethods","_React$Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","allowFilesSync","subClass","superClass","create","constructor","setPrototypeOf","_inherits","Component","_this2","options","assign","onupdatefiles","cb","items","_pond","_element","keys","filter","includes","forEach","destroy","setOptions","_this3","_props","id","name","className","allowMultiple","required","captureMethod","acceptedFileTypes","createElement","type","accept","multiple","capture","ref","element","forin","hasOwnProperty","createObject","definition","property","attr","node","arguments","getAttribute","hasAttribute","setAttribute","svgElements","isSVGElement","tag","attributes","document","createElementNS","appendChildView","parent","childViews","view","index","splice","push","removeChildView","indexOf","parentNode","removeChild","IS_BROWSER","window","isBrowser","getChildCount","el","children","childNodes","getViewRect","elementRect","offset","scale","left","top","right","width","bottom","height","rect","inner","outer","childView","isRectIgnored","map","childViewRect","expandRect","calculateRectSize","marginBottom","marginRight","child","isNumber","easeInOutQuad","t","animator","spring","_ref","_ref$stiffness","stiffness","_ref$damping","damping","_ref$mass","mass","position","velocity","resting","api","interpolate","ts","skipToEndState","destination","errorMargin","Math","abs","thereYet","onupdate","oncomplete","set","get","tween","p","_ref$duration","duration","_ref$easing","easing","_ref$delay","delay","start","reverse","createAnimator","category","def","addGetSet","overwrite","Array","isArray","o","getter","setter","isDefined","defaults","opacity","scaleX","scaleY","translateX","translateY","rotateX","rotateY","rotateZ","originX","originY","propsHaveChanged","currentProps","newProps","prop","applyStyles","_ref2","perspective","transforms","styles","elementCurrentStyle","style","cssText","Mixins","mixinConfig","viewProps","viewInternalAPI","viewExternalAPI","initialProps","getRect","write","listeners","viewState","events","add","fn","addEventListener","remove","removeEventListener","removeEvent","on","off","findIndex","event","animations","animation","hidden","apis","updateRect","layoutCalculated","paddingTop","parseInt","marginTop","marginLeft","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","offsetParent","createView","_ref$tag","_ref$name","_ref$attributes","_ref$read","read","_ref$write","_ref$create","_ref$destroy","_ref$filterFrameActio","filterFrameActionsForChild","actions","_ref$didCreateView","didCreateView","_ref$didWriteView","didWriteView","_ref$ignoreRect","ignoreRect","_ref$ignoreRectUpdate","ignoreRectUpdate","_ref$mixins","mixins","store","getComputedStyle","frameRect","isResting","activeMixins","state","writers","readers","destroyers","getElement","getChildViews","concat","sharedAPIDefinition","internalAPIDefinition","is","needle","appendChild","insertBefore","createChildView","linkView","unlinkView","registerWriter","writer","registerReader","reader","registerDestroyer","destroyer","invalidateLayout","dispatch","query","externalAPIDefinition","_read","root","internalAPI","_write","frameActions","shouldOptimize","timestamp","mixin","_destroy","mixinAPIDefinition","sort","a","b","mixinAPI","childCount","createRoute","routes","_ref$actions","action","data","newNode","referenceNode","insertAfter","nextSibling","isEmpty","trim","str","toString","isBoolean","toBoolean","isString","toNumber","replace","toInt","toFloat","parseFloat","isInt","isFinite","floor","toBytes","base","naturalFileSize","test","isFunction","methods","process","patch","revert","fetch","restore","load","createAction","outline","method","timeout","headers","url","withCredentials","onload","ondata","onerror","parts","split","header","isObject","getType","isNull","isAPI","conversionTable","array","splitter","boolean","int","number","float","bytes","string","function","levels","level","shift","toFunctionReference","serverapi","createServerAPI","object","JSON","parse","e","getValueByType","newValue","defaultValue","valueType","newValueType","convertedValue","option","createOptions","optionDefinition","currentValue","createOption","fromCamels","separator","part","toLowerCase","join","createOptionActions","toUpperCase","createOptionQueries","InteractionMethod","API","DROP","BROWSE","PASTE","NONE","getUniqueId","random","substr","_AwaitValue","wrapped","_AsyncGenerator","gen","front","back","resume","arg","result","wrappedAwait","Promise","resolve","then","settle","done","err","reject","next","_invoke","request","return","_objectWithoutProperties","source","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","arr","arr2","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","Symbol","iterator","from","asyncIterator","throw","arrayRemove","listener","_fire","args","sync","setTimeout","run","apply","fireSync","_len","_key","fire","_len2","_key2","onOnce","_cb","copyObjectPropertiesToObject","src","getOwnPropertyNames","getOwnPropertyDescriptor","PRIVATE","createItemAPI","item","ItemStatus","INIT","IDLE","PROCESSING_QUEUED","PROCESSING","PROCESSING_COMPLETE","PROCESSING_ERROR","PROCESSING_REVERT_ERROR","LOADING","LOAD_ERROR","FileOrigin","INPUT","LIMBO","LOCAL","getNonNumeric","exec","getDecimalSeparator","toLocaleString","Type","BOOLEAN","INT","NUMBER","STRING","ARRAY","OBJECT","FUNCTION","ACTION","SERVER_API","REGEX","filters","applyFilterChain","utils","matchingFilters","f","initialFilter","reduce","current","catch","error","applyFilters","addFilter","getOptions","defaultOptions","disabled","allowSyncAcceptAttribute","allowDrop","allowBrowse","allowPaste","allowReplace","allowRevert","allowRemove","allowProcess","allowReorder","allowDirectoriesOnly","forceRevert","maxFiles","checkValidity","itemInsertLocationFreedom","itemInsertLocation","itemInsertInterval","dropOnPage","dropOnElement","dropValidation","ignoredFiles","instantUpload","maxParallelUploads","chunkUploads","chunkForce","chunkSize","chunkRetryDelays","server","fileSizeBase","labelDecimalSeparator","labelThousandsSeparator","decimalSeparator","thousandsStringWithSeparator","thousandsStringWithoutSeparator","getThousandsSeparator","labelIdle","labelInvalidField","labelFileWaitingForSize","labelFileSizeNotAvailable","labelFileCountSingular","labelFileCountPlural","labelFileLoading","labelFileAdded","labelFileLoadError","labelFileRemoved","labelFileRemoveError","labelFileProcessing","labelFileProcessingComplete","labelFileProcessingAborted","labelFileProcessingError","labelFileProcessingRevertError","labelTapToCancel","labelTapToRetry","labelTapToUndo","labelButtonRemoveItem","labelButtonAbortItemLoad","labelButtonRetryItemLoad","labelButtonAbortItemProcessing","labelButtonUndoItemProcessing","labelButtonRetryItemProcessing","labelButtonProcessItem","iconRemove","iconProcess","iconRetry","iconUndo","iconDone","oninit","onwarning","onactivatefile","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onreorderfiles","beforeDropFile","beforeAddFile","beforeRemoveFile","beforePrepareFile","stylePanelLayout","stylePanelAspectRatio","styleItemPanelAspectRatio","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemAlign","files","credits","getItemByQuery","find","getNumericAspectRatioFromString","aspectRatio","getActiveItems","archived","Status","EMPTY","ERROR","BUSY","READY","ITEM_ERROR","ITEM_BUSY","ITEM_READY","isItemInErrorState","status","isItemInBusyState","isItemInReadyState","queries","GET_STATUS","some","GET_ITEM","GET_ACTIVE_ITEM","GET_ACTIVE_ITEMS","GET_ITEMS","GET_ITEM_NAME","filename","GET_ITEM_SIZE","fileSize","GET_STYLES","GET_PANEL_ASPECT_RATIO","isShapeCircle","GET_ITEM_PANEL_ASPECT_RATIO","GET_ITEMS_BY_STATUS","GET_TOTAL_ITEMS","IS_ASYNC","limit","min","max","isBase64DataURI","getFilenameFromURL","pop","getExtensionFromFilename","leftPad","padding","slice","getDateString","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileFromBlob","blob","extension","file","size","lastModifiedDate","_relativePath","subtype","guesstimateExtension","createBlob","arrayBuffer","mimeType","BB","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","bb","append","getBlob","Blob","getMimeTypeFromBase64DataURI","dataURI","getBlobFromBase64DataURI","byteString","atob","getBase64DataFromBase64DataURI","getByteStringFromBase64DataURI","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","getBlobFromByteStringWithMimeType","getFileNameFromHeader","matches","decodeURI","getFileSizeFromHeader","match","getTranfserIdFromHeader","getFileInfoFromHeaders","info","rows","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","createFileLoader","fetchFn","complete","progress","loadURL","now","response","body","code","computable","total","fileinfo","setSource","getProgress","abort","File","isGet","sendRequest","onheaders","onprogress","ontimeout","onabort","aborted","xhr","headersReceived","encodeURI","encodeURIComponent","stringify","XMLHttpRequest","upload","lengthComputable","loaded","onreadystatechange","readyState","open","unescape","setRequestHeader","responseType","send","createResponse","createTimeoutResponse","getAllResponseHeaders","hasQS","buildURL","createFetchFunction","apiUrl","res","statusText","ChunkStatus","QUEUED","COMPLETE","WAITING","processFileChunked","metadata","transfer","chunks","chunkTransferId","chunkServer","serverId","fd","getResponseHeader","lastChunkIndex","retries","canProcessChunk","chunk","processChunk","requestUrl","Content-Type","Upload-Offset","Upload-Length","Upload-Name","processChunks","updateTotalProgress","retryProcessChunk","every","clearTimeout","totalBytesTransfered","totalSize","totalProcessing","requestParams","requestTransferOffset","formData","FormData","requestTransferId","createProcessorFunction","params","canChunkUpload","shouldChunkUpload","willChunkUpload","createFileProcessorFunction","createRevertFunction","uniqueFileId","getRandomNumber","createFileProcessor","processFn","perceivedProgress","perceivedPerformanceUpdater","perceivedDuration","clear","progressFn","completeFn","tickMin","tickMax","tick","runtime","createPerceivedPerformanceUpdater","transferId","getDuration","reset","getFilenameWithoutExtension","lastIndexOf","isFile","createItem","origin","serverFileReference","frozen","released","processingAborted","activeLoader","activeProcessor","abortProcessingRequestComplete","setStatus","_setMetadata","silent","last","filenameWithoutExtension","fileExtension","fileType","relativePath","getMetadata","deepCloneObject","v","setMetadata","extend","handler","itemAPI","abortLoad","retryLoad","requestProcessing","abortProcessing","loader","createFileStub","meta","success","processor","onprocess","console","revertFileUpload","freeze","release","archive","getItemById","itemId","getItemIndexByQuery","fetchBlob","getDomainFromURL","location","protocol","dynamicLabel","label","listUpdated","listUpdateTimeout","optionalPromise","sortItems","compare","getItemByQueryFromState","itemHandler","_ref$success","_ref$failure","failure","ABORT_ALL","DID_SET_FILES","_ref2$value","activeItems","interactionMethod","DID_UPDATE_ITEM_METADATA","_ref3","itemUpdateTimeout","doUpload","shouldPrepareOutput","MOVE_ITEM","_ref4","currentIndex","SORT","_ref5","ADD_ITEMS","_ref6","_ref6$success","_ref6$failure","insertLocation","totalItems","validItems","promises","all","ADD_ITEM","_ref7","_ref7$index","_ref7$success","_ref7$failure","_ref7$options","count","maxFileCount","hasRoomForItem","_item","arrayInsert","insertItem","mainStatus","main","sub","handleAdd","shouldAdd","change","loadComplete","_ref8","href","isExternalURL","REQUEST_PREPARE_OUTPUT","_ref9","_ref9$failure","COMPLETE_LOAD_ITEM","_ref10","RETRY_ITEM_LOAD","REQUEST_ITEM_PREPARE","_success","output","REQUEST_ITEM_PROCESSING","itemCanBeQueuedForProcessing","processNow","PROCESS_ITEM","totalCurrentUploads","processNext","queueEntry","processingQueue","itemReference","allItemsProcessed","RETRY_ITEM_PROCESSING","REQUEST_REMOVE_ITEM","shouldRemove","RELEASE_ITEM","REMOVE_ITEM","removeFromView","ABORT_ITEM_LOAD","ABORT_ITEM_PROCESSING","REQUEST_REVERT_ITEM_PROCESSING","handleRevert","shouldRevert","requestRemoveResult","REVERT_ITEM_PROCESSING","isMockItem","SET_OPTIONS","_ref11","formatFilename","createElement$1","tagName","text","textNode","nodeValue","createTextNode","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","PI","x","cos","y","sin","percentageArc","to","arcSweep","startAngle","endAngle","end","describeArc","progressIndicator","spin","svg","path","stroke-width","stroke-linecap","align","dataset","ringStrokeWidth","ringFrom","ringTo","coordinates","fileActionButton","innerHTML","icon","isDisabled","shouldDisable","removeAttribute","toNaturalFileSize","round","KB","MB","GB","removeDecimalsWhenZero","decimalCount","toFixed","updateFile","fileName","updateFileSizeOnError","fileInfo","DID_LOAD_ITEM","DID_UPDATE_ITEM_META","DID_THROW_ITEM_LOAD_ERROR","DID_THROW_ITEM_INVALID","toPercentage","didSetItemLoadProgress","title","fileStatus","DID_REVERT_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_ABORT_ITEM_PROCESSING","DID_COMPLETE_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_UPDATE_ITEM_LOAD_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR","DID_THROW_ITEM_PROCESSING_REVERT_ERROR","DID_THROW_ITEM_REMOVE_ERROR","Buttons","AbortItemLoad","RetryItemLoad","RemoveItem","ProcessItem","AbortItemProcessing","RetryItemProcessing","RevertItemProcessing","ButtonKeys","calculateFileInfoOffset","buttonRect","buttonRemoveItem","calculateButtonWidth","buttonAbortItemLoad","calculateFileVerticalCenterOffset","calculateFileHorizontalCenterOffset","getRemoveIndicatorAligment","DefaultStyle","buttonRetryItemLoad","buttonProcessItem","buttonAbortItemProcessing","buttonRetryItemProcessing","buttonRevertItemProcessing","loadProgressIndicator","processProgressIndicator","processingCompleteIndicator","IdleStyle","ProcessingStyle","StyleMap","DID_START_ITEM_LOAD","DID_START_ITEM_REMOVE","DID_LOAD_LOCAL_ITEM","DID_START_ITEM_PROCESSING","processingCompleteIndicatorView","route","DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING","DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD","DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL","buttonAbortItemRemoval","_ref12","buttonFilter","isAsync","alignRemoveItemButton","enabledButtons","_map","buttonView","classList","stopPropagation","loadIndicatorView","progressIndicatorView","activeStyles","stylesToApply","defaultStyles","control","fileWrapper","PANEL_SPRING_PROPS","createSection","section","viewConstructor","panel","heightCurrent","scalable","topRect","bottomRect","center","ITEM_TRANSLATE_SPRING","StateMap","route$1","DID_UPDATE_PANEL_HEIGHT","write$4","DID_GRAB_ITEM","dragOrigin","DID_DRAG_ITEM","dragState","DID_DROP_ITEM","dragOffset","currentState","filepondItemState","container","handleClick","markedForRemoval","isPrimary","removedActivateListener","pageX","pageY","dragCenter","offsetX","offsetY","itemIds","prevIndex","setIndex","getIndex","getItemIndex","createDragHelper","drag","preventDefault","dist","drop","getItemIndexByPosition","positionInView","horizontalSpace","l","itemRect","itemHorizontalMargin","itemWidth","itemsPerRow","childMid","itemVerticalMargin","itemHeight","_index","indexX","indexY","itemTop","itemRight","itemBottom","dropAreaDimensions","getHeight","setHeight","val","getWidth","setWidth","setDimensions","moveItem","vx","vy","spawnDate","introItemView","getItemHeight","route$2","DID_ADD_ITEM","addIndex","cooldown","lastItemSpanwDate","DID_REMOVE_ITEM","numItems","oldIndex","dragPosition","dragHeight","dragWidth","cols","getGridIndex","getColIndex","visibleChildren","idx","childHeight","childBottom","childTop","list","dragCoordinates","dragIndex","dragIndexOffset","removeIndexOffset","addIndexOffset","childRect","visualHeight","prevX","prevY","visualIndex","vectorX","sign","vectorY","route$3","DID_DRAG","scopeLeft","scopeTop","DID_END_DRAG","listScroller","overflowing","overflow","newHeight","attrToggle","enabledValue","setAcceptedFileTypes","toggleAllowMultiple","toggleDirectoryFilter","toggleDisabled","doesAllowBrowse","disableField","toggleRequired","setCaptureMethod","updateRequiredStatus","shouldCheckValidity","setCustomValidity","browser","handleChange","webkitRelativePath","input","form","resetFileInput","DID_SET_DISABLED","DID_SET_ALLOW_BROWSE","DID_SET_ALLOW_DIRECTORIES_ONLY","DID_SET_ALLOW_MULTIPLE","DID_SET_ACCEPTED_FILE_TYPES","DID_SET_CAPTURE_METHOD","DID_SET_REQUIRED","Key","ENTER","SPACE","updateLabelValue","clickable","querySelector","dropLabel","handleKeyDown","isActivationKey","keyCode","click","isLabelClick","contains","caption","DID_SET_LABEL_IDLE","route$4","addBlob","DID_DROP","drip","getField","fields","syncFieldPositionsWithItems","didReorderItems","write$8","dataContainer","field","DID_DEFINE_VALUE","DID_REORDER_ITEMS","DID_SORT_ITEMS","images","text$1","zip","epub","guesstimateMimeType","requestDataTransferItems","dataTransfer","links","getLinks","hasFiles","getFiles","promisedFiles","isFileSystemItem","getFilesFromItem","returnedFileGroups","group","isEntry","entry","getAsEntry","isDirectory","kind","isDirectoryEntry","getFilesInDirectory","getAsFile","dirCounter","fileCounter","resolveIfDone","readEntries","dirEntry","directoryReader","createReader","readBatch","entries","correctedFile","correctMissingFileType","fullPath","webkitGetAsEntry","getLinksFromTransferMetaData","getLinksFromTransferURLData","getData","dragNDropObservers","eventPosition","pageLeft","pageTop","layerX","layerY","getDragNDropObserver","observer","newObserver","createDragNDropObserver","clients","dragenter","dragover","dragleave","handlers","createHandler","addListener","client","isEventTarget","getRootNode","elementAtPosition","point","elementFromPoint","pageXOffset","pageYOffset","initialTarget","setDropEffect","effect","dropEffect","onenter","overDropTarget","filterElement","onexit","ondrag","allowdrop","allowsTransfer","ondrop","createHopper","scope","validateItems","catchesDropsOnPage","requiresDropOnElement","_options$filterItems","filterItems","scopeToObserve","createDragNDropClient","documentElement","lastState","filteredItems","ondragend","ondragstart","updateHopperState","hopperState","listening","listeners$1","handlePaste","activeEl","activeElement","nodeName","inScope","clipboardData","createPaster","listen","addFilesNotificationTimeout","notificationClearTimeout","filenames","assist","message","textContent","listModified","clear$1","isUsingFilePond","itemProcessedUndo","itemError","assistant","toCamels","RegExp","charAt","debounce","func","interval","immidiateOnly","prevent","calculateListItemMargin","calculateListHeight","visual","bounds","scrollList","itemList","newItem","removedItem","verticalItemCount","ceil","calculateRootBoundingBoxHeight","measureHeight","cappedHeight","maxHeight","fixedHeight","exceedsMaxFiles","maxItems","totalBrowseItems","hasMaxItems","getDragIndex","toggleDrop","isAllowed","enabled","hopper","queue","toggleBrowse","togglePaste","paster","route$5","DID_SET_ALLOW_DROP","DID_SET_ALLOW_PASTE","measure","widthPrevious","widthUpdated","updateHistory","previousAspectRatio","canHover","matchMedia","hasPointerEvents","passive","frag","tabindex","rel","_root$ref","isMultiItem","atMaxCapacity","addAction","listItemMargin","listHeight","labelHeight","currentLabelHeight","listMarginTop","listMarginBottom","boundsHeight","history","MAX_BOUNCES","bounces","listAvailableHeight","_listAvailableHeight","isCappedHeight","panelHeight","_listAvailableHeight2","itemMargin","transform","createApp","initialOptions","originalElement","initialState","actionQueue","dispatchQueue","isBlocking","actionHandlers","_queryHandles","queryHandles","getState","processActionQueue","processDispatchQueue","createStore","visibilityHandler","resizeDoneTimer","isResizing","isResizingHorizontally","initialWindowWidth","currentWindowWidth","resizeHandler","isHidden","readWriteApi","innerWidth","routeActionsToEvents","createEvent","eventRoutes","DID_DESTROY","DID_INIT","DID_THROW_MAX_FILES","DID_INIT_ITEM","DID_PREPARE_OUTPUT","DID_COMPLETE_ITEM_PROCESSING_ALL","DID_UPDATE_ITEMS","DID_ACTIVATE_ITEM","exposeEvent","detail","pond","dispatchEvent","CustomEvent","bubbles","cancelable","composed","filtered","prepareFile","removeFile","addFiles","sources","lastArgument","processFile","createOptionAPI","addFile","getFile","moveFile","processFiles","_len3","_key3","removeFiles","_len4","_key4","q","prepareFiles","browse","appendTo","replaceElement","restoreElement","isAttachedTo","createAppObject","customOptions","app","getAttributesAsObject","attributeMapping","attribute","attributeName","mapObject","propertyMap","selector","mapping","selectorRegExp","createApp$1","HTMLElement","^class$","^multiple$","^capture$","^webkitdirectory$","^server","^process","^revert","^fetch","^restore","^load","^type$","^files$","mergedOptions","attributeOptions","querySelectorAll","PRIVATE_METHODS","createAppAPI","replaceInString","replacements","createWorker","workerBlob","workerURL","URL","createObjectURL","worker","Worker","post","transferList","onmessage","postMessage","terminate","revokeObjectURL","loadImage","img","Image","renameFile","renamedFile","copyFile","registeredPlugins","createAppPlugin","plugin","additionalOptions","pluginOutline","views","operamini","CSS","navigator","userAgent","apps","OptionTypes","fps","painter","requestTick","cancelTick","setTimerType","performance","requestAnimationFrame","cancelAnimationFrame","delta","createPainter","updateOptionTypes","hook","indexToRemove","context","matchedHooks","newHooks","newHook","plugins","opts","factory","module","sizeMax","sizeMin","fileFilter","filesize","totalSizeMax","currentTotalSize","allowFileSizeValidation","maxFileSize","minFileSize","maxTotalFileSize","fileValidateSizeFilter","labelMinFileSizeExceeded","labelMinFileSize","labelMaxFileSizeExceeded","labelMaxFileSize","labelMaxTotalFileSizeExceeded","labelMaxTotalFileSize","isValidMimeType","acceptedTypes","userInputType","acceptedType","wildcard","mimeTypeGroup","wildcardGroup","mimeTypeMatchesWildCard","validateFile","typeDetector","getItemType","detectedType","validationResult","handleRejection","acceptedFileTypesMapped","acceptedFileType","allTypes","allButLastType","lastType","allowFileTypeValidation","labelFileTypeNotAllowed","fileValidateTypeLabelExpectedTypes","fileValidateTypeLabelExpectedTypesMap","fileValidateTypeDetectType","Marker","JPEG","APP1","EXIF","TIFF","Orientation","Unknown","getUint16","little","getUint32","shouldCorrect","testImage","naturalWidth","naturalHeight","isJPEG","FileReader","DataView","byteLength","marker","tags","readAsArrayBuffer","getImageOrientation","orientation","allowImageExifOrientation","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","_iterableToArrayLimit","_nonIterableRest","vectorMultiply","amount","createVector","vectorAdd","vectorRotate","radians","getMarkupValue","scalar","axis","setAttributes","IMAGE_FIT_STYLE","contain","cover","TEXT_ANCHOR","createShape","markup","CREATE_TYPE_ROUTES","image","shape","stroke-linejoin","setAttributeNS","ellipse","line","begin","UPDATE_TYPE_ROUTES","cx","cy","rx","ry","preserveAspectRatio","fit","fontSize","fontFamily","fontWeight","textAlign","font-weight","font-size","font-family","text-anchor","points","fill","d","x1","y1","x2","y2","lineDecoration","display","sqrt","vectorNormalize","arrowBeginRotationPoint","arrowBeginCenter","arrowBeginA","arrowBeginB","arrowEndRotationPoint","arrowEndCenter","arrowEndA","arrowEndB","updateMarkupByType","getMarkupRect","lineStyle","borderStyle","backgroundColor","fontColor","stroke","borderColor","lineColor","strokeWidth","borderWidth","lineWidth","lineCap","lineJoin","dashes","stroke-dasharray","getMarkupStyles","MARKUP_RECT","prepareMarkup","_markup","prev","curr","zIndex","sortMarkupByZIndex","createMarkupView","_","dirty","crop","resize","viewWidth","viewHeight","cropWidth","cropHeight","_size","outputWidth","outputHeight","outputFit","mode","outputUpscale","upscale","shouldUpscale","scalarWidth","scalarHeight","markupFilter","settings","createMarkupByType","createVector$1","vectorSubtract","vectorDistance","vectorDot","vectorDistanceSquared","getOffsetPointOnEdge","rotation","B","C","sinA","sinB","sinC","cosC","ratio","c","getImageRectZoomFactor","imageRect","cropRect","imageWidth","imageHeight","rotatedCropSize","w","h","hor","ver","tl","tr","bl","getRotatedRectSize","getCenteredCropRect","getCurrentCropSize","imageSize","zoom","canvasSize","canvasAspectRatio","imageAspectRatio","canvasHeight","imgWidth","imgHeight","calculateCanvasSize","canvasCenter","stage","shouldLimit","scaleToFit","stageZoomFactor","widthFloat","heightFloat","IMAGE_SCALE_SPRING_PROPS","createClipView","background","bitmap","createBitmapView","flip","horizontal","vertical","createImageCanvasWrapper","createMarkup","destroyMarkup","transparencyIndicator","translation","cropAspectRatio","imageView","SVG_MASK","checkedMyBases","SVGMaskUniqueId","BitmapWorker","createImageBitmap","ColorMatrixWorker","imageData","matrix","colorMatrix","m11","m12","m13","m14","m15","m21","m22","m23","m24","m25","m31","m32","m33","m34","m35","m41","m42","m43","m44","m45","r","g","buffer","1","2","3","4","5","6","7","8","createPreviewImage","canvas","ctx","getContext","fixImageOrientation","drawImage","isBitmap","calculateAverageColor","getImageData","averageColor","createImageWrapperView","OverlayView","hash","ImageView","clip","containerWidth","containerHeight","fixedPreviewHeight","minPreviewHeight","maxPreviewHeight","panelAspectRatio","clipHeight","clipWidth","createImageView","applyFilter","ImageData","createImageData","Uint8ClampedArray","cloneImageData","putImageData","pushImage","restoreOverlay","overlayShadow","overlayError","overlaySuccess","didThrowError","imageViewBin","_ref13","_ref14","DID_IMAGE_PREVIEW_DRAW","DID_IMAGE_PREVIEW_CONTAINER_CREATE","fileURL","getImageSize","DID_FINISH_CALCULATE_PREVIEWSIZE","loadPreviewFallback","crossOrigin","previewImageLoaded","exif","pixelDensityFactor","devicePixelRatio","zoomFactor","scaleFactor","previewImageRatio","previewContainerWidth","previewContainerHeight","previewImage","close","isFirefox","canCreateImageBitmap","imageBitmap","_imageView","shiftImage","updateImage","_ref15","viewsToRemove","removeImageView","fpAPI","imagePreviewView","viewAPI","didResizeView","shouldRescale","DID_RESIZE_ROOT","DID_STOP_RESIZE","isPreviewableImage","supportsCreateImageBitmap","maxPreviewFileSize","imagePreview","DID_IMAGE_PREVIEW_CALCULATE_SIZE","shouldDrawPreview","itemPanelAspectRatio","previewAspectRatio","previewHeightMax","previewHeight","rescaleItem","allowImagePreview","imagePreviewFilterItem","imagePreviewHeight","imagePreviewMinHeight","imagePreviewMaxHeight","imagePreviewMaxFileSize","imagePreviewZoomFactor","imagePreviewUpscale","imagePreviewMaxInstantPreviewFileSize","imagePreviewTransparencyIndicator","imagePreviewCalculateAverageImageColor","imagePreviewMarkupShow","imagePreviewMarkupFilter","isImage","allowCrop","updateCrop","newAspectRatio","currentCrop","newCrop","humanAspectRatio","allowImageCrop","imageCropAspectRatio"],"mappings":"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","file":"static/js/12.339f72e6.chunk.js","sourcesContent":["/*!\n * react-filepond v7.1.0\n * A handy FilePond adapter component for React\n * \n * Copyright (c) 2020 PQINA\n * https://pqina.nl/filepond\n * \n * Licensed under the MIT license.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FilePond = exports.FileStatus = exports.registerPlugin = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _filepond = require('filepond');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // Import required methods and styles from the FilePond module, should not need anything else\n// We need to be able to call the registerPlugin method directly so we can add plugins\n\n\nexports.registerPlugin = _filepond.registerPlugin;\nexports.FileStatus = _filepond.FileStatus; // Do this once\n\nvar isSupported = (0, _filepond.supported)(); // filtered methods\n\nvar filteredMethods = ['setOptions', 'on', 'off', 'onOnce', 'appendTo', 'insertAfter', 'insertBefore', 'isAttachedTo', 'replaceElement', 'restoreElement', 'destroy']; // The React <FilePond/> wrapper\n\nvar FilePond = exports.FilePond = function (_React$Component) {\n  _inherits(FilePond, _React$Component);\n\n  function FilePond(props) {\n    _classCallCheck(this, FilePond);\n\n    var _this = _possibleConstructorReturn(this, (FilePond.__proto__ || Object.getPrototypeOf(FilePond)).call(this, props));\n\n    _this.allowFilesSync = true;\n    return _this;\n  } // Will setup FilePond instance when mounted\n\n\n  _createClass(FilePond, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this; // exit here if not supported\n\n\n      if (!isSupported) return;\n      var options = Object.assign({}, this.props); // if onupdate files is defined, make sure setFiles does not cause race condition\n\n      if (options.onupdatefiles) {\n        var cb = options.onupdatefiles;\n\n        options.onupdatefiles = function (items) {\n          _this2.allowFilesSync = false;\n          cb(items);\n        };\n      } // Create our pond\n\n\n      this._pond = (0, _filepond.create)(this._element, options); // Reference pond methods to FilePond component instance\n\n      Object.keys(this._pond).filter(function (key) {\n        return !filteredMethods.includes(key);\n      }).forEach(function (key) {\n        _this2[key] = _this2._pond[key];\n      });\n    } // Will clean up FilePond instance when unmounted\n\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      // exit when no pond defined\n      if (!this._pond) return;\n\n      this._pond.destroy();\n\n      this.allowFilesSync = true;\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      if (!this.allowFilesSync) {\n        this.allowFilesSync = true;\n        return false;\n      }\n\n      return true;\n    } // Something changed\n\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      // exit when no pond defined\n      if (!this._pond) return;\n      var options = Object.assign({}, this.props); // this is only set onces, on didmount\n\n      delete options.onupdatefiles; // update pond options based on new props\n\n      this._pond.setOptions(options);\n    } // Renders basic element hook for FilePond to attach to\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props = this.props,\n          id = _props.id,\n          name = _props.name,\n          className = _props.className,\n          allowMultiple = _props.allowMultiple,\n          required = _props.required,\n          captureMethod = _props.captureMethod,\n          acceptedFileTypes = _props.acceptedFileTypes;\n      return (0, _react.createElement)('div', {\n        className: 'filepond--wrapper'\n      }, (0, _react.createElement)('input', {\n        type: 'file',\n        name: name,\n        id: id,\n        accept: acceptedFileTypes,\n        multiple: allowMultiple,\n        required: required,\n        className: className,\n        capture: captureMethod,\n        ref: function ref(element) {\n          return _this3._element = element;\n        }\n      }));\n    }\n  }]);\n\n  return FilePond;\n}(_react2.default.Component);","/*!\n * FilePond 4.25.1\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = global || self, factory(global.FilePond = {}));\n})(this, function (exports) {\n  'use strict';\n\n  var isNode = function isNode(value) {\n    return value instanceof HTMLElement;\n  };\n\n  var createStore = function createStore(initialState) {\n    var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : []; // internal state\n\n    var state = Object.assign({}, initialState); // contains all actions for next frame, is clear when actions are requested\n\n    var actionQueue = [];\n    var dispatchQueue = []; // returns a duplicate of the current state\n\n    var getState = function getState() {\n      return Object.assign({}, state);\n    }; // returns a duplicate of the actions array and clears the actions array\n\n\n    var processActionQueue = function processActionQueue() {\n      // create copy of actions queue\n      var queue = [].concat(actionQueue); // clear actions queue (we don't want no double actions)\n\n      actionQueue.length = 0;\n      return queue;\n    }; // processes actions that might block the main UI thread\n\n\n    var processDispatchQueue = function processDispatchQueue() {\n      // create copy of actions queue\n      var queue = [].concat(dispatchQueue); // clear actions queue (we don't want no double actions)\n\n      dispatchQueue.length = 0; // now dispatch these actions\n\n      queue.forEach(function (_ref) {\n        var type = _ref.type,\n            data = _ref.data;\n        dispatch(type, data);\n      });\n    }; // adds a new action, calls its handler and\n\n\n    var dispatch = function dispatch(type, data, isBlocking) {\n      // is blocking action (should never block if document is hidden)\n      if (isBlocking && !document.hidden) {\n        dispatchQueue.push({\n          type: type,\n          data: data\n        });\n        return;\n      } // if this action has a handler, handle the action\n\n\n      if (actionHandlers[type]) {\n        actionHandlers[type](data);\n      } // now add action\n\n\n      actionQueue.push({\n        type: type,\n        data: data\n      });\n    };\n\n    var query = function query(str) {\n      var _queryHandles;\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return queryHandles[str] ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args) : null;\n    };\n\n    var api = {\n      getState: getState,\n      processActionQueue: processActionQueue,\n      processDispatchQueue: processDispatchQueue,\n      dispatch: dispatch,\n      query: query\n    };\n    var queryHandles = {};\n    queries.forEach(function (query) {\n      queryHandles = Object.assign({}, query(state), {}, queryHandles);\n    });\n    var actionHandlers = {};\n    actions.forEach(function (action) {\n      actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);\n    });\n    return api;\n  };\n\n  var defineProperty = function defineProperty(obj, property, definition) {\n    if (typeof definition === 'function') {\n      obj[property] = definition;\n      return;\n    }\n\n    Object.defineProperty(obj, property, Object.assign({}, definition));\n  };\n\n  var forin = function forin(obj, cb) {\n    for (var key in obj) {\n      if (!obj.hasOwnProperty(key)) {\n        continue;\n      }\n\n      cb(key, obj[key]);\n    }\n  };\n\n  var createObject = function createObject(definition) {\n    var obj = {};\n    forin(definition, function (property) {\n      defineProperty(obj, property, definition[property]);\n    });\n    return obj;\n  };\n\n  var attr = function attr(node, name) {\n    var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    if (value === null) {\n      return node.getAttribute(name) || node.hasAttribute(name);\n    }\n\n    node.setAttribute(name, value);\n  };\n\n  var ns = 'http://www.w3.org/2000/svg';\n  var svgElements = ['svg', 'path']; // only svg elements used\n\n  var isSVGElement = function isSVGElement(tag) {\n    return svgElements.includes(tag);\n  };\n\n  var createElement = function createElement(tag, className) {\n    var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (typeof className === 'object') {\n      attributes = className;\n      className = null;\n    }\n\n    var element = isSVGElement(tag) ? document.createElementNS(ns, tag) : document.createElement(tag);\n\n    if (className) {\n      if (isSVGElement(tag)) {\n        attr(element, 'class', className);\n      } else {\n        element.className = className;\n      }\n    }\n\n    forin(attributes, function (name, value) {\n      attr(element, name, value);\n    });\n    return element;\n  };\n\n  var appendChild = function appendChild(parent) {\n    return function (child, index) {\n      if (typeof index !== 'undefined' && parent.children[index]) {\n        parent.insertBefore(child, parent.children[index]);\n      } else {\n        parent.appendChild(child);\n      }\n    };\n  };\n\n  var appendChildView = function appendChildView(parent, childViews) {\n    return function (view, index) {\n      if (typeof index !== 'undefined') {\n        childViews.splice(index, 0, view);\n      } else {\n        childViews.push(view);\n      }\n\n      return view;\n    };\n  };\n\n  var removeChildView = function removeChildView(parent, childViews) {\n    return function (view) {\n      // remove from child views\n      childViews.splice(childViews.indexOf(view), 1); // remove the element\n\n      if (view.element.parentNode) {\n        parent.removeChild(view.element);\n      }\n\n      return view;\n    };\n  };\n\n  var IS_BROWSER = function () {\n    return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  }();\n\n  var isBrowser = function isBrowser() {\n    return IS_BROWSER;\n  };\n\n  var testElement = isBrowser() ? createElement('svg') : {};\n  var getChildCount = 'children' in testElement ? function (el) {\n    return el.children.length;\n  } : function (el) {\n    return el.childNodes.length;\n  };\n\n  var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {\n    var left = offset[0] || elementRect.left;\n    var top = offset[1] || elementRect.top;\n    var right = left + elementRect.width;\n    var bottom = top + elementRect.height * (scale[1] || 1);\n    var rect = {\n      // the rectangle of the element itself\n      element: Object.assign({}, elementRect),\n      // the rectangle of the element expanded to contain its children, does not include any margins\n      inner: {\n        left: elementRect.left,\n        top: elementRect.top,\n        right: elementRect.right,\n        bottom: elementRect.bottom\n      },\n      // the rectangle of the element expanded to contain its children including own margin and child margins\n      // margins will be added after we've recalculated the size\n      outer: {\n        left: left,\n        top: top,\n        right: right,\n        bottom: bottom\n      }\n    }; // expand rect to fit all child rectangles\n\n    childViews.filter(function (childView) {\n      return !childView.isRectIgnored();\n    }).map(function (childView) {\n      return childView.rect;\n    }).forEach(function (childViewRect) {\n      expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n      expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n    }); // calculate inner width and height\n\n    calculateRectSize(rect.inner); // append additional margin (top and left margins are included in top and left automatically)\n\n    rect.outer.bottom += rect.element.marginBottom;\n    rect.outer.right += rect.element.marginRight; // calculate outer width and height\n\n    calculateRectSize(rect.outer);\n    return rect;\n  };\n\n  var expandRect = function expandRect(parent, child) {\n    // adjust for parent offset\n    child.top += parent.top;\n    child.right += parent.left;\n    child.bottom += parent.top;\n    child.left += parent.left;\n\n    if (child.bottom > parent.bottom) {\n      parent.bottom = child.bottom;\n    }\n\n    if (child.right > parent.right) {\n      parent.right = child.right;\n    }\n  };\n\n  var calculateRectSize = function calculateRectSize(rect) {\n    rect.width = rect.right - rect.left;\n    rect.height = rect.bottom - rect.top;\n  };\n\n  var isNumber = function isNumber(value) {\n    return typeof value === 'number';\n  };\n  /**\n   * Determines if position is at destination\n   * @param position\n   * @param destination\n   * @param velocity\n   * @param errorMargin\n   * @returns {boolean}\n   */\n\n\n  var thereYet = function thereYet(position, destination, velocity) {\n    var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;\n    return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;\n  };\n  /**\n   * Spring animation\n   */\n\n\n  var spring = // default options\n  function spring() // method definition\n  {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$stiffness = _ref.stiffness,\n        stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness,\n        _ref$damping = _ref.damping,\n        damping = _ref$damping === void 0 ? 0.75 : _ref$damping,\n        _ref$mass = _ref.mass,\n        mass = _ref$mass === void 0 ? 10 : _ref$mass;\n\n    var target = null;\n    var position = null;\n    var velocity = 0;\n    var resting = false; // updates spring state\n\n    var interpolate = function interpolate(ts, skipToEndState) {\n      // in rest, don't animate\n      if (resting) return; // need at least a target or position to do springy things\n\n      if (!(isNumber(target) && isNumber(position))) {\n        resting = true;\n        velocity = 0;\n        return;\n      } // calculate spring force\n\n\n      var f = -(position - target) * stiffness; // update velocity by adding force based on mass\n\n      velocity += f / mass; // update position by adding velocity\n\n      position += velocity; // slow down based on amount of damping\n\n      velocity *= damping; // we've arrived if we're near target and our velocity is near zero\n\n      if (thereYet(position, target, velocity) || skipToEndState) {\n        position = target;\n        velocity = 0;\n        resting = true; // we done\n\n        api.onupdate(position);\n        api.oncomplete(position);\n      } else {\n        // progress update\n        api.onupdate(position);\n      }\n    };\n    /**\n     * Set new target value\n     * @param value\n     */\n\n\n    var setTarget = function setTarget(value) {\n      // if currently has no position, set target and position to this value\n      if (isNumber(value) && !isNumber(position)) {\n        position = value;\n      } // next target value will not be animated to\n\n\n      if (target === null) {\n        target = value;\n        position = value;\n      } // let start moving to target\n\n\n      target = value; // already at target\n\n      if (position === target || typeof target === 'undefined') {\n        // now resting as target is current position, stop moving\n        resting = true;\n        velocity = 0; // done!\n\n        api.onupdate(position);\n        api.oncomplete(position);\n        return;\n      }\n\n      resting = false;\n    }; // need 'api' to call onupdate callback\n\n\n    var api = createObject({\n      interpolate: interpolate,\n      target: {\n        set: setTarget,\n        get: function get() {\n          return target;\n        }\n      },\n      resting: {\n        get: function get() {\n          return resting;\n        }\n      },\n      onupdate: function onupdate(value) {},\n      oncomplete: function oncomplete(value) {}\n    });\n    return api;\n  };\n\n  var easeLinear = function easeLinear(t) {\n    return t;\n  };\n\n  var easeInOutQuad = function easeInOutQuad(t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  };\n\n  var tween = // default values\n  function tween() // method definition\n  {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$duration = _ref.duration,\n        duration = _ref$duration === void 0 ? 500 : _ref$duration,\n        _ref$easing = _ref.easing,\n        easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,\n        _ref$delay = _ref.delay,\n        delay = _ref$delay === void 0 ? 0 : _ref$delay;\n\n    var start = null;\n    var t;\n    var p;\n    var resting = true;\n    var reverse = false;\n    var target = null;\n\n    var interpolate = function interpolate(ts, skipToEndState) {\n      if (resting || target === null) return;\n\n      if (start === null) {\n        start = ts;\n      }\n\n      if (ts - start < delay) return;\n      t = ts - start - delay;\n\n      if (t >= duration || skipToEndState) {\n        t = 1;\n        p = reverse ? 0 : 1;\n        api.onupdate(p * target);\n        api.oncomplete(p * target);\n        resting = true;\n      } else {\n        p = t / duration;\n        api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n      }\n    }; // need 'api' to call onupdate callback\n\n\n    var api = createObject({\n      interpolate: interpolate,\n      target: {\n        get: function get() {\n          return reverse ? 0 : target;\n        },\n        set: function set(value) {\n          // is initial value\n          if (target === null) {\n            target = value;\n            api.onupdate(value);\n            api.oncomplete(value);\n            return;\n          } // want to tween to a smaller value and have a current value\n\n\n          if (value < target) {\n            target = 1;\n            reverse = true;\n          } else {\n            // not tweening to a smaller value\n            reverse = false;\n            target = value;\n          } // let's go!\n\n\n          resting = false;\n          start = null;\n        }\n      },\n      resting: {\n        get: function get() {\n          return resting;\n        }\n      },\n      onupdate: function onupdate(value) {},\n      oncomplete: function oncomplete(value) {}\n    });\n    return api;\n  };\n\n  var animator = {\n    spring: spring,\n    tween: tween\n  };\n  /*\n                       { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n                       { translation: { type: 'spring', ... }, ... }\n                       { translation: { x: { type: 'spring', ... } } }\n                      */\n\n  var createAnimator = function createAnimator(definition, category, property) {\n    // default is single definition\n    // we check if transform is set, if so, we check if property is set\n    var def = definition[category] && typeof definition[category][property] === 'object' ? definition[category][property] : definition[category] || definition;\n    var type = typeof def === 'string' ? def : def.type;\n    var props = typeof def === 'object' ? Object.assign({}, def) : {};\n    return animator[type] ? animator[type](props) : null;\n  };\n\n  var addGetSet = function addGetSet(keys, obj, props) {\n    var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    obj = Array.isArray(obj) ? obj : [obj];\n    obj.forEach(function (o) {\n      keys.forEach(function (key) {\n        var name = key;\n\n        var getter = function getter() {\n          return props[key];\n        };\n\n        var setter = function setter(value) {\n          return props[key] = value;\n        };\n\n        if (typeof key === 'object') {\n          name = key.key;\n          getter = key.getter || getter;\n          setter = key.setter || setter;\n        }\n\n        if (o[name] && !overwrite) {\n          return;\n        }\n\n        o[name] = {\n          get: getter,\n          set: setter\n        };\n      });\n    });\n  }; // add to state,\n  // add getters and setters to internal and external api (if not set)\n  // setup animators\n\n\n  var animations = function animations(_ref) {\n    var mixinConfig = _ref.mixinConfig,\n        viewProps = _ref.viewProps,\n        viewInternalAPI = _ref.viewInternalAPI,\n        viewExternalAPI = _ref.viewExternalAPI; // initial properties\n\n    var initialProps = Object.assign({}, viewProps); // list of all active animations\n\n    var animations = []; // setup animators\n\n    forin(mixinConfig, function (property, animation) {\n      var animator = createAnimator(animation);\n\n      if (!animator) {\n        return;\n      } // when the animator updates, update the view state value\n\n\n      animator.onupdate = function (value) {\n        viewProps[property] = value;\n      }; // set animator target\n\n\n      animator.target = initialProps[property]; // when value is set, set the animator target value\n\n      var prop = {\n        key: property,\n        setter: function setter(value) {\n          // if already at target, we done!\n          if (animator.target === value) {\n            return;\n          }\n\n          animator.target = value;\n        },\n        getter: function getter() {\n          return viewProps[property];\n        }\n      }; // add getters and setters\n\n      addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true); // add it to the list for easy updating from the _write method\n\n      animations.push(animator);\n    }); // expose internal write api\n\n    return {\n      write: function write(ts) {\n        var skipToEndState = document.hidden;\n        var resting = true;\n        animations.forEach(function (animation) {\n          if (!animation.resting) resting = false;\n          animation.interpolate(ts, skipToEndState);\n        });\n        return resting;\n      },\n      destroy: function destroy() {}\n    };\n  };\n\n  var addEvent = function addEvent(element) {\n    return function (type, fn) {\n      element.addEventListener(type, fn);\n    };\n  };\n\n  var removeEvent = function removeEvent(element) {\n    return function (type, fn) {\n      element.removeEventListener(type, fn);\n    };\n  }; // mixin\n\n\n  var listeners = function listeners(_ref) {\n    var mixinConfig = _ref.mixinConfig,\n        viewProps = _ref.viewProps,\n        viewInternalAPI = _ref.viewInternalAPI,\n        viewExternalAPI = _ref.viewExternalAPI,\n        viewState = _ref.viewState,\n        view = _ref.view;\n    var events = [];\n    var add = addEvent(view.element);\n    var remove = removeEvent(view.element);\n\n    viewExternalAPI.on = function (type, fn) {\n      events.push({\n        type: type,\n        fn: fn\n      });\n      add(type, fn);\n    };\n\n    viewExternalAPI.off = function (type, fn) {\n      events.splice(events.findIndex(function (event) {\n        return event.type === type && event.fn === fn;\n      }), 1);\n      remove(type, fn);\n    };\n\n    return {\n      write: function write() {\n        // not busy\n        return true;\n      },\n      destroy: function destroy() {\n        events.forEach(function (event) {\n          remove(event.type, event.fn);\n        });\n      }\n    };\n  }; // add to external api and link to props\n\n\n  var apis = function apis(_ref) {\n    var mixinConfig = _ref.mixinConfig,\n        viewProps = _ref.viewProps,\n        viewExternalAPI = _ref.viewExternalAPI;\n    addGetSet(mixinConfig, viewExternalAPI, viewProps);\n  };\n\n  var isDefined = function isDefined(value) {\n    return value != null;\n  }; // add to state,\n  // add getters and setters to internal and external api (if not set)\n  // set initial state based on props in viewProps\n  // apply as transforms each frame\n\n\n  var defaults = {\n    opacity: 1,\n    scaleX: 1,\n    scaleY: 1,\n    translateX: 0,\n    translateY: 0,\n    rotateX: 0,\n    rotateY: 0,\n    rotateZ: 0,\n    originX: 0,\n    originY: 0\n  };\n\n  var styles = function styles(_ref) {\n    var mixinConfig = _ref.mixinConfig,\n        viewProps = _ref.viewProps,\n        viewInternalAPI = _ref.viewInternalAPI,\n        viewExternalAPI = _ref.viewExternalAPI,\n        view = _ref.view; // initial props\n\n    var initialProps = Object.assign({}, viewProps); // current props\n\n    var currentProps = {}; // we will add those properties to the external API and link them to the viewState\n\n    addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps); // override rect on internal and external rect getter so it takes in account transforms\n\n    var getOffset = function getOffset() {\n      return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n    };\n\n    var getScale = function getScale() {\n      return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n    };\n\n    var getRect = function getRect() {\n      return view.rect ? getViewRect(view.rect, view.childViews, getOffset(), getScale()) : null;\n    };\n\n    viewInternalAPI.rect = {\n      get: getRect\n    };\n    viewExternalAPI.rect = {\n      get: getRect\n    }; // apply view props\n\n    mixinConfig.forEach(function (key) {\n      viewProps[key] = typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];\n    }); // expose api\n\n    return {\n      write: function write() {\n        // see if props have changed\n        if (!propsHaveChanged(currentProps, viewProps)) {\n          return;\n        } // moves element to correct position on screen\n\n\n        applyStyles(view.element, viewProps); // store new transforms\n\n        Object.assign(currentProps, Object.assign({}, viewProps)); // no longer busy\n\n        return true;\n      },\n      destroy: function destroy() {}\n    };\n  };\n\n  var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {\n    // different amount of keys\n    if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n      return true;\n    } // lets analyze the individual props\n\n\n    for (var prop in newProps) {\n      if (newProps[prop] !== currentProps[prop]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  var applyStyles = function applyStyles(element, _ref2) {\n    var opacity = _ref2.opacity,\n        perspective = _ref2.perspective,\n        translateX = _ref2.translateX,\n        translateY = _ref2.translateY,\n        scaleX = _ref2.scaleX,\n        scaleY = _ref2.scaleY,\n        rotateX = _ref2.rotateX,\n        rotateY = _ref2.rotateY,\n        rotateZ = _ref2.rotateZ,\n        originX = _ref2.originX,\n        originY = _ref2.originY,\n        width = _ref2.width,\n        height = _ref2.height;\n    var transforms = '';\n    var styles = ''; // handle transform origin\n\n    if (isDefined(originX) || isDefined(originY)) {\n      styles += 'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';\n    } // transform order is relevant\n    // 0. perspective\n\n\n    if (isDefined(perspective)) {\n      transforms += 'perspective(' + perspective + 'px) ';\n    } // 1. translate\n\n\n    if (isDefined(translateX) || isDefined(translateY)) {\n      transforms += 'translate3d(' + (translateX || 0) + 'px, ' + (translateY || 0) + 'px, 0) ';\n    } // 2. scale\n\n\n    if (isDefined(scaleX) || isDefined(scaleY)) {\n      transforms += 'scale3d(' + (isDefined(scaleX) ? scaleX : 1) + ', ' + (isDefined(scaleY) ? scaleY : 1) + ', 1) ';\n    } // 3. rotate\n\n\n    if (isDefined(rotateZ)) {\n      transforms += 'rotateZ(' + rotateZ + 'rad) ';\n    }\n\n    if (isDefined(rotateX)) {\n      transforms += 'rotateX(' + rotateX + 'rad) ';\n    }\n\n    if (isDefined(rotateY)) {\n      transforms += 'rotateY(' + rotateY + 'rad) ';\n    } // add transforms\n\n\n    if (transforms.length) {\n      styles += 'transform:' + transforms + ';';\n    } // add opacity\n\n\n    if (isDefined(opacity)) {\n      styles += 'opacity:' + opacity + ';'; // if we reach zero, we make the element inaccessible\n\n      if (opacity === 0) {\n        styles += 'visibility:hidden;';\n      } // if we're below 100% opacity this element can't be clicked\n\n\n      if (opacity < 1) {\n        styles += 'pointer-events:none;';\n      }\n    } // add height\n\n\n    if (isDefined(height)) {\n      styles += 'height:' + height + 'px;';\n    } // add width\n\n\n    if (isDefined(width)) {\n      styles += 'width:' + width + 'px;';\n    } // apply styles\n\n\n    var elementCurrentStyle = element.elementCurrentStyle || ''; // if new styles does not match current styles, lets update!\n\n    if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {\n      element.style.cssText = styles; // store current styles so we can compare them to new styles later on\n      // _not_ getting the style value is faster\n\n      element.elementCurrentStyle = styles;\n    }\n  };\n\n  var Mixins = {\n    styles: styles,\n    listeners: listeners,\n    animations: animations,\n    apis: apis\n  };\n\n  var updateRect = function updateRect() {\n    var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!element.layoutCalculated) {\n      rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n      rect.marginTop = parseInt(style.marginTop, 10) || 0;\n      rect.marginRight = parseInt(style.marginRight, 10) || 0;\n      rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n      rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n      element.layoutCalculated = true;\n    }\n\n    rect.left = element.offsetLeft || 0;\n    rect.top = element.offsetTop || 0;\n    rect.width = element.offsetWidth || 0;\n    rect.height = element.offsetHeight || 0;\n    rect.right = rect.left + rect.width;\n    rect.bottom = rect.top + rect.height;\n    rect.scrollTop = element.scrollTop;\n    rect.hidden = element.offsetParent === null;\n    return rect;\n  };\n\n  var createView = // default view definition\n  function createView() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$tag = _ref.tag,\n        tag = _ref$tag === void 0 ? 'div' : _ref$tag,\n        _ref$name = _ref.name,\n        name = _ref$name === void 0 ? null : _ref$name,\n        _ref$attributes = _ref.attributes,\n        attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n        _ref$read = _ref.read,\n        read = _ref$read === void 0 ? function () {} : _ref$read,\n        _ref$write = _ref.write,\n        write = _ref$write === void 0 ? function () {} : _ref$write,\n        _ref$create = _ref.create,\n        create = _ref$create === void 0 ? function () {} : _ref$create,\n        _ref$destroy = _ref.destroy,\n        destroy = _ref$destroy === void 0 ? function () {} : _ref$destroy,\n        _ref$filterFrameActio = _ref.filterFrameActionsForChild,\n        filterFrameActionsForChild = _ref$filterFrameActio === void 0 ? function (child, actions) {\n      return actions;\n    } : _ref$filterFrameActio,\n        _ref$didCreateView = _ref.didCreateView,\n        didCreateView = _ref$didCreateView === void 0 ? function () {} : _ref$didCreateView,\n        _ref$didWriteView = _ref.didWriteView,\n        didWriteView = _ref$didWriteView === void 0 ? function () {} : _ref$didWriteView,\n        _ref$ignoreRect = _ref.ignoreRect,\n        ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect,\n        _ref$ignoreRectUpdate = _ref.ignoreRectUpdate,\n        ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate,\n        _ref$mixins = _ref.mixins,\n        mixins = _ref$mixins === void 0 ? [] : _ref$mixins;\n\n    return function ( // each view requires reference to store\n    store) {\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {}; // root element should not be changed\n\n      var element = createElement(tag, 'filepond--' + name, attributes); // style reference should also not be changed\n\n      var style = window.getComputedStyle(element, null); // element rectangle\n\n      var rect = updateRect();\n      var frameRect = null; // rest state\n\n      var isResting = false; // pretty self explanatory\n\n      var childViews = []; // loaded mixins\n\n      var activeMixins = []; // references to created children\n\n      var ref = {}; // state used for each instance\n\n      var state = {}; // list of writers that will be called to update this view\n\n      var writers = [write // default writer\n      ];\n      var readers = [read // default reader\n      ];\n      var destroyers = [destroy // default destroy\n      ]; // core view methods\n\n      var getElement = function getElement() {\n        return element;\n      };\n\n      var getChildViews = function getChildViews() {\n        return childViews.concat();\n      };\n\n      var getReference = function getReference() {\n        return ref;\n      };\n\n      var createChildView = function createChildView(store) {\n        return function (view, props) {\n          return view(store, props);\n        };\n      };\n\n      var getRect = function getRect() {\n        if (frameRect) {\n          return frameRect;\n        }\n\n        frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n        return frameRect;\n      };\n\n      var getStyle = function getStyle() {\n        return style;\n      };\n      /**\n       * Read data from DOM\n       * @private\n       */\n\n\n      var _read = function _read() {\n        frameRect = null; // read child views\n\n        childViews.forEach(function (child) {\n          return child._read();\n        });\n        var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n\n        if (shouldUpdate) {\n          updateRect(rect, element, style);\n        } // readers\n\n\n        var api = {\n          root: internalAPI,\n          props: props,\n          rect: rect\n        };\n        readers.forEach(function (reader) {\n          return reader(api);\n        });\n      };\n      /**\n       * Write data to DOM\n       * @private\n       */\n\n\n      var _write = function _write(ts, frameActions, shouldOptimize) {\n        // if no actions, we assume that the view is resting\n        var resting = frameActions.length === 0; // writers\n\n        writers.forEach(function (writer) {\n          var writerResting = writer({\n            props: props,\n            root: internalAPI,\n            actions: frameActions,\n            timestamp: ts,\n            shouldOptimize: shouldOptimize\n          });\n\n          if (writerResting === false) {\n            resting = false;\n          }\n        }); // run mixins\n\n        activeMixins.forEach(function (mixin) {\n          // if one of the mixins is still busy after write operation, we are not resting\n          var mixinResting = mixin.write(ts);\n\n          if (mixinResting === false) {\n            resting = false;\n          }\n        }); // updates child views that are currently attached to the DOM\n\n        childViews.filter(function (child) {\n          return !!child.element.parentNode;\n        }).forEach(function (child) {\n          // if a child view is not resting, we are not resting\n          var childResting = child._write(ts, filterFrameActionsForChild(child, frameActions), shouldOptimize);\n\n          if (!childResting) {\n            resting = false;\n          }\n        }); // append new elements to DOM and update those\n\n        childViews //.filter(child => !child.element.parentNode)\n        .forEach(function (child, index) {\n          // skip\n          if (child.element.parentNode) {\n            return;\n          } // append to DOM\n\n\n          internalAPI.appendChild(child.element, index); // call read (need to know the size of these elements)\n\n          child._read(); // re-call write\n\n\n          child._write(ts, filterFrameActionsForChild(child, frameActions), shouldOptimize); // we just added somthing to the dom, no rest\n\n\n          resting = false;\n        }); // update resting state\n\n        isResting = resting;\n        didWriteView({\n          props: props,\n          root: internalAPI,\n          actions: frameActions,\n          timestamp: ts\n        }); // let parent know if we are resting\n\n        return resting;\n      };\n\n      var _destroy = function _destroy() {\n        activeMixins.forEach(function (mixin) {\n          return mixin.destroy();\n        });\n        destroyers.forEach(function (destroyer) {\n          destroyer({\n            root: internalAPI,\n            props: props\n          });\n        });\n        childViews.forEach(function (child) {\n          return child._destroy();\n        });\n      }; // sharedAPI\n\n\n      var sharedAPIDefinition = {\n        element: {\n          get: getElement\n        },\n        style: {\n          get: getStyle\n        },\n        childViews: {\n          get: getChildViews\n        }\n      }; // private API definition\n\n      var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n        rect: {\n          get: getRect\n        },\n        // access to custom children references\n        ref: {\n          get: getReference\n        },\n        // dom modifiers\n        is: function is(needle) {\n          return name === needle;\n        },\n        appendChild: appendChild(element),\n        createChildView: createChildView(store),\n        linkView: function linkView(view) {\n          childViews.push(view);\n          return view;\n        },\n        unlinkView: function unlinkView(view) {\n          childViews.splice(childViews.indexOf(view), 1);\n        },\n        appendChildView: appendChildView(element, childViews),\n        removeChildView: removeChildView(element, childViews),\n        registerWriter: function registerWriter(writer) {\n          return writers.push(writer);\n        },\n        registerReader: function registerReader(reader) {\n          return readers.push(reader);\n        },\n        registerDestroyer: function registerDestroyer(destroyer) {\n          return destroyers.push(destroyer);\n        },\n        invalidateLayout: function invalidateLayout() {\n          return element.layoutCalculated = false;\n        },\n        // access to data store\n        dispatch: store.dispatch,\n        query: store.query\n      }); // public view API methods\n\n      var externalAPIDefinition = {\n        element: {\n          get: getElement\n        },\n        childViews: {\n          get: getChildViews\n        },\n        rect: {\n          get: getRect\n        },\n        resting: {\n          get: function get() {\n            return isResting;\n          }\n        },\n        isRectIgnored: function isRectIgnored() {\n          return ignoreRect;\n        },\n        _read: _read,\n        _write: _write,\n        _destroy: _destroy\n      }; // mixin API methods\n\n      var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n        rect: {\n          get: function get() {\n            return rect;\n          }\n        }\n      }); // add mixin functionality\n\n      Object.keys(mixins).sort(function (a, b) {\n        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n        if (a === 'styles') {\n          return 1;\n        } else if (b === 'styles') {\n          return -1;\n        }\n\n        return 0;\n      }).forEach(function (key) {\n        var mixinAPI = Mixins[key]({\n          mixinConfig: mixins[key],\n          viewProps: props,\n          viewState: state,\n          viewInternalAPI: internalAPIDefinition,\n          viewExternalAPI: externalAPIDefinition,\n          view: createObject(mixinAPIDefinition)\n        });\n\n        if (mixinAPI) {\n          activeMixins.push(mixinAPI);\n        }\n      }); // construct private api\n\n      var internalAPI = createObject(internalAPIDefinition); // create the view\n\n      create({\n        root: internalAPI,\n        props: props\n      }); // append created child views to root node\n\n      var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n\n      childViews.forEach(function (child, index) {\n        internalAPI.appendChild(child.element, childCount + index);\n      }); // call did create\n\n      didCreateView(internalAPI); // expose public api\n\n      return createObject(externalAPIDefinition);\n    };\n  };\n\n  var createPainter = function createPainter(read, write) {\n    var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n    var name = '__framePainter'; // set global painter\n\n    if (window[name]) {\n      window[name].readers.push(read);\n      window[name].writers.push(write);\n      return;\n    }\n\n    window[name] = {\n      readers: [read],\n      writers: [write]\n    };\n    var painter = window[name];\n    var interval = 1000 / fps;\n    var last = null;\n    var id = null;\n    var requestTick = null;\n    var cancelTick = null;\n\n    var setTimerType = function setTimerType() {\n      if (document.hidden) {\n        requestTick = function requestTick() {\n          return window.setTimeout(function () {\n            return tick(performance.now());\n          }, interval);\n        };\n\n        cancelTick = function cancelTick() {\n          return window.clearTimeout(id);\n        };\n      } else {\n        requestTick = function requestTick() {\n          return window.requestAnimationFrame(tick);\n        };\n\n        cancelTick = function cancelTick() {\n          return window.cancelAnimationFrame(id);\n        };\n      }\n    };\n\n    document.addEventListener('visibilitychange', function () {\n      if (cancelTick) cancelTick();\n      setTimerType();\n      tick(performance.now());\n    });\n\n    var tick = function tick(ts) {\n      // queue next tick\n      id = requestTick(tick); // limit fps\n\n      if (!last) {\n        last = ts;\n      }\n\n      var delta = ts - last;\n\n      if (delta <= interval) {\n        // skip frame\n        return;\n      } // align next frame\n\n\n      last = ts - delta % interval; // update view\n\n      painter.readers.forEach(function (read) {\n        return read();\n      });\n      painter.writers.forEach(function (write) {\n        return write(ts);\n      });\n    };\n\n    setTimerType();\n    tick(performance.now());\n    return {\n      pause: function pause() {\n        cancelTick(id);\n      }\n    };\n  };\n\n  var createRoute = function createRoute(routes, fn) {\n    return function (_ref) {\n      var root = _ref.root,\n          props = _ref.props,\n          _ref$actions = _ref.actions,\n          actions = _ref$actions === void 0 ? [] : _ref$actions,\n          timestamp = _ref.timestamp,\n          shouldOptimize = _ref.shouldOptimize;\n      actions.filter(function (action) {\n        return routes[action.type];\n      }).forEach(function (action) {\n        return routes[action.type]({\n          root: root,\n          props: props,\n          action: action.data,\n          timestamp: timestamp,\n          shouldOptimize: shouldOptimize\n        });\n      });\n\n      if (fn) {\n        fn({\n          root: root,\n          props: props,\n          actions: actions,\n          timestamp: timestamp,\n          shouldOptimize: shouldOptimize\n        });\n      }\n    };\n  };\n\n  var insertBefore = function insertBefore(newNode, referenceNode) {\n    return referenceNode.parentNode.insertBefore(newNode, referenceNode);\n  };\n\n  var insertAfter = function insertAfter(newNode, referenceNode) {\n    return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n  };\n\n  var isArray = function isArray(value) {\n    return Array.isArray(value);\n  };\n\n  var isEmpty = function isEmpty(value) {\n    return value == null;\n  };\n\n  var trim = function trim(str) {\n    return str.trim();\n  };\n\n  var toString = function toString(value) {\n    return '' + value;\n  };\n\n  var toArray = function toArray(value) {\n    var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n\n    if (isEmpty(value)) {\n      return [];\n    }\n\n    if (isArray(value)) {\n      return value;\n    }\n\n    return toString(value).split(splitter).map(trim).filter(function (str) {\n      return str.length;\n    });\n  };\n\n  var isBoolean = function isBoolean(value) {\n    return typeof value === 'boolean';\n  };\n\n  var toBoolean = function toBoolean(value) {\n    return isBoolean(value) ? value : value === 'true';\n  };\n\n  var isString = function isString(value) {\n    return typeof value === 'string';\n  };\n\n  var toNumber = function toNumber(value) {\n    return isNumber(value) ? value : isString(value) ? toString(value).replace(/[a-z]+/gi, '') : 0;\n  };\n\n  var toInt = function toInt(value) {\n    return parseInt(toNumber(value), 10);\n  };\n\n  var toFloat = function toFloat(value) {\n    return parseFloat(toNumber(value));\n  };\n\n  var isInt = function isInt(value) {\n    return isNumber(value) && isFinite(value) && Math.floor(value) === value;\n  };\n\n  var toBytes = function toBytes(value) {\n    var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000; // is in bytes\n\n    if (isInt(value)) {\n      return value;\n    } // is natural file size\n\n\n    var naturalFileSize = toString(value).trim(); // if is value in megabytes\n\n    if (/MB$/i.test(naturalFileSize)) {\n      naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n      return toInt(naturalFileSize) * base * base;\n    } // if is value in kilobytes\n\n\n    if (/KB/i.test(naturalFileSize)) {\n      naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n      return toInt(naturalFileSize) * base;\n    }\n\n    return toInt(naturalFileSize);\n  };\n\n  var isFunction = function isFunction(value) {\n    return typeof value === 'function';\n  };\n\n  var toFunctionReference = function toFunctionReference(string) {\n    var ref = self;\n    var levels = string.split('.');\n    var level = null;\n\n    while (level = levels.shift()) {\n      ref = ref[level];\n\n      if (!ref) {\n        return null;\n      }\n    }\n\n    return ref;\n  };\n\n  var methods = {\n    process: 'POST',\n    patch: 'PATCH',\n    revert: 'DELETE',\n    fetch: 'GET',\n    restore: 'GET',\n    load: 'GET'\n  };\n\n  var createServerAPI = function createServerAPI(outline) {\n    var api = {};\n    api.url = isString(outline) ? outline : outline.url || '';\n    api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n    api.headers = outline.headers ? outline.headers : {};\n    forin(methods, function (key) {\n      api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n    }); // special treatment for remove\n\n    api.remove = outline.remove || null; // remove generic headers from api object\n\n    delete api.headers;\n    return api;\n  };\n\n  var createAction = function createAction(name, outline, method, timeout, headers) {\n    // is explicitely set to null so disable\n    if (outline === null) {\n      return null;\n    } // if is custom function, done! Dev handles everything.\n\n\n    if (typeof outline === 'function') {\n      return outline;\n    } // build action object\n\n\n    var action = {\n      url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',\n      method: method,\n      headers: headers,\n      withCredentials: false,\n      timeout: timeout,\n      onload: null,\n      ondata: null,\n      onerror: null\n    }; // is a single url\n\n    if (isString(outline)) {\n      action.url = outline;\n      return action;\n    } // overwrite\n\n\n    Object.assign(action, outline); // see if should reformat headers;\n\n    if (isString(action.headers)) {\n      var parts = action.headers.split(/:(.+)/);\n      action.headers = {\n        header: parts[0],\n        value: parts[1]\n      };\n    } // if is bool withCredentials\n\n\n    action.withCredentials = toBoolean(action.withCredentials);\n    return action;\n  };\n\n  var toServerAPI = function toServerAPI(value) {\n    return createServerAPI(value);\n  };\n\n  var isNull = function isNull(value) {\n    return value === null;\n  };\n\n  var isObject = function isObject(value) {\n    return typeof value === 'object' && value !== null;\n  };\n\n  var isAPI = function isAPI(value) {\n    return isObject(value) && isString(value.url) && isObject(value.process) && isObject(value.revert) && isObject(value.restore) && isObject(value.fetch);\n  };\n\n  var getType = function getType(value) {\n    if (isArray(value)) {\n      return 'array';\n    }\n\n    if (isNull(value)) {\n      return 'null';\n    }\n\n    if (isInt(value)) {\n      return 'int';\n    }\n\n    if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n      return 'bytes';\n    }\n\n    if (isAPI(value)) {\n      return 'api';\n    }\n\n    return typeof value;\n  };\n\n  var replaceSingleQuotes = function replaceSingleQuotes(str) {\n    return str.replace(/{\\s*'/g, '{\"').replace(/'\\s*}/g, '\"}').replace(/'\\s*:/g, '\":').replace(/:\\s*'/g, ':\"').replace(/,\\s*'/g, ',\"').replace(/'\\s*,/g, '\",');\n  };\n\n  var conversionTable = {\n    array: toArray,\n    boolean: toBoolean,\n    int: function int(value) {\n      return getType(value) === 'bytes' ? toBytes(value) : toInt(value);\n    },\n    number: toFloat,\n    float: toFloat,\n    bytes: toBytes,\n    string: function string(value) {\n      return isFunction(value) ? value : toString(value);\n    },\n    function: function _function(value) {\n      return toFunctionReference(value);\n    },\n    serverapi: toServerAPI,\n    object: function object(value) {\n      try {\n        return JSON.parse(replaceSingleQuotes(value));\n      } catch (e) {\n        return null;\n      }\n    }\n  };\n\n  var convertTo = function convertTo(value, type) {\n    return conversionTable[type](value);\n  };\n\n  var getValueByType = function getValueByType(newValue, defaultValue, valueType) {\n    // can always assign default value\n    if (newValue === defaultValue) {\n      return newValue;\n    } // get the type of the new value\n\n\n    var newValueType = getType(newValue); // is valid type?\n\n    if (newValueType !== valueType) {\n      // is string input, let's attempt to convert\n      var convertedValue = convertTo(newValue, valueType); // what is the type now\n\n      newValueType = getType(convertedValue); // no valid conversions found\n\n      if (convertedValue === null) {\n        throw 'Trying to assign value with incorrect type to \"' + option + '\", allowed type: \"' + valueType + '\"';\n      } else {\n        newValue = convertedValue;\n      }\n    } // assign new value\n\n\n    return newValue;\n  };\n\n  var createOption = function createOption(defaultValue, valueType) {\n    var currentValue = defaultValue;\n    return {\n      enumerable: true,\n      get: function get() {\n        return currentValue;\n      },\n      set: function set(newValue) {\n        currentValue = getValueByType(newValue, defaultValue, valueType);\n      }\n    };\n  };\n\n  var createOptions = function createOptions(options) {\n    var obj = {};\n    forin(options, function (prop) {\n      var optionDefinition = options[prop];\n      obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n    });\n    return createObject(obj);\n  };\n\n  var createInitialState = function createInitialState(options) {\n    return {\n      // model\n      items: [],\n      // timeout used for calling update items\n      listUpdateTimeout: null,\n      // timeout used for stacking metadata updates\n      itemUpdateTimeout: null,\n      // queue of items waiting to be processed\n      processingQueue: [],\n      // options\n      options: createOptions(options)\n    };\n  };\n\n  var fromCamels = function fromCamels(string) {\n    var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n    return string.split(/(?=[A-Z])/).map(function (part) {\n      return part.toLowerCase();\n    }).join(separator);\n  };\n\n  var createOptionAPI = function createOptionAPI(store, options) {\n    var obj = {};\n    forin(options, function (key) {\n      obj[key] = {\n        get: function get() {\n          return store.getState().options[key];\n        },\n        set: function set(value) {\n          store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n            value: value\n          });\n        }\n      };\n    });\n    return obj;\n  };\n\n  var createOptionActions = function createOptionActions(options) {\n    return function (dispatch, query, state) {\n      var obj = {};\n      forin(options, function (key) {\n        var name = fromCamels(key, '_').toUpperCase();\n\n        obj['SET_' + name] = function (action) {\n          try {\n            state.options[key] = action.value;\n          } catch (e) {} // nope, failed\n          // we successfully set the value of this option\n\n\n          dispatch('DID_SET_' + name, {\n            value: state.options[key]\n          });\n        };\n      });\n      return obj;\n    };\n  };\n\n  var createOptionQueries = function createOptionQueries(options) {\n    return function (state) {\n      var obj = {};\n      forin(options, function (key) {\n        obj['GET_' + fromCamels(key, '_').toUpperCase()] = function (action) {\n          return state.options[key];\n        };\n      });\n      return obj;\n    };\n  };\n\n  var InteractionMethod = {\n    API: 1,\n    DROP: 2,\n    BROWSE: 3,\n    PASTE: 4,\n    NONE: 5\n  };\n\n  var getUniqueId = function getUniqueId() {\n    return Math.random().toString(36).substr(2, 9);\n  };\n\n  function _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var REACT_ELEMENT_TYPE;\n\n  function _jsx(type, props, key, children) {\n    if (!REACT_ELEMENT_TYPE) {\n      REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element') || 0xeac7;\n    }\n\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {\n        children: void 0\n      };\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = new Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  }\n\n  function _asyncIterator(iterable) {\n    var method;\n\n    if (typeof Symbol !== 'undefined') {\n      if (Symbol.asyncIterator) {\n        method = iterable[Symbol.asyncIterator];\n        if (method != null) return method.call(iterable);\n      }\n\n      if (Symbol.iterator) {\n        method = iterable[Symbol.iterator];\n        if (method != null) return method.call(iterable);\n      }\n    }\n\n    throw new TypeError('Object is not async iterable');\n  }\n\n  function _AwaitValue(value) {\n    this.wrapped = value;\n  }\n\n  function _AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n        var wrappedAwait = value instanceof _AwaitValue;\n        Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n          if (wrappedAwait) {\n            resume('next', arg);\n            return;\n          }\n\n          settle(result.done ? 'return' : 'normal', arg);\n        }, function (err) {\n          resume('throw', err);\n        });\n      } catch (err) {\n        settle('throw', err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case 'return':\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case 'throw':\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== 'function') {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n    _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  _AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke('next', arg);\n  };\n\n  _AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke('throw', arg);\n  };\n\n  _AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke('return', arg);\n  };\n\n  function _wrapAsyncGenerator(fn) {\n    return function () {\n      return new _AsyncGenerator(fn.apply(this, arguments));\n    };\n  }\n\n  function _awaitAsyncGenerator(value) {\n    return new _AwaitValue(value);\n  }\n\n  function _asyncGeneratorDelegate(inner, awaitWrap) {\n    var iter = {},\n        waiting = false;\n\n    function pump(key, value) {\n      waiting = true;\n      value = new Promise(function (resolve) {\n        resolve(inner[key](value));\n      });\n      return {\n        done: false,\n        value: awaitWrap(value)\n      };\n    }\n\n    if (typeof Symbol === 'function' && Symbol.iterator) {\n      iter[Symbol.iterator] = function () {\n        return this;\n      };\n    }\n\n    iter.next = function (value) {\n      if (waiting) {\n        waiting = false;\n        return value;\n      }\n\n      return pump('next', value);\n    };\n\n    if (typeof inner.throw === 'function') {\n      iter.throw = function (value) {\n        if (waiting) {\n          waiting = false;\n          throw value;\n        }\n\n        return pump('throw', value);\n      };\n    }\n\n    if (typeof inner.return === 'function') {\n      iter.return = function (value) {\n        return pump('return', value);\n      };\n    }\n\n    return iter;\n  }\n\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n\n  function _asyncToGenerator(fn) {\n    return function () {\n      var self = this,\n          args = arguments;\n      return new Promise(function (resolve, reject) {\n        var gen = fn.apply(self, args);\n\n        function _next(value) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n        }\n\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n        }\n\n        _next(undefined);\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineEnumerableProperties(obj, descs) {\n    for (var key in descs) {\n      var desc = descs[key];\n      desc.configurable = desc.enumerable = true;\n      if ('value' in desc) desc.writable = true;\n      Object.defineProperty(obj, key, desc);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n      for (var i = 0; i < objectSymbols.length; i++) {\n        var sym = objectSymbols[i];\n        var desc = descs[sym];\n        desc.configurable = desc.enumerable = true;\n        if ('value' in desc) desc.writable = true;\n        Object.defineProperty(obj, sym, desc);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defaults(obj, defaults) {\n    var keys = Object.getOwnPropertyNames(defaults);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n      if (value && value.configurable && obj[key] === undefined) {\n        Object.defineProperty(obj, key, value);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n\n      ownKeys.forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(source, true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(source).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function');\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === 'function') return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf('[native code]') !== -1;\n  }\n\n  function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !_isNativeFunction(Class)) return Class;\n\n      if (typeof Class !== 'function') {\n        throw new TypeError('Super expression must either be null or a function');\n      }\n\n      if (typeof _cache !== 'undefined') {\n        if (_cache.has(Class)) return _cache.get(Class);\n\n        _cache.set(Class, Wrapper);\n      }\n\n      function Wrapper() {\n        return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n      }\n\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      return _setPrototypeOf(Wrapper, Class);\n    };\n\n    return _wrapNativeSuper(Class);\n  }\n\n  function _instanceof(left, right) {\n    if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {\n      return !!right[Symbol.hasInstance](left);\n    } else {\n      return left instanceof right;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n            if (desc.get || desc.set) {\n              Object.defineProperty(newObj, key, desc);\n            } else {\n              newObj[key] = obj[key];\n            }\n          }\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _newArrowCheck(innerThis, boundThis) {\n    if (innerThis !== boundThis) {\n      throw new TypeError('Cannot instantiate an arrow function');\n    }\n  }\n\n  function _objectDestructuringEmpty(obj) {\n    if (obj == null) throw new TypeError('Cannot destructure undefined');\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === 'object' || typeof call === 'function')) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function set(target, property, value, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.set) {\n      set = Reflect.set;\n    } else {\n      set = function set(target, property, value, receiver) {\n        var base = _superPropBase(target, property);\n\n        var desc;\n\n        if (base) {\n          desc = Object.getOwnPropertyDescriptor(base, property);\n\n          if (desc.set) {\n            desc.set.call(receiver, value);\n            return true;\n          } else if (!desc.writable) {\n            return false;\n          }\n        }\n\n        desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n        if (desc) {\n          if (!desc.writable) {\n            return false;\n          }\n\n          desc.value = value;\n          Object.defineProperty(receiver, property, desc);\n        } else {\n          _defineProperty(receiver, property, value);\n        }\n\n        return true;\n      };\n    }\n\n    return set(target, property, value, receiver);\n  }\n\n  function _set(target, property, value, receiver, isStrict) {\n    var s = set(target, property, value, receiver || target);\n\n    if (!s && isStrict) {\n      throw new Error('failed to set property');\n    }\n\n    return value;\n  }\n\n  function _taggedTemplateLiteral(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    return Object.freeze(Object.defineProperties(strings, {\n      raw: {\n        value: Object.freeze(raw)\n      }\n    }));\n  }\n\n  function _taggedTemplateLiteralLoose(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    strings.raw = raw;\n    return strings;\n  }\n\n  function _temporalRef(val, name) {\n    if (val === _temporalUndefined) {\n      throw new ReferenceError(name + ' is not defined - temporal dead zone');\n    } else {\n      return val;\n    }\n  }\n\n  function _readOnlyError(name) {\n    throw new Error('\"' + name + '\" is read-only');\n  }\n\n  function _classNameTDZError(name) {\n    throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n  }\n\n  var _temporalUndefined = {};\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _slicedToArrayLoose(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n  }\n\n  function _toArray(arr) {\n    return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === '[object Arguments]') return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i['return'] != null) _i['return']();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _iterableToArrayLimitLoose(arr, i) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance');\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError('Invalid attempt to destructure non-iterable instance');\n  }\n\n  function _skipFirstGeneratorNext(fn) {\n    return function () {\n      var it = fn.apply(this, arguments);\n      it.next();\n      return it;\n    };\n  }\n\n  function _toPrimitive(input, hint) {\n    if (typeof input !== 'object' || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || 'default');\n      if (typeof res !== 'object') return res;\n      throw new TypeError('@@toPrimitive must return a primitive value.');\n    }\n\n    return (hint === 'string' ? String : Number)(input);\n  }\n\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, 'string');\n\n    return typeof key === 'symbol' ? key : String(key);\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n  }\n\n  function _initializerDefineProperty(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n    });\n  }\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object.keys(descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object.defineProperty(target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var id = 0;\n\n  function _classPrivateFieldLooseKey(name) {\n    return '__private_' + id++ + '_' + name;\n  }\n\n  function _classPrivateFieldLooseBase(receiver, privateKey) {\n    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n      throw new TypeError('attempted to use private field on non-instance');\n    }\n\n    return receiver;\n  }\n\n  function _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = privateMap.get(receiver);\n\n    if (!descriptor) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n\n    return descriptor.value;\n  }\n\n  function _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = privateMap.get(receiver);\n\n    if (!descriptor) {\n      throw new TypeError('attempted to set private field on non-instance');\n    }\n\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError('attempted to set read only private field');\n      }\n\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n\n  function _classPrivateFieldDestructureSet(receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to set private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.set) {\n      if (!('__destrObj' in descriptor)) {\n        descriptor.__destrObj = {\n          set value(v) {\n            descriptor.set.call(receiver, v);\n          }\n\n        };\n      }\n\n      return descriptor.__destrObj;\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError('attempted to set read only private field');\n      }\n\n      return descriptor;\n    }\n  }\n\n  function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return descriptor.value;\n  }\n\n  function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    if (!descriptor.writable) {\n      throw new TypeError('attempted to set read only private field');\n    }\n\n    descriptor.value = value;\n    return value;\n  }\n\n  function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return method;\n  }\n\n  function _classStaticPrivateMethodSet() {\n    throw new TypeError('attempted to set read only static private field');\n  }\n\n  function _decorate(decorators, factory, superClass, mixins) {\n    var api = _getDecoratorsApi();\n\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        api = mixins[i](api);\n      }\n    }\n\n    var r = factory(function initialize(O) {\n      api.initializeInstanceElements(O, decorated.elements);\n    }, superClass);\n    var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators);\n    api.initializeClassElements(r.F, decorated.elements);\n    return api.runClassFinishers(r.F, decorated.finishers);\n  }\n\n  function _getDecoratorsApi() {\n    _getDecoratorsApi = function _getDecoratorsApi() {\n      return api;\n    };\n\n    var api = {\n      elementsDefinitionOrder: [['method'], ['field']],\n      initializeInstanceElements: function initializeInstanceElements(O, elements) {\n        ['method', 'field'].forEach(function (kind) {\n          elements.forEach(function (element) {\n            if (element.kind === kind && element.placement === 'own') {\n              this.defineClassElement(O, element);\n            }\n          }, this);\n        }, this);\n      },\n      initializeClassElements: function initializeClassElements(F, elements) {\n        var proto = F.prototype;\n        ['method', 'field'].forEach(function (kind) {\n          elements.forEach(function (element) {\n            var placement = element.placement;\n\n            if (element.kind === kind && (placement === 'static' || placement === 'prototype')) {\n              var receiver = placement === 'static' ? F : proto;\n              this.defineClassElement(receiver, element);\n            }\n          }, this);\n        }, this);\n      },\n      defineClassElement: function defineClassElement(receiver, element) {\n        var descriptor = element.descriptor;\n\n        if (element.kind === 'field') {\n          var initializer = element.initializer;\n          descriptor = {\n            enumerable: descriptor.enumerable,\n            writable: descriptor.writable,\n            configurable: descriptor.configurable,\n            value: initializer === void 0 ? void 0 : initializer.call(receiver)\n          };\n        }\n\n        Object.defineProperty(receiver, element.key, descriptor);\n      },\n      decorateClass: function decorateClass(elements, decorators) {\n        var newElements = [];\n        var finishers = [];\n        var placements = {\n          static: [],\n          prototype: [],\n          own: []\n        };\n        elements.forEach(function (element) {\n          this.addElementPlacement(element, placements);\n        }, this);\n        elements.forEach(function (element) {\n          if (!_hasDecorators(element)) return newElements.push(element);\n          var elementFinishersExtras = this.decorateElement(element, placements);\n          newElements.push(elementFinishersExtras.element);\n          newElements.push.apply(newElements, elementFinishersExtras.extras);\n          finishers.push.apply(finishers, elementFinishersExtras.finishers);\n        }, this);\n\n        if (!decorators) {\n          return {\n            elements: newElements,\n            finishers: finishers\n          };\n        }\n\n        var result = this.decorateConstructor(newElements, decorators);\n        finishers.push.apply(finishers, result.finishers);\n        result.finishers = finishers;\n        return result;\n      },\n      addElementPlacement: function addElementPlacement(element, placements, silent) {\n        var keys = placements[element.placement];\n\n        if (!silent && keys.indexOf(element.key) !== -1) {\n          throw new TypeError('Duplicated element (' + element.key + ')');\n        }\n\n        keys.push(element.key);\n      },\n      decorateElement: function decorateElement(element, placements) {\n        var extras = [];\n        var finishers = [];\n\n        for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n          var keys = placements[element.placement];\n          keys.splice(keys.indexOf(element.key), 1);\n          var elementObject = this.fromElementDescriptor(element);\n          var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject);\n          element = elementFinisherExtras.element;\n          this.addElementPlacement(element, placements);\n\n          if (elementFinisherExtras.finisher) {\n            finishers.push(elementFinisherExtras.finisher);\n          }\n\n          var newExtras = elementFinisherExtras.extras;\n\n          if (newExtras) {\n            for (var j = 0; j < newExtras.length; j++) {\n              this.addElementPlacement(newExtras[j], placements);\n            }\n\n            extras.push.apply(extras, newExtras);\n          }\n        }\n\n        return {\n          element: element,\n          finishers: finishers,\n          extras: extras\n        };\n      },\n      decorateConstructor: function decorateConstructor(elements, decorators) {\n        var finishers = [];\n\n        for (var i = decorators.length - 1; i >= 0; i--) {\n          var obj = this.fromClassDescriptor(elements);\n          var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj);\n\n          if (elementsAndFinisher.finisher !== undefined) {\n            finishers.push(elementsAndFinisher.finisher);\n          }\n\n          if (elementsAndFinisher.elements !== undefined) {\n            elements = elementsAndFinisher.elements;\n\n            for (var j = 0; j < elements.length - 1; j++) {\n              for (var k = j + 1; k < elements.length; k++) {\n                if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) {\n                  throw new TypeError('Duplicated element (' + elements[j].key + ')');\n                }\n              }\n            }\n          }\n        }\n\n        return {\n          elements: elements,\n          finishers: finishers\n        };\n      },\n      fromElementDescriptor: function fromElementDescriptor(element) {\n        var obj = {\n          kind: element.kind,\n          key: element.key,\n          placement: element.placement,\n          descriptor: element.descriptor\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        if (element.kind === 'field') obj.initializer = element.initializer;\n        return obj;\n      },\n      toElementDescriptors: function toElementDescriptors(elementObjects) {\n        if (elementObjects === undefined) return;\n        return _toArray(elementObjects).map(function (elementObject) {\n          var element = this.toElementDescriptor(elementObject);\n          this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n          this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n          return element;\n        }, this);\n      },\n      toElementDescriptor: function toElementDescriptor(elementObject) {\n        var kind = String(elementObject.kind);\n\n        if (kind !== 'method' && kind !== 'field') {\n          throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"');\n        }\n\n        var key = _toPropertyKey(elementObject.key);\n\n        var placement = String(elementObject.placement);\n\n        if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {\n          throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"');\n        }\n\n        var descriptor = elementObject.descriptor;\n        this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n        var element = {\n          kind: kind,\n          key: key,\n          placement: placement,\n          descriptor: Object.assign({}, descriptor)\n        };\n\n        if (kind !== 'field') {\n          this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n        } else {\n          this.disallowProperty(descriptor, 'get', 'The property descriptor of a field descriptor');\n          this.disallowProperty(descriptor, 'set', 'The property descriptor of a field descriptor');\n          this.disallowProperty(descriptor, 'value', 'The property descriptor of a field descriptor');\n          element.initializer = elementObject.initializer;\n        }\n\n        return element;\n      },\n      toElementFinisherExtras: function toElementFinisherExtras(elementObject) {\n        var element = this.toElementDescriptor(elementObject);\n\n        var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n        var extras = this.toElementDescriptors(elementObject.extras);\n        return {\n          element: element,\n          finisher: finisher,\n          extras: extras\n        };\n      },\n      fromClassDescriptor: function fromClassDescriptor(elements) {\n        var obj = {\n          kind: 'class',\n          elements: elements.map(this.fromElementDescriptor, this)\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        return obj;\n      },\n      toClassDescriptor: function toClassDescriptor(obj) {\n        var kind = String(obj.kind);\n\n        if (kind !== 'class') {\n          throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"');\n        }\n\n        this.disallowProperty(obj, 'key', 'A class descriptor');\n        this.disallowProperty(obj, 'placement', 'A class descriptor');\n        this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n        this.disallowProperty(obj, 'initializer', 'A class descriptor');\n        this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n        var finisher = _optionalCallableProperty(obj, 'finisher');\n\n        var elements = this.toElementDescriptors(obj.elements);\n        return {\n          elements: elements,\n          finisher: finisher\n        };\n      },\n      runClassFinishers: function runClassFinishers(constructor, finishers) {\n        for (var i = 0; i < finishers.length; i++) {\n          var newConstructor = (0, finishers[i])(constructor);\n\n          if (newConstructor !== undefined) {\n            if (typeof newConstructor !== 'function') {\n              throw new TypeError('Finishers must return a constructor.');\n            }\n\n            constructor = newConstructor;\n          }\n        }\n\n        return constructor;\n      },\n      disallowProperty: function disallowProperty(obj, name, objectType) {\n        if (obj[name] !== undefined) {\n          throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n        }\n      }\n    };\n    return api;\n  }\n\n  function _createElementDescriptor(def) {\n    var key = _toPropertyKey(def.key);\n\n    var descriptor;\n\n    if (def.kind === 'method') {\n      descriptor = {\n        value: def.value,\n        writable: true,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'get') {\n      descriptor = {\n        get: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'set') {\n      descriptor = {\n        set: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'field') {\n      descriptor = {\n        configurable: true,\n        writable: true,\n        enumerable: true\n      };\n    }\n\n    var element = {\n      kind: def.kind === 'field' ? 'field' : 'method',\n      key: key,\n      placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',\n      descriptor: descriptor\n    };\n    if (def.decorators) element.decorators = def.decorators;\n    if (def.kind === 'field') element.initializer = def.value;\n    return element;\n  }\n\n  function _coalesceGetterSetter(element, other) {\n    if (element.descriptor.get !== undefined) {\n      other.descriptor.get = element.descriptor.get;\n    } else {\n      other.descriptor.set = element.descriptor.set;\n    }\n  }\n\n  function _coalesceClassElements(elements) {\n    var newElements = [];\n\n    var isSameElement = function isSameElement(other) {\n      return other.kind === 'method' && other.key === element.key && other.placement === element.placement;\n    };\n\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var other;\n\n      if (element.kind === 'method' && (other = newElements.find(isSameElement))) {\n        if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n          if (_hasDecorators(element) || _hasDecorators(other)) {\n            throw new ReferenceError('Duplicated methods (' + element.key + \") can't be decorated.\");\n          }\n\n          other.descriptor = element.descriptor;\n        } else {\n          if (_hasDecorators(element)) {\n            if (_hasDecorators(other)) {\n              throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + 'the same property (' + element.key + ').');\n            }\n\n            other.decorators = element.decorators;\n          }\n\n          _coalesceGetterSetter(element, other);\n        }\n      } else {\n        newElements.push(element);\n      }\n    }\n\n    return newElements;\n  }\n\n  function _hasDecorators(element) {\n    return element.decorators && element.decorators.length;\n  }\n\n  function _isDataDescriptor(desc) {\n    return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n  }\n\n  function _optionalCallableProperty(obj, name) {\n    var value = obj[name];\n\n    if (value !== undefined && typeof value !== 'function') {\n      throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n    }\n\n    return value;\n  }\n\n  function _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    return fn;\n  }\n\n  function _classPrivateMethodSet() {\n    throw new TypeError('attempted to reassign private method');\n  }\n\n  function _wrapRegExp(re, groups) {\n    _wrapRegExp = function _wrapRegExp(re, groups) {\n      return new BabelRegExp(re, groups);\n    };\n\n    var _RegExp = _wrapNativeSuper(RegExp);\n\n    var _super = RegExp.prototype;\n\n    var _groups = new WeakMap();\n\n    function BabelRegExp(re, groups) {\n      var _this = _RegExp.call(this, re);\n\n      _groups.set(_this, groups);\n\n      return _this;\n    }\n\n    _inherits(BabelRegExp, _RegExp);\n\n    BabelRegExp.prototype.exec = function (str) {\n      var result = _super.exec.call(this, str);\n\n      if (result) result.groups = buildGroups(result, this);\n      return result;\n    };\n\n    BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n      if (typeof substitution === 'string') {\n        var groups = _groups.get(this);\n\n        return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n          return '$' + groups[name];\n        }));\n      } else if (typeof substitution === 'function') {\n        var _this = this;\n\n        return _super[Symbol.replace].call(this, str, function () {\n          var args = [];\n          args.push.apply(args, arguments);\n\n          if (typeof args[args.length - 1] !== 'object') {\n            args.push(buildGroups(args, _this));\n          }\n\n          return substitution.apply(this, args);\n        });\n      } else {\n        return _super[Symbol.replace].call(this, str, substitution);\n      }\n    };\n\n    function buildGroups(result, re) {\n      var g = _groups.get(re);\n\n      return Object.keys(g).reduce(function (groups, name) {\n        groups[name] = result[g[name]];\n        return groups;\n      }, Object.create(null));\n    }\n\n    return _wrapRegExp.apply(this, arguments);\n  }\n\n  var arrayRemove = function arrayRemove(arr, index) {\n    return arr.splice(index, 1);\n  };\n\n  var run = function run(cb, sync) {\n    if (sync) {\n      cb();\n    } else if (document.hidden) {\n      Promise.resolve(1).then(cb);\n    } else {\n      setTimeout(cb, 0);\n    }\n  };\n\n  var on = function on() {\n    var listeners = [];\n\n    var off = function off(event, cb) {\n      arrayRemove(listeners, listeners.findIndex(function (listener) {\n        return listener.event === event && (listener.cb === cb || !cb);\n      }));\n    };\n\n    var _fire = function fire(event, args, sync) {\n      listeners.filter(function (listener) {\n        return listener.event === event;\n      }).map(function (listener) {\n        return listener.cb;\n      }).forEach(function (cb) {\n        return run(function () {\n          return cb.apply(void 0, _toConsumableArray(args));\n        }, sync);\n      });\n    };\n\n    return {\n      fireSync: function fireSync(event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n\n        _fire(event, args, true);\n      },\n      fire: function fire(event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n\n        _fire(event, args, false);\n      },\n      on: function on(event, cb) {\n        listeners.push({\n          event: event,\n          cb: cb\n        });\n      },\n      onOnce: function onOnce(event, _cb) {\n        listeners.push({\n          event: event,\n          cb: function cb() {\n            off(event, _cb);\n\n            _cb.apply(void 0, arguments);\n          }\n        });\n      },\n      off: off\n    };\n  };\n\n  var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(src, target, excluded) {\n    Object.getOwnPropertyNames(src).filter(function (property) {\n      return !excluded.includes(property);\n    }).forEach(function (key) {\n      return Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(src, key));\n    });\n  };\n\n  var PRIVATE = ['fire', 'process', 'revert', 'load', 'on', 'off', 'onOnce', 'retryLoad', 'extend', 'archive', 'archived', 'release', 'released', 'requestProcessing', 'freeze'];\n\n  var createItemAPI = function createItemAPI(item) {\n    var api = {};\n    copyObjectPropertiesToObject(item, api, PRIVATE);\n    return api;\n  };\n\n  var removeReleasedItems = function removeReleasedItems(items) {\n    items.forEach(function (item, index) {\n      if (item.released) {\n        arrayRemove(items, index);\n      }\n    });\n  };\n\n  var ItemStatus = {\n    INIT: 1,\n    IDLE: 2,\n    PROCESSING_QUEUED: 9,\n    PROCESSING: 3,\n    PROCESSING_COMPLETE: 5,\n    PROCESSING_ERROR: 6,\n    PROCESSING_REVERT_ERROR: 10,\n    LOADING: 7,\n    LOAD_ERROR: 8\n  };\n  var FileOrigin = {\n    INPUT: 1,\n    LIMBO: 2,\n    LOCAL: 3\n  };\n\n  var getNonNumeric = function getNonNumeric(str) {\n    return /[^0-9]+/.exec(str);\n  };\n\n  var getDecimalSeparator = function getDecimalSeparator() {\n    return getNonNumeric(1.1.toLocaleString())[0];\n  };\n\n  var getThousandsSeparator = function getThousandsSeparator() {\n    // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n    // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n    var decimalSeparator = getDecimalSeparator();\n    var thousandsStringWithSeparator = 1000.0.toLocaleString();\n    var thousandsStringWithoutSeparator = 1000.0.toString();\n\n    if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n      return getNonNumeric(thousandsStringWithSeparator)[0];\n    }\n\n    return decimalSeparator === '.' ? ',' : '.';\n  };\n\n  var Type = {\n    BOOLEAN: 'boolean',\n    INT: 'int',\n    NUMBER: 'number',\n    STRING: 'string',\n    ARRAY: 'array',\n    OBJECT: 'object',\n    FUNCTION: 'function',\n    ACTION: 'action',\n    SERVER_API: 'serverapi',\n    REGEX: 'regex'\n  }; // all registered filters\n\n  var filters = []; // loops over matching filters and passes options to each filter, returning the mapped results\n\n  var applyFilterChain = function applyFilterChain(key, value, utils) {\n    return new Promise(function (resolve, reject) {\n      // find matching filters for this key\n      var matchingFilters = filters.filter(function (f) {\n        return f.key === key;\n      }).map(function (f) {\n        return f.cb;\n      }); // resolve now\n\n      if (matchingFilters.length === 0) {\n        resolve(value);\n        return;\n      } // first filter to kick things of\n\n\n      var initialFilter = matchingFilters.shift(); // chain filters\n\n      matchingFilters.reduce( // loop over promises passing value to next promise\n      function (current, next) {\n        return current.then(function (value) {\n          return next(value, utils);\n        });\n      }, // call initial filter, will return a promise\n      initialFilter(value, utils) // all executed\n      ).then(function (value) {\n        return resolve(value);\n      }).catch(function (error) {\n        return reject(error);\n      });\n    });\n  };\n\n  var applyFilters = function applyFilters(key, value, utils) {\n    return filters.filter(function (f) {\n      return f.key === key;\n    }).map(function (f) {\n      return f.cb(value, utils);\n    });\n  }; // adds a new filter to the list\n\n\n  var addFilter = function addFilter(key, cb) {\n    return filters.push({\n      key: key,\n      cb: cb\n    });\n  };\n\n  var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {\n    return Object.assign(defaultOptions, additionalOptions);\n  };\n\n  var getOptions = function getOptions() {\n    return Object.assign({}, defaultOptions);\n  };\n\n  var setOptions = function setOptions(opts) {\n    forin(opts, function (key, value) {\n      // key does not exist, so this option cannot be set\n      if (!defaultOptions[key]) {\n        return;\n      }\n\n      defaultOptions[key][0] = getValueByType(value, defaultOptions[key][0], defaultOptions[key][1]);\n    });\n  }; // default options on app\n\n\n  var defaultOptions = {\n    // the id to add to the root element\n    id: [null, Type.STRING],\n    // input field name to use\n    name: ['filepond', Type.STRING],\n    // disable the field\n    disabled: [false, Type.BOOLEAN],\n    // classname to put on wrapper\n    className: [null, Type.STRING],\n    // is the field required\n    required: [false, Type.BOOLEAN],\n    // Allow media capture when value is set\n    captureMethod: [null, Type.STRING],\n    // - \"camera\", \"microphone\" or \"camcorder\",\n    // - Does not work with multiple on apple devices\n    // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n    // sync `acceptedFileTypes` property with `accept` attribute\n    allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n    // Feature toggles\n    allowDrop: [true, Type.BOOLEAN],\n    // Allow dropping of files\n    allowBrowse: [true, Type.BOOLEAN],\n    // Allow browsing the file system\n    allowPaste: [true, Type.BOOLEAN],\n    // Allow pasting files\n    allowMultiple: [false, Type.BOOLEAN],\n    // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)\n    allowReplace: [true, Type.BOOLEAN],\n    // Allow dropping a file on other file to replace it (only works when multiple is set to false)\n    allowRevert: [true, Type.BOOLEAN],\n    // Allows user to revert file upload\n    allowRemove: [true, Type.BOOLEAN],\n    // Allow user to remove a file\n    allowProcess: [true, Type.BOOLEAN],\n    // Allows user to process a file, when set to false, this removes the file upload button\n    allowReorder: [false, Type.BOOLEAN],\n    // Allow reordering of files\n    allowDirectoriesOnly: [false, Type.BOOLEAN],\n    // Allow only selecting directories with browse (no support for filtering dnd at this point)\n    // Revert mode\n    forceRevert: [false, Type.BOOLEAN],\n    // Set to 'force' to require the file to be reverted before removal\n    // Input requirements\n    maxFiles: [null, Type.INT],\n    // Max number of files\n    checkValidity: [false, Type.BOOLEAN],\n    // Enables custom validity messages\n    // Where to put file\n    itemInsertLocationFreedom: [true, Type.BOOLEAN],\n    // Set to false to always add items to begin or end of list\n    itemInsertLocation: ['before', Type.STRING],\n    // Default index in list to add items that have been dropped at the top of the list\n    itemInsertInterval: [75, Type.INT],\n    // Drag 'n Drop related\n    dropOnPage: [false, Type.BOOLEAN],\n    // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)\n    dropOnElement: [true, Type.BOOLEAN],\n    // Drop needs to happen on element (set to false to also load drops outside of Up)\n    dropValidation: [false, Type.BOOLEAN],\n    // Enable or disable validating files on drop\n    ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n    // Upload related\n    instantUpload: [true, Type.BOOLEAN],\n    // Should upload files immediately on drop\n    maxParallelUploads: [2, Type.INT],\n    // Maximum files to upload in parallel\n    // Chunks\n    chunkUploads: [false, Type.BOOLEAN],\n    // Enable chunked uploads\n    chunkForce: [false, Type.BOOLEAN],\n    // Force use of chunk uploads even for files smaller than chunk size\n    chunkSize: [5000000, Type.INT],\n    // Size of chunks (5MB default)\n    chunkRetryDelays: [[500, 1000, 3000], Type.Array],\n    // Amount of times to retry upload of a chunk when it fails\n    // The server api end points to use for uploading (see docs)\n    server: [null, Type.SERVER_API],\n    // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n    fileSizeBase: [1000, Type.INT],\n    // Labels and status messages\n    labelDecimalSeparator: [getDecimalSeparator(), Type.STRING],\n    // Default is locale separator\n    labelThousandsSeparator: [getThousandsSeparator(), Type.STRING],\n    // Default is locale separator\n    labelIdle: ['Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>', Type.STRING],\n    labelInvalidField: ['Field contains invalid files', Type.STRING],\n    labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n    labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n    labelFileCountSingular: ['file in list', Type.STRING],\n    labelFileCountPlural: ['files in list', Type.STRING],\n    labelFileLoading: ['Loading', Type.STRING],\n    labelFileAdded: ['Added', Type.STRING],\n    // assistive only\n    labelFileLoadError: ['Error during load', Type.STRING],\n    labelFileRemoved: ['Removed', Type.STRING],\n    // assistive only\n    labelFileRemoveError: ['Error during remove', Type.STRING],\n    labelFileProcessing: ['Uploading', Type.STRING],\n    labelFileProcessingComplete: ['Upload complete', Type.STRING],\n    labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n    labelFileProcessingError: ['Error during upload', Type.STRING],\n    labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n    labelTapToCancel: ['tap to cancel', Type.STRING],\n    labelTapToRetry: ['tap to retry', Type.STRING],\n    labelTapToUndo: ['tap to undo', Type.STRING],\n    labelButtonRemoveItem: ['Remove', Type.STRING],\n    labelButtonAbortItemLoad: ['Abort', Type.STRING],\n    labelButtonRetryItemLoad: ['Retry', Type.STRING],\n    labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n    labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n    labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n    labelButtonProcessItem: ['Upload', Type.STRING],\n    // make sure width and height plus viewpox are even numbers so icons are nicely centered\n    iconRemove: ['<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>', Type.STRING],\n    iconProcess: ['<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>', Type.STRING],\n    iconRetry: ['<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>', Type.STRING],\n    iconUndo: ['<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>', Type.STRING],\n    iconDone: ['<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>', Type.STRING],\n    // event handlers\n    oninit: [null, Type.FUNCTION],\n    onwarning: [null, Type.FUNCTION],\n    onerror: [null, Type.FUNCTION],\n    onactivatefile: [null, Type.FUNCTION],\n    oninitfile: [null, Type.FUNCTION],\n    onaddfilestart: [null, Type.FUNCTION],\n    onaddfileprogress: [null, Type.FUNCTION],\n    onaddfile: [null, Type.FUNCTION],\n    onprocessfilestart: [null, Type.FUNCTION],\n    onprocessfileprogress: [null, Type.FUNCTION],\n    onprocessfileabort: [null, Type.FUNCTION],\n    onprocessfilerevert: [null, Type.FUNCTION],\n    onprocessfile: [null, Type.FUNCTION],\n    onprocessfiles: [null, Type.FUNCTION],\n    onremovefile: [null, Type.FUNCTION],\n    onpreparefile: [null, Type.FUNCTION],\n    onupdatefiles: [null, Type.FUNCTION],\n    onreorderfiles: [null, Type.FUNCTION],\n    // hooks\n    beforeDropFile: [null, Type.FUNCTION],\n    beforeAddFile: [null, Type.FUNCTION],\n    beforeRemoveFile: [null, Type.FUNCTION],\n    beforePrepareFile: [null, Type.FUNCTION],\n    // styles\n    stylePanelLayout: [null, Type.STRING],\n    // null 'integrated', 'compact', 'circle'\n    stylePanelAspectRatio: [null, Type.STRING],\n    // null or '3:2' or 1\n    styleItemPanelAspectRatio: [null, Type.STRING],\n    styleButtonRemoveItemPosition: ['left', Type.STRING],\n    styleButtonProcessItemPosition: ['right', Type.STRING],\n    styleLoadIndicatorPosition: ['right', Type.STRING],\n    styleProgressIndicatorPosition: ['right', Type.STRING],\n    styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n    // custom initial files array\n    files: [[], Type.ARRAY],\n    // show support by displaying credits\n    credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY]\n  };\n\n  var getItemByQuery = function getItemByQuery(items, query) {\n    // just return first index\n    if (isEmpty(query)) {\n      return items[0] || null;\n    } // query is index\n\n\n    if (isInt(query)) {\n      return items[query] || null;\n    } // if query is item, get the id\n\n\n    if (typeof query === 'object') {\n      query = query.id;\n    } // assume query is a string and return item by id\n\n\n    return items.find(function (item) {\n      return item.id === query;\n    }) || null;\n  };\n\n  var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {\n    if (isEmpty(aspectRatio)) {\n      return aspectRatio;\n    }\n\n    if (/:/.test(aspectRatio)) {\n      var parts = aspectRatio.split(':');\n      return parts[1] / parts[0];\n    }\n\n    return parseFloat(aspectRatio);\n  };\n\n  var getActiveItems = function getActiveItems(items) {\n    return items.filter(function (item) {\n      return !item.archived;\n    });\n  };\n\n  var Status = {\n    EMPTY: 0,\n    IDLE: 1,\n    // waiting\n    ERROR: 2,\n    // a file is in error state\n    BUSY: 3,\n    // busy processing or loading\n    READY: 4 // all files uploaded\n\n  };\n  var ITEM_ERROR = [ItemStatus.LOAD_ERROR, ItemStatus.PROCESSING_ERROR, ItemStatus.PROCESSING_REVERT_ERROR];\n  var ITEM_BUSY = [ItemStatus.LOADING, ItemStatus.PROCESSING, ItemStatus.PROCESSING_QUEUED, ItemStatus.INIT];\n  var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n\n  var isItemInErrorState = function isItemInErrorState(item) {\n    return ITEM_ERROR.includes(item.status);\n  };\n\n  var isItemInBusyState = function isItemInBusyState(item) {\n    return ITEM_BUSY.includes(item.status);\n  };\n\n  var isItemInReadyState = function isItemInReadyState(item) {\n    return ITEM_READY.includes(item.status);\n  };\n\n  var queries = function queries(state) {\n    return {\n      GET_STATUS: function GET_STATUS() {\n        var items = getActiveItems(state.items);\n        var EMPTY = Status.EMPTY,\n            ERROR = Status.ERROR,\n            BUSY = Status.BUSY,\n            IDLE = Status.IDLE,\n            READY = Status.READY;\n        if (items.length === 0) return EMPTY;\n        if (items.some(isItemInErrorState)) return ERROR;\n        if (items.some(isItemInBusyState)) return BUSY;\n        if (items.some(isItemInReadyState)) return READY;\n        return IDLE;\n      },\n      GET_ITEM: function GET_ITEM(query) {\n        return getItemByQuery(state.items, query);\n      },\n      GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {\n        return getItemByQuery(getActiveItems(state.items), query);\n      },\n      GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {\n        return getActiveItems(state.items);\n      },\n      GET_ITEMS: function GET_ITEMS() {\n        return state.items;\n      },\n      GET_ITEM_NAME: function GET_ITEM_NAME(query) {\n        var item = getItemByQuery(state.items, query);\n        return item ? item.filename : null;\n      },\n      GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {\n        var item = getItemByQuery(state.items, query);\n        return item ? item.fileSize : null;\n      },\n      GET_STYLES: function GET_STYLES() {\n        return Object.keys(state.options).filter(function (key) {\n          return /^style/.test(key);\n        }).map(function (option) {\n          return {\n            name: option,\n            value: state.options[option]\n          };\n        });\n      },\n      GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {\n        var isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n        var aspectRatio = isShapeCircle ? 1 : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n        return aspectRatio;\n      },\n      GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {\n        return state.options.styleItemPanelAspectRatio;\n      },\n      GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {\n        return getActiveItems(state.items).filter(function (item) {\n          return item.status === status;\n        });\n      },\n      GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {\n        return getActiveItems(state.items).length;\n      },\n      IS_ASYNC: function IS_ASYNC() {\n        return isObject(state.options.server) && (isObject(state.options.server.process) || isFunction(state.options.server.process));\n      }\n    };\n  };\n\n  var hasRoomForItem = function hasRoomForItem(state) {\n    var count = getActiveItems(state.items).length; // if cannot have multiple items, to add one item it should currently not contain items\n\n    if (!state.options.allowMultiple) {\n      return count === 0;\n    } // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n\n\n    var maxFileCount = state.options.maxFiles;\n\n    if (maxFileCount === null) {\n      return true;\n    } // we check if the current count is smaller than the max count, if so, another file can still be added\n\n\n    if (count < maxFileCount) {\n      return true;\n    } // no more room for another file\n\n\n    return false;\n  };\n\n  var limit = function limit(value, min, max) {\n    return Math.max(Math.min(max, value), min);\n  };\n\n  var arrayInsert = function arrayInsert(arr, index, item) {\n    return arr.splice(index, 0, item);\n  };\n\n  var insertItem = function insertItem(items, item, index) {\n    if (isEmpty(item)) {\n      return null;\n    } // if index is undefined, append\n\n\n    if (typeof index === 'undefined') {\n      items.push(item);\n      return item;\n    } // limit the index to the size of the items array\n\n\n    index = limit(index, 0, items.length); // add item to array\n\n    arrayInsert(items, index, item); // expose\n\n    return item;\n  };\n\n  var isBase64DataURI = function isBase64DataURI(str) {\n    return /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(str);\n  };\n\n  var getFilenameFromURL = function getFilenameFromURL(url) {\n    return url.split('/').pop().split('?').shift();\n  };\n\n  var getExtensionFromFilename = function getExtensionFromFilename(name) {\n    return name.split('.').pop();\n  };\n\n  var guesstimateExtension = function guesstimateExtension(type) {\n    // if no extension supplied, exit here\n    if (typeof type !== 'string') {\n      return '';\n    } // get subtype\n\n\n    var subtype = type.split('/').pop(); // is svg subtype\n\n    if (/svg/.test(subtype)) {\n      return 'svg';\n    }\n\n    if (/zip|compressed/.test(subtype)) {\n      return 'zip';\n    }\n\n    if (/plain/.test(subtype)) {\n      return 'txt';\n    }\n\n    if (/msword/.test(subtype)) {\n      return 'doc';\n    } // if is valid subtype\n\n\n    if (/[a-z]+/.test(subtype)) {\n      // always use jpg extension\n      if (subtype === 'jpeg') {\n        return 'jpg';\n      } // return subtype\n\n\n      return subtype;\n    }\n\n    return '';\n  };\n\n  var leftPad = function leftPad(value) {\n    var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    return (padding + value).slice(-padding.length);\n  };\n\n  var getDateString = function getDateString() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n    return date.getFullYear() + '-' + leftPad(date.getMonth() + 1, '00') + '-' + leftPad(date.getDate(), '00') + '_' + leftPad(date.getHours(), '00') + '-' + leftPad(date.getMinutes(), '00') + '-' + leftPad(date.getSeconds(), '00');\n  };\n\n  var getFileFromBlob = function getFileFromBlob(blob, filename) {\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var file = typeof type === 'string' ? blob.slice(0, blob.size, type) : blob.slice(0, blob.size, blob.type);\n    file.lastModifiedDate = new Date(); // copy relative path\n\n    if (blob._relativePath) file._relativePath = blob._relativePath; // if blob has name property, use as filename if no filename supplied\n\n    if (!isString(filename)) {\n      filename = getDateString();\n    } // if filename supplied but no extension and filename has extension\n\n\n    if (filename && extension === null && getExtensionFromFilename(filename)) {\n      file.name = filename;\n    } else {\n      extension = extension || guesstimateExtension(file.type);\n      file.name = filename + (extension ? '.' + extension : '');\n    }\n\n    return file;\n  };\n\n  var getBlobBuilder = function getBlobBuilder() {\n    return window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n  };\n\n  var createBlob = function createBlob(arrayBuffer, mimeType) {\n    var BB = getBlobBuilder();\n\n    if (BB) {\n      var bb = new BB();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mimeType);\n    }\n\n    return new Blob([arrayBuffer], {\n      type: mimeType\n    });\n  };\n\n  var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(byteString, mimeType) {\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i);\n    }\n\n    return createBlob(ab, mimeType);\n  };\n\n  var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {\n    return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n  };\n\n  var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {\n    // get data part of string (remove data:image/jpeg...,)\n    var data = dataURI.split(',')[1]; // remove any whitespace as that causes InvalidCharacterError in IE\n\n    return data.replace(/\\s/g, '');\n  };\n\n  var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {\n    return atob(getBase64DataFromBase64DataURI(dataURI));\n  };\n\n  var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {\n    var mimeType = getMimeTypeFromBase64DataURI(dataURI);\n    var byteString = getByteStringFromBase64DataURI(dataURI);\n    return getBlobFromByteStringWithMimeType(byteString, mimeType);\n  };\n\n  var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {\n    return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n  };\n\n  var getFileNameFromHeader = function getFileNameFromHeader(header) {\n    // test if is content disposition header, if not exit\n    if (!/^content-disposition:/i.test(header)) return null; // get filename parts\n\n    var matches = header.split(/filename=|filename\\*=.+''/).splice(1).map(function (name) {\n      return name.trim().replace(/^[\"']|[;\"']{0,2}$/g, '');\n    }).filter(function (name) {\n      return name.length;\n    });\n    return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n  };\n\n  var getFileSizeFromHeader = function getFileSizeFromHeader(header) {\n    if (/content-length:/i.test(header)) {\n      var size = header.match(/[0-9]+/)[0];\n      return size ? parseInt(size, 10) : null;\n    }\n\n    return null;\n  };\n\n  var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {\n    if (/x-content-transfer-id:/i.test(header)) {\n      var id = (header.split(':')[1] || '').trim();\n      return id || null;\n    }\n\n    return null;\n  };\n\n  var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {\n    var info = {\n      source: null,\n      name: null,\n      size: null\n    };\n    var rows = headers.split('\\n');\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = rows[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var header = _step.value;\n        var name = getFileNameFromHeader(header);\n\n        if (name) {\n          info.name = name;\n          continue;\n        }\n\n        var size = getFileSizeFromHeader(header);\n\n        if (size) {\n          info.size = size;\n          continue;\n        }\n\n        var source = getTranfserIdFromHeader(header);\n\n        if (source) {\n          info.source = source;\n          continue;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return info;\n  };\n\n  var createFileLoader = function createFileLoader(fetchFn) {\n    var state = {\n      source: null,\n      complete: false,\n      progress: 0,\n      size: null,\n      timestamp: null,\n      duration: 0,\n      request: null\n    };\n\n    var getProgress = function getProgress() {\n      return state.progress;\n    };\n\n    var abort = function abort() {\n      if (state.request && state.request.abort) {\n        state.request.abort();\n      }\n    }; // load source\n\n\n    var load = function load() {\n      // get quick reference\n      var source = state.source;\n      api.fire('init', source); // Load Files\n\n      if (source instanceof File) {\n        api.fire('load', source);\n      } else if (source instanceof Blob) {\n        // Load blobs, set default name to current date\n        api.fire('load', getFileFromBlob(source, source.name));\n      } else if (isBase64DataURI(source)) {\n        // Load base 64, set default name to current date\n        api.fire('load', getFileFromBase64DataURI(source));\n      } else {\n        // Deal as if is external URL, let's load it!\n        loadURL(source);\n      }\n    }; // loads a url\n\n\n    var loadURL = function loadURL(url) {\n      // is remote url and no fetch method supplied\n      if (!fetchFn) {\n        api.fire('error', {\n          type: 'error',\n          body: \"Can't load URL\",\n          code: 400\n        });\n        return;\n      } // set request start\n\n\n      state.timestamp = Date.now(); // load file\n\n      state.request = fetchFn(url, function (response) {\n        // update duration\n        state.duration = Date.now() - state.timestamp; // done!\n\n        state.complete = true; // turn blob response into a file\n\n        if (response instanceof Blob) {\n          response = getFileFromBlob(response, response.name || getFilenameFromURL(url));\n        }\n\n        api.fire('load', // if has received blob, we go with blob, if no response, we return null\n        response instanceof Blob ? response : response ? response.body : null);\n      }, function (error) {\n        api.fire('error', typeof error === 'string' ? {\n          type: 'error',\n          code: 0,\n          body: error\n        } : error);\n      }, function (computable, current, total) {\n        // collected some meta data already\n        if (total) {\n          state.size = total;\n        } // update duration\n\n\n        state.duration = Date.now() - state.timestamp; // if we can't compute progress, we're not going to fire progress events\n\n        if (!computable) {\n          state.progress = null;\n          return;\n        } // update progress percentage\n\n\n        state.progress = current / total; // expose\n\n        api.fire('progress', state.progress);\n      }, function () {\n        api.fire('abort');\n      }, function (response) {\n        var fileinfo = getFileInfoFromHeaders(typeof response === 'string' ? response : response.headers);\n        api.fire('meta', {\n          size: state.size || fileinfo.size,\n          filename: fileinfo.name,\n          source: fileinfo.source\n        });\n      });\n    };\n\n    var api = Object.assign({}, on(), {\n      setSource: function setSource(source) {\n        return state.source = source;\n      },\n      getProgress: getProgress,\n      // file load progress\n      abort: abort,\n      // abort file load\n      load: load // start load\n\n    });\n    return api;\n  };\n\n  var isGet = function isGet(method) {\n    return /GET|HEAD/.test(method);\n  };\n\n  var sendRequest = function sendRequest(data, url, options) {\n    var api = {\n      onheaders: function onheaders() {},\n      onprogress: function onprogress() {},\n      onload: function onload() {},\n      ontimeout: function ontimeout() {},\n      onerror: function onerror() {},\n      onabort: function onabort() {},\n      abort: function abort() {\n        aborted = true;\n        xhr.abort();\n      }\n    }; // timeout identifier, only used when timeout is defined\n\n    var aborted = false;\n    var headersReceived = false; // set default options\n\n    options = Object.assign({\n      method: 'POST',\n      headers: {},\n      withCredentials: false\n    }, options); // encode url\n\n    url = encodeURI(url); // if method is GET, add any received data to url\n\n    if (isGet(options.method) && data) {\n      url = '' + url + encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));\n    } // create request\n\n\n    var xhr = new XMLHttpRequest(); // progress of load\n\n    var process = isGet(options.method) ? xhr : xhr.upload;\n\n    process.onprogress = function (e) {\n      // no progress event when aborted ( onprogress is called once after abort() )\n      if (aborted) {\n        return;\n      }\n\n      api.onprogress(e.lengthComputable, e.loaded, e.total);\n    }; // tries to get header info to the app as fast as possible\n\n\n    xhr.onreadystatechange = function () {\n      // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n      if (xhr.readyState < 2) {\n        return;\n      } // no server response\n\n\n      if (xhr.readyState === 4 && xhr.status === 0) {\n        return;\n      }\n\n      if (headersReceived) {\n        return;\n      }\n\n      headersReceived = true; // we've probably received some useful data in response headers\n\n      api.onheaders(xhr);\n    }; // load successful\n\n\n    xhr.onload = function () {\n      // is classified as valid response\n      if (xhr.status >= 200 && xhr.status < 300) {\n        api.onload(xhr);\n      } else {\n        api.onerror(xhr);\n      }\n    }; // error during load\n\n\n    xhr.onerror = function () {\n      return api.onerror(xhr);\n    }; // request aborted\n\n\n    xhr.onabort = function () {\n      aborted = true;\n      api.onabort();\n    }; // request timeout\n\n\n    xhr.ontimeout = function () {\n      return api.ontimeout(xhr);\n    }; // open up open up!\n\n\n    xhr.open(options.method, url, true); // set timeout if defined (do it after open so IE11 plays ball)\n\n    if (isInt(options.timeout)) {\n      xhr.timeout = options.timeout;\n    } // add headers\n\n\n    Object.keys(options.headers).forEach(function (key) {\n      var value = unescape(encodeURIComponent(options.headers[key]));\n      xhr.setRequestHeader(key, value);\n    }); // set type of response\n\n    if (options.responseType) {\n      xhr.responseType = options.responseType;\n    } // set credentials\n\n\n    if (options.withCredentials) {\n      xhr.withCredentials = true;\n    } // let's send our data\n\n\n    xhr.send(data);\n    return api;\n  };\n\n  var createResponse = function createResponse(type, code, body, headers) {\n    return {\n      type: type,\n      code: code,\n      body: body,\n      headers: headers\n    };\n  };\n\n  var createTimeoutResponse = function createTimeoutResponse(cb) {\n    return function (xhr) {\n      cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n    };\n  };\n\n  var hasQS = function hasQS(str) {\n    return /\\?/.test(str);\n  };\n\n  var buildURL = function buildURL() {\n    var url = '';\n\n    for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n      parts[_key] = arguments[_key];\n    }\n\n    parts.forEach(function (part) {\n      url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n    });\n    return url;\n  };\n\n  var createFetchFunction = function createFetchFunction() {\n    var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var action = arguments.length > 1 ? arguments[1] : undefined; // custom handler (should also handle file, load, error, progress and abort)\n\n    if (typeof action === 'function') {\n      return action;\n    } // no action supplied\n\n\n    if (!action || !isString(action.url)) {\n      return null;\n    } // set onload hanlder\n\n\n    var onload = action.onload || function (res) {\n      return res;\n    };\n\n    var onerror = action.onerror || function (res) {\n      return null;\n    }; // internal handler\n\n\n    return function (url, load, error, progress, abort, headers) {\n      // do local or remote request based on if the url is external\n      var request = sendRequest(url, buildURL(apiUrl, action.url), Object.assign({}, action, {\n        responseType: 'blob'\n      }));\n\n      request.onload = function (xhr) {\n        // get headers\n        var headers = xhr.getAllResponseHeaders(); // get filename\n\n        var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url); // create response\n\n        load(createResponse('load', xhr.status, action.method === 'HEAD' ? null : getFileFromBlob(onload(xhr.response), filename), headers));\n      };\n\n      request.onerror = function (xhr) {\n        error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n      };\n\n      request.onheaders = function (xhr) {\n        headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n      };\n\n      request.ontimeout = createTimeoutResponse(error);\n      request.onprogress = progress;\n      request.onabort = abort; // should return request\n\n      return request;\n    };\n  };\n\n  var ChunkStatus = {\n    QUEUED: 0,\n    COMPLETE: 1,\n    PROCESSING: 2,\n    ERROR: 3,\n    WAITING: 4\n  };\n  /*\n                                                       function signature:\n                                                         (file, metadata, load, error, progress, abort, transfer, options) => {\n                                                           return {\n                                                           abort:() => {}\n                                                         }\n                                                       }\n                                                       */\n  // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\n\n  var processFileChunked = function processFileChunked(apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options) {\n    // all chunks\n    var chunks = [];\n    var chunkTransferId = options.chunkTransferId,\n        chunkServer = options.chunkServer,\n        chunkSize = options.chunkSize,\n        chunkRetryDelays = options.chunkRetryDelays; // default state\n\n    var state = {\n      serverId: chunkTransferId,\n      aborted: false\n    }; // set onload handlers\n\n    var ondata = action.ondata || function (fd) {\n      return fd;\n    };\n\n    var onload = action.onload || function (xhr, method) {\n      return method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response;\n    };\n\n    var onerror = action.onerror || function (res) {\n      return null;\n    }; // create server hook\n\n\n    var requestTransferId = function requestTransferId(cb) {\n      var formData = new FormData(); // add metadata under same name\n\n      if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));\n      var headers = typeof action.headers === 'function' ? action.headers(file, metadata) : Object.assign({}, action.headers, {\n        'Upload-Length': file.size\n      });\n      var requestParams = Object.assign({}, action, {\n        headers: headers\n      }); // send request object\n\n      var request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), requestParams);\n\n      request.onload = function (xhr) {\n        return cb(onload(xhr, requestParams.method));\n      };\n\n      request.onerror = function (xhr) {\n        return error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n      };\n\n      request.ontimeout = createTimeoutResponse(error);\n    };\n\n    var requestTransferOffset = function requestTransferOffset(cb) {\n      var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n      var headers = typeof action.headers === 'function' ? action.headers(state.serverId) : Object.assign({}, action.headers);\n      var requestParams = {\n        headers: headers,\n        method: 'HEAD'\n      };\n      var request = sendRequest(null, requestUrl, requestParams);\n\n      request.onload = function (xhr) {\n        return cb(onload(xhr, requestParams.method));\n      };\n\n      request.onerror = function (xhr) {\n        return error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n      };\n\n      request.ontimeout = createTimeoutResponse(error);\n    }; // create chunks\n\n\n    var lastChunkIndex = Math.floor(file.size / chunkSize);\n\n    for (var i = 0; i <= lastChunkIndex; i++) {\n      var offset = i * chunkSize;\n      var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n      chunks[i] = {\n        index: i,\n        size: data.size,\n        offset: offset,\n        data: data,\n        file: file,\n        progress: 0,\n        retries: _toConsumableArray(chunkRetryDelays),\n        status: ChunkStatus.QUEUED,\n        error: null,\n        request: null,\n        timeout: null\n      };\n    }\n\n    var completeProcessingChunks = function completeProcessingChunks() {\n      return load(state.serverId);\n    };\n\n    var canProcessChunk = function canProcessChunk(chunk) {\n      return chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n    };\n\n    var processChunk = function processChunk(chunk) {\n      // processing is paused, wait here\n      if (state.aborted) return; // get next chunk to process\n\n      chunk = chunk || chunks.find(canProcessChunk); // no more chunks to process\n\n      if (!chunk) {\n        // all done?\n        if (chunks.every(function (chunk) {\n          return chunk.status === ChunkStatus.COMPLETE;\n        })) {\n          completeProcessingChunks();\n        } // no chunk to handle\n\n\n        return;\n      } // now processing this chunk\n\n\n      chunk.status = ChunkStatus.PROCESSING;\n      chunk.progress = null; // allow parsing of formdata\n\n      var ondata = chunkServer.ondata || function (fd) {\n        return fd;\n      };\n\n      var onerror = chunkServer.onerror || function (res) {\n        return null;\n      }; // send request object\n\n\n      var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n      var headers = typeof chunkServer.headers === 'function' ? chunkServer.headers(chunk) : Object.assign({}, chunkServer.headers, {\n        'Content-Type': 'application/offset+octet-stream',\n        'Upload-Offset': chunk.offset,\n        'Upload-Length': file.size,\n        'Upload-Name': file.name\n      });\n      var request = chunk.request = sendRequest(ondata(chunk.data), requestUrl, Object.assign({}, chunkServer, {\n        headers: headers\n      }));\n\n      request.onload = function () {\n        // done!\n        chunk.status = ChunkStatus.COMPLETE; // remove request reference\n\n        chunk.request = null; // start processing more chunks\n\n        processChunks();\n      };\n\n      request.onprogress = function (lengthComputable, loaded, total) {\n        chunk.progress = lengthComputable ? loaded : null;\n        updateTotalProgress();\n      };\n\n      request.onerror = function (xhr) {\n        chunk.status = ChunkStatus.ERROR;\n        chunk.request = null;\n        chunk.error = onerror(xhr.response) || xhr.statusText;\n\n        if (!retryProcessChunk(chunk)) {\n          error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n        }\n      };\n\n      request.ontimeout = function (xhr) {\n        chunk.status = ChunkStatus.ERROR;\n        chunk.request = null;\n\n        if (!retryProcessChunk(chunk)) {\n          createTimeoutResponse(error)(xhr);\n        }\n      };\n\n      request.onabort = function () {\n        chunk.status = ChunkStatus.QUEUED;\n        chunk.request = null;\n        abort();\n      };\n    };\n\n    var retryProcessChunk = function retryProcessChunk(chunk) {\n      // no more retries left\n      if (chunk.retries.length === 0) return false; // new retry\n\n      chunk.status = ChunkStatus.WAITING;\n      clearTimeout(chunk.timeout);\n      chunk.timeout = setTimeout(function () {\n        processChunk(chunk);\n      }, chunk.retries.shift()); // we're going to retry\n\n      return true;\n    };\n\n    var updateTotalProgress = function updateTotalProgress() {\n      // calculate total progress fraction\n      var totalBytesTransfered = chunks.reduce(function (p, chunk) {\n        if (p === null || chunk.progress === null) return null;\n        return p + chunk.progress;\n      }, 0); // can't compute progress\n\n      if (totalBytesTransfered === null) return progress(false, 0, 0); // calculate progress values\n\n      var totalSize = chunks.reduce(function (total, chunk) {\n        return total + chunk.size;\n      }, 0); // can update progress indicator\n\n      progress(true, totalBytesTransfered, totalSize);\n    }; // process new chunks\n\n\n    var processChunks = function processChunks() {\n      var totalProcessing = chunks.filter(function (chunk) {\n        return chunk.status === ChunkStatus.PROCESSING;\n      }).length;\n      if (totalProcessing >= 1) return;\n      processChunk();\n    };\n\n    var abortChunks = function abortChunks() {\n      chunks.forEach(function (chunk) {\n        clearTimeout(chunk.timeout);\n\n        if (chunk.request) {\n          chunk.request.abort();\n        }\n      });\n    }; // let's go!\n\n\n    if (!state.serverId) {\n      requestTransferId(function (serverId) {\n        // stop here if aborted, might have happened in between request and callback\n        if (state.aborted) return; // pass back to item so we can use it if something goes wrong\n\n        transfer(serverId); // store internally\n\n        state.serverId = serverId;\n        processChunks();\n      });\n    } else {\n      requestTransferOffset(function (offset) {\n        // stop here if aborted, might have happened in between request and callback\n        if (state.aborted) return; // mark chunks with lower offset as complete\n\n        chunks.filter(function (chunk) {\n          return chunk.offset < offset;\n        }).forEach(function (chunk) {\n          chunk.status = ChunkStatus.COMPLETE;\n          chunk.progress = chunk.size;\n        }); // continue processing\n\n        processChunks();\n      });\n    }\n\n    return {\n      abort: function abort() {\n        state.aborted = true;\n        abortChunks();\n      }\n    };\n  };\n  /*\n                                                               function signature:\n                                                                 (file, metadata, load, error, progress, abort) => {\n                                                                   return {\n                                                                   abort:() => {}\n                                                                 }\n                                                               }\n                                                               */\n\n\n  var createFileProcessorFunction = function createFileProcessorFunction(apiUrl, action, name, options) {\n    return function (file, metadata, load, error, progress, abort, transfer) {\n      // no file received\n      if (!file) return; // if was passed a file, and we can chunk it, exit here\n\n      var canChunkUpload = options.chunkUploads;\n      var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n      var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n      if (file instanceof Blob && willChunkUpload) return processFileChunked(apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options); // set handlers\n\n      var ondata = action.ondata || function (fd) {\n        return fd;\n      };\n\n      var onload = action.onload || function (res) {\n        return res;\n      };\n\n      var onerror = action.onerror || function (res) {\n        return null;\n      }; // create formdata object\n\n\n      var formData = new FormData(); // add metadata under same name\n\n      if (isObject(metadata)) {\n        formData.append(name, JSON.stringify(metadata));\n      } // Turn into an array of objects so no matter what the input, we can handle it the same way\n\n\n      (file instanceof Blob ? [{\n        name: null,\n        file: file\n      }] : file).forEach(function (item) {\n        formData.append(name, item.file, item.name === null ? item.file.name : '' + item.name + item.file.name);\n      }); // send request object\n\n      var request = sendRequest(ondata(formData), buildURL(apiUrl, action.url), action);\n\n      request.onload = function (xhr) {\n        load(createResponse('load', xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));\n      };\n\n      request.onerror = function (xhr) {\n        error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n      };\n\n      request.ontimeout = createTimeoutResponse(error);\n      request.onprogress = progress;\n      request.onabort = abort; // should return request\n\n      return request;\n    };\n  };\n\n  var createProcessorFunction = function createProcessorFunction() {\n    var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n    var name = arguments.length > 2 ? arguments[2] : undefined;\n    var options = arguments.length > 3 ? arguments[3] : undefined; // custom handler (should also handle file, load, error, progress and abort)\n\n    if (typeof action === 'function') return function () {\n      for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n        params[_key] = arguments[_key];\n      }\n\n      return action.apply(void 0, [name].concat(params, [options]));\n    }; // no action supplied\n\n    if (!action || !isString(action.url)) return null; // internal handler\n\n    return createFileProcessorFunction(apiUrl, action, name, options);\n  };\n  /*\n                                                      function signature:\n                                                      (uniqueFileId, load, error) => { }\n                                                      */\n\n\n  var createRevertFunction = function createRevertFunction() {\n    var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var action = arguments.length > 1 ? arguments[1] : undefined; // is custom implementation\n\n    if (typeof action === 'function') {\n      return action;\n    } // no action supplied, return stub function, interface will work, but file won't be removed\n\n\n    if (!action || !isString(action.url)) {\n      return function (uniqueFileId, load) {\n        return load();\n      };\n    } // set onload hanlder\n\n\n    var onload = action.onload || function (res) {\n      return res;\n    };\n\n    var onerror = action.onerror || function (res) {\n      return null;\n    }; // internal implementation\n\n\n    return function (uniqueFileId, load, error) {\n      var request = sendRequest(uniqueFileId, apiUrl + action.url, action // contains method, headers and withCredentials properties\n      );\n\n      request.onload = function (xhr) {\n        load(createResponse('load', xhr.status, onload(xhr.response), xhr.getAllResponseHeaders()));\n      };\n\n      request.onerror = function (xhr) {\n        error(createResponse('error', xhr.status, onerror(xhr.response) || xhr.statusText, xhr.getAllResponseHeaders()));\n      };\n\n      request.ontimeout = createTimeoutResponse(error);\n      return request;\n    };\n  };\n\n  var getRandomNumber = function getRandomNumber() {\n    var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    return min + Math.random() * (max - min);\n  };\n\n  var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n    var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n    var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n    var timeout = null;\n    var start = Date.now();\n\n    var tick = function tick() {\n      var runtime = Date.now() - start;\n      var delay = getRandomNumber(tickMin, tickMax);\n\n      if (runtime + delay > duration) {\n        delay = runtime + delay - duration;\n      }\n\n      var progress = runtime / duration;\n\n      if (progress >= 1 || document.hidden) {\n        cb(1);\n        return;\n      }\n\n      cb(progress);\n      timeout = setTimeout(tick, delay);\n    };\n\n    tick();\n    return {\n      clear: function clear() {\n        clearTimeout(timeout);\n      }\n    };\n  };\n\n  var createFileProcessor = function createFileProcessor(processFn) {\n    var state = {\n      complete: false,\n      perceivedProgress: 0,\n      perceivedPerformanceUpdater: null,\n      progress: null,\n      timestamp: null,\n      perceivedDuration: 0,\n      duration: 0,\n      request: null,\n      response: null\n    };\n\n    var process = function process(file, metadata) {\n      var progressFn = function progressFn() {\n        // we've not yet started the real download, stop here\n        // the request might not go through, for instance, there might be some server trouble\n        // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n        if (state.duration === 0 || state.progress === null) return; // as we're now processing, fire the progress event\n\n        api.fire('progress', api.getProgress());\n      };\n\n      var completeFn = function completeFn() {\n        state.complete = true;\n        api.fire('load-perceived', state.response.body);\n      }; // let's start processing\n\n\n      api.fire('start'); // set request start\n\n      state.timestamp = Date.now(); // create perceived performance progress indicator\n\n      state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(function (progress) {\n        state.perceivedProgress = progress;\n        state.perceivedDuration = Date.now() - state.timestamp;\n        progressFn(); // if fake progress is done, and a response has been received,\n        // and we've not yet called the complete method\n\n        if (state.response && state.perceivedProgress === 1 && !state.complete) {\n          // we done!\n          completeFn();\n        }\n      }, // random delay as in a list of files you start noticing\n      // files uploading at the exact same speed\n      getRandomNumber(750, 1500)); // remember request so we can abort it later\n\n      state.request = processFn( // the file to process\n      file, // the metadata to send along\n      metadata, // callbacks (load, error, progress, abort, transfer)\n      // load expects the body to be a server id if\n      // you want to make use of revert\n      function (response) {\n        // we put the response in state so we can access\n        // it outside of this method\n        state.response = isObject(response) ? response : {\n          type: 'load',\n          code: 200,\n          body: '' + response,\n          headers: {}\n        }; // update duration\n\n        state.duration = Date.now() - state.timestamp; // force progress to 1 as we're now done\n\n        state.progress = 1; // actual load is done let's share results\n\n        api.fire('load', state.response.body); // we are really done\n        // if perceived progress is 1 ( wait for perceived progress to complete )\n        // or if server does not support progress ( null )\n\n        if (state.perceivedProgress === 1) {\n          completeFn();\n        }\n      }, // error is expected to be an object with type, code, body\n      function (error) {\n        // cancel updater\n        state.perceivedPerformanceUpdater.clear(); // update others about this error\n\n        api.fire('error', isObject(error) ? error : {\n          type: 'error',\n          code: 0,\n          body: '' + error\n        });\n      }, // actual processing progress\n      function (computable, current, total) {\n        // update actual duration\n        state.duration = Date.now() - state.timestamp; // update actual progress\n\n        state.progress = computable ? current / total : null;\n        progressFn();\n      }, // abort does not expect a value\n      function () {\n        // stop updater\n        state.perceivedPerformanceUpdater.clear(); // fire the abort event so we can switch visuals\n\n        api.fire('abort', state.response ? state.response.body : null);\n      }, // register the id for this transfer\n      function (transferId) {\n        api.fire('transfer', transferId);\n      });\n    };\n\n    var abort = function abort() {\n      // no request running, can't abort\n      if (!state.request) return; // stop updater\n\n      state.perceivedPerformanceUpdater.clear(); // abort actual request\n\n      if (state.request.abort) state.request.abort(); // if has response object, we've completed the request\n\n      state.complete = true;\n    };\n\n    var reset = function reset() {\n      abort();\n      state.complete = false;\n      state.perceivedProgress = 0;\n      state.progress = 0;\n      state.timestamp = null;\n      state.perceivedDuration = 0;\n      state.duration = 0;\n      state.request = null;\n      state.response = null;\n    };\n\n    var getProgress = function getProgress() {\n      return state.progress ? Math.min(state.progress, state.perceivedProgress) : null;\n    };\n\n    var getDuration = function getDuration() {\n      return Math.min(state.duration, state.perceivedDuration);\n    };\n\n    var api = Object.assign({}, on(), {\n      process: process,\n      // start processing file\n      abort: abort,\n      // abort active process request\n      getProgress: getProgress,\n      getDuration: getDuration,\n      reset: reset\n    });\n    return api;\n  };\n\n  var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {\n    return name.substr(0, name.lastIndexOf('.')) || name;\n  };\n\n  var createFileStub = function createFileStub(source) {\n    var data = [source.name, source.size, source.type]; // is blob or base64, then we need to set the name\n\n    if (source instanceof Blob || isBase64DataURI(source)) {\n      data[0] = source.name || getDateString();\n    } else if (isBase64DataURI(source)) {\n      // if is base64 data uri we need to determine the average size and type\n      data[1] = source.length;\n      data[2] = getMimeTypeFromBase64DataURI(source);\n    } else if (isString(source)) {\n      // url\n      data[0] = getFilenameFromURL(source);\n      data[1] = 0;\n      data[2] = 'application/octet-stream';\n    }\n\n    return {\n      name: data[0],\n      size: data[1],\n      type: data[2]\n    };\n  };\n\n  var isFile = function isFile(value) {\n    return !!(value instanceof File || value instanceof Blob && value.name);\n  };\n\n  var deepCloneObject = function deepCloneObject(src) {\n    if (!isObject(src)) return src;\n    var target = isArray(src) ? [] : {};\n\n    for (var key in src) {\n      if (!src.hasOwnProperty(key)) continue;\n      var v = src[key];\n      target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n    }\n\n    return target;\n  };\n\n  var createItem = function createItem() {\n    var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var serverFileReference = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null; // unique id for this item, is used to identify the item across views\n\n    var id = getUniqueId();\n    /**\n     * Internal item state\n     */\n\n    var state = {\n      // is archived\n      archived: false,\n      // if is frozen, no longer fires events\n      frozen: false,\n      // removed from view\n      released: false,\n      // original source\n      source: null,\n      // file model reference\n      file: file,\n      // id of file on server\n      serverFileReference: serverFileReference,\n      // id of file transfer on server\n      transferId: null,\n      // is aborted\n      processingAborted: false,\n      // current item status\n      status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,\n      // active processes\n      activeLoader: null,\n      activeProcessor: null\n    }; // callback used when abort processing is called to link back to the resolve method\n\n    var abortProcessingRequestComplete = null;\n    /**\n     * Externally added item metadata\n     */\n\n    var metadata = {}; // item data\n\n    var setStatus = function setStatus(status) {\n      return state.status = status;\n    }; // fire event unless the item has been archived\n\n\n    var fire = function fire(event) {\n      if (state.released || state.frozen) return;\n\n      for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        params[_key - 1] = arguments[_key];\n      }\n\n      api.fire.apply(api, [event].concat(params));\n    }; // file data\n\n\n    var getFileExtension = function getFileExtension() {\n      return getExtensionFromFilename(state.file.name);\n    };\n\n    var getFileType = function getFileType() {\n      return state.file.type;\n    };\n\n    var getFileSize = function getFileSize() {\n      return state.file.size;\n    };\n\n    var getFile = function getFile() {\n      return state.file;\n    }; //\n    // logic to load a file\n    //\n\n\n    var load = function load(source, loader, onload) {\n      // remember the original item source\n      state.source = source; // source is known\n\n      api.fireSync('init'); // file stub is already there\n\n      if (state.file) {\n        api.fireSync('load-skip');\n        return;\n      } // set a stub file object while loading the actual data\n\n\n      state.file = createFileStub(source); // starts loading\n\n      loader.on('init', function () {\n        fire('load-init');\n      }); // we'eve received a size indication, let's update the stub\n\n      loader.on('meta', function (meta) {\n        // set size of file stub\n        state.file.size = meta.size; // set name of file stub\n\n        state.file.filename = meta.filename; // if has received source, we done\n\n        if (meta.source) {\n          origin = FileOrigin.LIMBO;\n          state.serverFileReference = meta.source;\n          state.status = ItemStatus.PROCESSING_COMPLETE;\n        } // size has been updated\n\n\n        fire('load-meta');\n      }); // the file is now loading we need to update the progress indicators\n\n      loader.on('progress', function (progress) {\n        setStatus(ItemStatus.LOADING);\n        fire('load-progress', progress);\n      }); // an error was thrown while loading the file, we need to switch to error state\n\n      loader.on('error', function (error) {\n        setStatus(ItemStatus.LOAD_ERROR);\n        fire('load-request-error', error);\n      }); // user or another process aborted the file load (cannot retry)\n\n      loader.on('abort', function () {\n        setStatus(ItemStatus.INIT);\n        fire('load-abort');\n      }); // done loading\n\n      loader.on('load', function (file) {\n        // as we've now loaded the file the loader is no longer required\n        state.activeLoader = null; // called when file has loaded succesfully\n\n        var success = function success(result) {\n          // set (possibly) transformed file\n          state.file = isFile(result) ? result : state.file; // file received\n\n          if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n            setStatus(ItemStatus.PROCESSING_COMPLETE);\n          } else {\n            setStatus(ItemStatus.IDLE);\n          }\n\n          fire('load');\n        };\n\n        var error = function error(result) {\n          // set original file\n          state.file = file;\n          fire('load-meta');\n          setStatus(ItemStatus.LOAD_ERROR);\n          fire('load-file-error', result);\n        }; // if we already have a server file reference, we don't need to call the onload method\n\n\n        if (state.serverFileReference) {\n          success(file);\n          return;\n        } // no server id, let's give this file the full treatment\n\n\n        onload(file, success, error);\n      }); // set loader source data\n\n      loader.setSource(source); // set as active loader\n\n      state.activeLoader = loader; // load the source data\n\n      loader.load();\n    };\n\n    var retryLoad = function retryLoad() {\n      if (!state.activeLoader) {\n        return;\n      }\n\n      state.activeLoader.load();\n    };\n\n    var abortLoad = function abortLoad() {\n      if (state.activeLoader) {\n        state.activeLoader.abort();\n        return;\n      }\n\n      setStatus(ItemStatus.INIT);\n      fire('load-abort');\n    }; //\n    // logic to process a file\n    //\n\n\n    var process = function process(processor, onprocess) {\n      // processing was aborted\n      if (state.processingAborted) {\n        state.processingAborted = false;\n        return;\n      } // now processing\n\n\n      setStatus(ItemStatus.PROCESSING); // reset abort callback\n\n      abortProcessingRequestComplete = null; // if no file loaded we'll wait for the load event\n\n      if (!(state.file instanceof Blob)) {\n        api.on('load', function () {\n          process(processor, onprocess);\n        });\n        return;\n      } // setup processor\n\n\n      processor.on('load', function (serverFileReference) {\n        // need this id to be able to revert the upload\n        state.transferId = null;\n        state.serverFileReference = serverFileReference;\n      }); // register transfer id\n\n      processor.on('transfer', function (transferId) {\n        // need this id to be able to revert the upload\n        state.transferId = transferId;\n      });\n      processor.on('load-perceived', function (serverFileReference) {\n        // no longer required\n        state.activeProcessor = null; // need this id to be able to rever the upload\n\n        state.transferId = null;\n        state.serverFileReference = serverFileReference;\n        setStatus(ItemStatus.PROCESSING_COMPLETE);\n        fire('process-complete', serverFileReference);\n      });\n      processor.on('start', function () {\n        fire('process-start');\n      });\n      processor.on('error', function (error) {\n        state.activeProcessor = null;\n        setStatus(ItemStatus.PROCESSING_ERROR);\n        fire('process-error', error);\n      });\n      processor.on('abort', function (serverFileReference) {\n        state.activeProcessor = null; // if file was uploaded but processing was cancelled during perceived processor time store file reference\n\n        state.transferId = null;\n        state.serverFileReference = serverFileReference;\n        setStatus(ItemStatus.IDLE);\n        fire('process-abort'); // has timeout so doesn't interfere with remove action\n\n        if (abortProcessingRequestComplete) {\n          abortProcessingRequestComplete();\n        }\n      });\n      processor.on('progress', function (progress) {\n        fire('process-progress', progress);\n      }); // when successfully transformed\n\n      var success = function success(file) {\n        // if was archived in the mean time, don't process\n        if (state.archived) return; // process file!\n\n        processor.process(file, Object.assign({}, metadata));\n      }; // something went wrong during transform phase\n\n\n      var error = console.error; // start processing the file\n\n      onprocess(state.file, success, error); // set as active processor\n\n      state.activeProcessor = processor;\n    };\n\n    var requestProcessing = function requestProcessing() {\n      state.processingAborted = false;\n      setStatus(ItemStatus.PROCESSING_QUEUED);\n    };\n\n    var abortProcessing = function abortProcessing() {\n      return new Promise(function (resolve) {\n        if (!state.activeProcessor) {\n          state.processingAborted = true;\n          setStatus(ItemStatus.IDLE);\n          fire('process-abort');\n          resolve();\n          return;\n        }\n\n        abortProcessingRequestComplete = function abortProcessingRequestComplete() {\n          resolve();\n        };\n\n        state.activeProcessor.abort();\n      });\n    }; //\n    // logic to revert a processed file\n    //\n\n\n    var revert = function revert(revertFileUpload, forceRevert) {\n      return new Promise(function (resolve, reject) {\n        // cannot revert without a server id for this process\n        if (state.serverFileReference === null) {\n          resolve();\n          return;\n        } // revert the upload (fire and forget)\n\n\n        revertFileUpload(state.serverFileReference, function () {\n          // reset file server id as now it's no available on the server\n          state.serverFileReference = null;\n          resolve();\n        }, function (error) {\n          // don't set error state when reverting is optional, it will always resolve\n          if (!forceRevert) {\n            resolve();\n            return;\n          } // oh no errors\n\n\n          setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n          fire('process-revert-error');\n          reject(error);\n        }); // fire event\n\n        setStatus(ItemStatus.IDLE);\n        fire('process-revert');\n      });\n    }; // exposed methods\n\n\n    var _setMetadata = function setMetadata(key, value, silent) {\n      var keys = key.split('.');\n      var root = keys[0];\n      var last = keys.pop();\n      var data = metadata;\n      keys.forEach(function (key) {\n        return data = data[key];\n      }); // compare old value against new value, if they're the same, we're not updating\n\n      if (JSON.stringify(data[last]) === JSON.stringify(value)) return; // update value\n\n      data[last] = value; // don't fire update\n\n      if (silent) return; // fire update\n\n      fire('metadata-update', {\n        key: root,\n        value: metadata[root]\n      });\n    };\n\n    var getMetadata = function getMetadata(key) {\n      return deepCloneObject(key ? metadata[key] : metadata);\n    };\n\n    var api = Object.assign({\n      id: {\n        get: function get() {\n          return id;\n        }\n      },\n      origin: {\n        get: function get() {\n          return origin;\n        }\n      },\n      serverId: {\n        get: function get() {\n          return state.serverFileReference;\n        }\n      },\n      transferId: {\n        get: function get() {\n          return state.transferId;\n        }\n      },\n      status: {\n        get: function get() {\n          return state.status;\n        }\n      },\n      filename: {\n        get: function get() {\n          return state.file.name;\n        }\n      },\n      filenameWithoutExtension: {\n        get: function get() {\n          return getFilenameWithoutExtension(state.file.name);\n        }\n      },\n      fileExtension: {\n        get: getFileExtension\n      },\n      fileType: {\n        get: getFileType\n      },\n      fileSize: {\n        get: getFileSize\n      },\n      file: {\n        get: getFile\n      },\n      relativePath: {\n        get: function get() {\n          return state.file._relativePath;\n        }\n      },\n      source: {\n        get: function get() {\n          return state.source;\n        }\n      },\n      getMetadata: getMetadata,\n      setMetadata: function setMetadata(key, value, silent) {\n        if (isObject(key)) {\n          var data = key;\n          Object.keys(data).forEach(function (key) {\n            _setMetadata(key, data[key], value);\n          });\n          return key;\n        }\n\n        _setMetadata(key, value, silent);\n\n        return value;\n      },\n      extend: function extend(name, handler) {\n        return itemAPI[name] = handler;\n      },\n      abortLoad: abortLoad,\n      retryLoad: retryLoad,\n      requestProcessing: requestProcessing,\n      abortProcessing: abortProcessing,\n      load: load,\n      process: process,\n      revert: revert\n    }, on(), {\n      freeze: function freeze() {\n        return state.frozen = true;\n      },\n      release: function release() {\n        return state.released = true;\n      },\n      released: {\n        get: function get() {\n          return state.released;\n        }\n      },\n      archive: function archive() {\n        return state.archived = true;\n      },\n      archived: {\n        get: function get() {\n          return state.archived;\n        }\n      }\n    }); // create it here instead of returning it instantly so we can extend it later\n\n    var itemAPI = createObject(api);\n    return itemAPI;\n  };\n\n  var getItemIndexByQuery = function getItemIndexByQuery(items, query) {\n    // just return first index\n    if (isEmpty(query)) {\n      return 0;\n    } // invalid queries\n\n\n    if (!isString(query)) {\n      return -1;\n    } // return item by id (or -1 if not found)\n\n\n    return items.findIndex(function (item) {\n      return item.id === query;\n    });\n  };\n\n  var getItemById = function getItemById(items, itemId) {\n    var index = getItemIndexByQuery(items, itemId);\n\n    if (index < 0) {\n      return;\n    }\n\n    return items[index] || null;\n  };\n\n  var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {\n    var request = sendRequest(null, url, {\n      method: 'GET',\n      responseType: 'blob'\n    });\n\n    request.onload = function (xhr) {\n      // get headers\n      var headers = xhr.getAllResponseHeaders(); // get filename\n\n      var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url); // create response\n\n      load(createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers));\n    };\n\n    request.onerror = function (xhr) {\n      error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n    };\n\n    request.onheaders = function (xhr) {\n      headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n    };\n\n    request.ontimeout = createTimeoutResponse(error);\n    request.onprogress = progress;\n    request.onabort = abort; // should return request\n\n    return request;\n  };\n\n  var getDomainFromURL = function getDomainFromURL(url) {\n    if (url.indexOf('//') === 0) {\n      url = location.protocol + url;\n    }\n\n    return url.toLowerCase().replace('blob:', '').replace(/([a-z])?:\\/\\//, '$1').split('/')[0];\n  };\n\n  var isExternalURL = function isExternalURL(url) {\n    return (url.indexOf(':') > -1 || url.indexOf('//') > -1) && getDomainFromURL(location.href) !== getDomainFromURL(url);\n  };\n\n  var dynamicLabel = function dynamicLabel(label) {\n    return function () {\n      return isFunction(label) ? label.apply(void 0, arguments) : label;\n    };\n  };\n\n  var isMockItem = function isMockItem(item) {\n    return !isFile(item.file);\n  };\n\n  var listUpdated = function listUpdated(dispatch, state) {\n    clearTimeout(state.listUpdateTimeout);\n    state.listUpdateTimeout = setTimeout(function () {\n      dispatch('DID_UPDATE_ITEMS', {\n        items: getActiveItems(state.items)\n      });\n    }, 0);\n  };\n\n  var optionalPromise = function optionalPromise(fn) {\n    for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      params[_key - 1] = arguments[_key];\n    }\n\n    return new Promise(function (resolve) {\n      if (!fn) {\n        return resolve(true);\n      }\n\n      var result = fn.apply(void 0, params);\n\n      if (result == null) {\n        return resolve(true);\n      }\n\n      if (typeof result === 'boolean') {\n        return resolve(result);\n      }\n\n      if (typeof result.then === 'function') {\n        result.then(resolve);\n      }\n    });\n  };\n\n  var sortItems = function sortItems(state, compare) {\n    state.items.sort(function (a, b) {\n      return compare(createItemAPI(a), createItemAPI(b));\n    });\n  }; // returns item based on state\n\n\n  var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {\n    return function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var query = _ref.query,\n          _ref$success = _ref.success,\n          success = _ref$success === void 0 ? function () {} : _ref$success,\n          _ref$failure = _ref.failure,\n          failure = _ref$failure === void 0 ? function () {} : _ref$failure,\n          options = _objectWithoutProperties(_ref, ['query', 'success', 'failure']);\n\n      var item = getItemByQuery(state.items, query);\n\n      if (!item) {\n        failure({\n          error: createResponse('error', 0, 'Item not found'),\n          file: null\n        });\n        return;\n      }\n\n      itemHandler(item, success, failure, options || {});\n    };\n  };\n\n  var actions = function actions(dispatch, query, state) {\n    return {\n      /**\n       * Aborts all ongoing processes\n       */\n      ABORT_ALL: function ABORT_ALL() {\n        getActiveItems(state.items).forEach(function (item) {\n          item.freeze();\n          item.abortLoad();\n          item.abortProcessing();\n        });\n      },\n\n      /**\n       * Sets initial files\n       */\n      DID_SET_FILES: function DID_SET_FILES(_ref2) {\n        var _ref2$value = _ref2.value,\n            value = _ref2$value === void 0 ? [] : _ref2$value; // map values to file objects\n\n        var files = value.map(function (file) {\n          return {\n            source: file.source ? file.source : file,\n            options: file.options\n          };\n        }); // loop over files, if file is in list, leave it be, if not, remove\n        // test if items should be moved\n\n        var activeItems = getActiveItems(state.items);\n        activeItems.forEach(function (item) {\n          // if item not is in new value, remove\n          if (!files.find(function (file) {\n            return file.source === item.source || file.source === item.file;\n          })) {\n            dispatch('REMOVE_ITEM', {\n              query: item,\n              remove: false\n            });\n          }\n        }); // add new files\n\n        activeItems = getActiveItems(state.items);\n        files.forEach(function (file, index) {\n          // if file is already in list\n          if (activeItems.find(function (item) {\n            return item.source === file.source || item.file === file.source;\n          })) return; // not in list, add\n\n          dispatch('ADD_ITEM', Object.assign({}, file, {\n            interactionMethod: InteractionMethod.NONE,\n            index: index\n          }));\n        });\n      },\n      DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {\n        var id = _ref3.id,\n            action = _ref3.action; // if is called multiple times in close succession we combined all calls together to save resources\n\n        clearTimeout(state.itemUpdateTimeout);\n        state.itemUpdateTimeout = setTimeout(function () {\n          var item = getItemById(state.items, id); // only revert and attempt to upload when we're uploading to a server\n\n          if (!query('IS_ASYNC')) {\n            // should we update the output data\n            applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n              item: item,\n              query: query,\n              action: action\n            }).then(function (shouldPrepareOutput) {\n              // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n              var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n              if (beforePrepareFile) shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n              if (!shouldPrepareOutput) return;\n              dispatch('REQUEST_PREPARE_OUTPUT', {\n                query: id,\n                item: item,\n                success: function success(file) {\n                  dispatch('DID_PREPARE_OUTPUT', {\n                    id: id,\n                    file: file\n                  });\n                }\n              }, true);\n            });\n            return;\n          } // for async scenarios\n\n\n          var upload = function upload() {\n            // we push this forward a bit so the interface is updated correctly\n            setTimeout(function () {\n              dispatch('REQUEST_ITEM_PROCESSING', {\n                query: id\n              });\n            }, 32);\n          };\n\n          var revert = function revert(doUpload) {\n            item.revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT')).then(doUpload ? upload : function () {}).catch(function () {});\n          };\n\n          var abort = function abort(doUpload) {\n            item.abortProcessing().then(doUpload ? upload : function () {});\n          }; // if we should re-upload the file immediately\n\n\n          if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n            return revert(state.options.instantUpload);\n          } // if currently uploading, cancel upload\n\n\n          if (item.status === ItemStatus.PROCESSING) {\n            return abort(state.options.instantUpload);\n          }\n\n          if (state.options.instantUpload) {\n            upload();\n          }\n        }, 0);\n      },\n      MOVE_ITEM: function MOVE_ITEM(_ref4) {\n        var query = _ref4.query,\n            index = _ref4.index;\n        var item = getItemByQuery(state.items, query);\n        if (!item) return;\n        var currentIndex = state.items.indexOf(item);\n        index = limit(index, 0, state.items.length - 1);\n        if (currentIndex === index) return;\n        state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n      },\n      SORT: function SORT(_ref5) {\n        var compare = _ref5.compare;\n        sortItems(state, compare);\n        dispatch('DID_SORT_ITEMS', {\n          items: query('GET_ACTIVE_ITEMS')\n        });\n      },\n      ADD_ITEMS: function ADD_ITEMS(_ref6) {\n        var items = _ref6.items,\n            index = _ref6.index,\n            interactionMethod = _ref6.interactionMethod,\n            _ref6$success = _ref6.success,\n            success = _ref6$success === void 0 ? function () {} : _ref6$success,\n            _ref6$failure = _ref6.failure,\n            failure = _ref6$failure === void 0 ? function () {} : _ref6$failure;\n        var currentIndex = index;\n\n        if (index === -1 || typeof index === 'undefined') {\n          var insertLocation = query('GET_ITEM_INSERT_LOCATION');\n          var totalItems = query('GET_TOTAL_ITEMS');\n          currentIndex = insertLocation === 'before' ? 0 : totalItems;\n        }\n\n        var ignoredFiles = query('GET_IGNORED_FILES');\n\n        var isValidFile = function isValidFile(source) {\n          return isFile(source) ? !ignoredFiles.includes(source.name.toLowerCase()) : !isEmpty(source);\n        };\n\n        var validItems = items.filter(isValidFile);\n        var promises = validItems.map(function (source) {\n          return new Promise(function (resolve, reject) {\n            dispatch('ADD_ITEM', {\n              interactionMethod: interactionMethod,\n              source: source.source || source,\n              success: resolve,\n              failure: reject,\n              index: currentIndex++,\n              options: source.options || {}\n            });\n          });\n        });\n        Promise.all(promises).then(success).catch(failure);\n      },\n\n      /**\n       * @param source\n       * @param index\n       * @param interactionMethod\n       */\n      ADD_ITEM: function ADD_ITEM(_ref7) {\n        var source = _ref7.source,\n            _ref7$index = _ref7.index,\n            index = _ref7$index === void 0 ? -1 : _ref7$index,\n            interactionMethod = _ref7.interactionMethod,\n            _ref7$success = _ref7.success,\n            success = _ref7$success === void 0 ? function () {} : _ref7$success,\n            _ref7$failure = _ref7.failure,\n            failure = _ref7$failure === void 0 ? function () {} : _ref7$failure,\n            _ref7$options = _ref7.options,\n            options = _ref7$options === void 0 ? {} : _ref7$options; // if no source supplied\n\n        if (isEmpty(source)) {\n          failure({\n            error: createResponse('error', 0, 'No source'),\n            file: null\n          });\n          return;\n        } // filter out invalid file items, used to filter dropped directory contents\n\n\n        if (isFile(source) && state.options.ignoredFiles.includes(source.name.toLowerCase())) {\n          // fail silently\n          return;\n        } // test if there's still room in the list of files\n\n\n        if (!hasRoomForItem(state)) {\n          // if multiple allowed, we can't replace\n          // or if only a single item is allowed but we're not allowed to replace it we exit\n          if (state.options.allowMultiple || !state.options.allowMultiple && !state.options.allowReplace) {\n            var error = createResponse('warning', 0, 'Max files');\n            dispatch('DID_THROW_MAX_FILES', {\n              source: source,\n              error: error\n            });\n            failure({\n              error: error,\n              file: null\n            });\n            return;\n          } // let's replace the item\n          // id of first item we're about to remove\n\n\n          var _item = getActiveItems(state.items)[0]; // if has been processed remove it from the server as well\n\n          if (_item.status === ItemStatus.PROCESSING_COMPLETE || _item.status === ItemStatus.PROCESSING_REVERT_ERROR) {\n            var forceRevert = query('GET_FORCE_REVERT');\n\n            _item.revert(createRevertFunction(state.options.server.url, state.options.server.revert), forceRevert).then(function () {\n              if (!forceRevert) return; // try to add now\n\n              dispatch('ADD_ITEM', {\n                source: source,\n                index: index,\n                interactionMethod: interactionMethod,\n                success: success,\n                failure: failure,\n                options: options\n              });\n            }).catch(function () {}); // no need to handle this catch state for now\n\n\n            if (forceRevert) return;\n          } // remove first item as it will be replaced by this item\n\n\n          dispatch('REMOVE_ITEM', {\n            query: _item.id\n          });\n        } // where did the file originate\n\n\n        var origin = options.type === 'local' ? FileOrigin.LOCAL : options.type === 'limbo' ? FileOrigin.LIMBO : FileOrigin.INPUT; // create a new blank item\n\n        var item = createItem( // where did this file come from\n        origin, // an input file never has a server file reference\n        origin === FileOrigin.INPUT ? null : source, // file mock data, if defined\n        options.file); // set initial meta data\n\n        Object.keys(options.metadata || {}).forEach(function (key) {\n          item.setMetadata(key, options.metadata[key]);\n        }); // created the item, let plugins add methods\n\n        applyFilters('DID_CREATE_ITEM', item, {\n          query: query,\n          dispatch: dispatch\n        }); // where to insert new items\n\n        var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION'); // adjust index if is not allowed to pick location\n\n        if (!state.options.itemInsertLocationFreedom) {\n          index = itemInsertLocation === 'before' ? -1 : state.items.length;\n        } // add item to list\n\n\n        insertItem(state.items, item, index); // sort items in list\n\n        if (isFunction(itemInsertLocation) && source) {\n          sortItems(state, itemInsertLocation);\n        } // get a quick reference to the item id\n\n\n        var id = item.id; // observe item events\n\n        item.on('init', function () {\n          dispatch('DID_INIT_ITEM', {\n            id: id\n          });\n        });\n        item.on('load-init', function () {\n          dispatch('DID_START_ITEM_LOAD', {\n            id: id\n          });\n        });\n        item.on('load-meta', function () {\n          dispatch('DID_UPDATE_ITEM_META', {\n            id: id\n          });\n        });\n        item.on('load-progress', function (progress) {\n          dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', {\n            id: id,\n            progress: progress\n          });\n        });\n        item.on('load-request-error', function (error) {\n          var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error); // is client error, no way to recover\n\n          if (error.code >= 400 && error.code < 500) {\n            dispatch('DID_THROW_ITEM_INVALID', {\n              id: id,\n              error: error,\n              status: {\n                main: mainStatus,\n                sub: error.code + ' (' + error.body + ')'\n              }\n            }); // reject the file so can be dealt with through API\n\n            failure({\n              error: error,\n              file: createItemAPI(item)\n            });\n            return;\n          } // is possible server error, so might be possible to retry\n\n\n          dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n            id: id,\n            error: error,\n            status: {\n              main: mainStatus,\n              sub: state.options.labelTapToRetry\n            }\n          });\n        });\n        item.on('load-file-error', function (error) {\n          dispatch('DID_THROW_ITEM_INVALID', {\n            id: id,\n            error: error.status,\n            status: error.status\n          });\n          failure({\n            error: error.status,\n            file: createItemAPI(item)\n          });\n        });\n        item.on('load-abort', function () {\n          dispatch('REMOVE_ITEM', {\n            query: id\n          });\n        });\n        item.on('load-skip', function () {\n          dispatch('COMPLETE_LOAD_ITEM', {\n            query: id,\n            item: item,\n            data: {\n              source: source,\n              success: success\n            }\n          });\n        });\n        item.on('load', function () {\n          var handleAdd = function handleAdd(shouldAdd) {\n            // no should not add this file\n            if (!shouldAdd) {\n              dispatch('REMOVE_ITEM', {\n                query: id\n              });\n              return;\n            } // now interested in metadata updates\n\n\n            item.on('metadata-update', function (change) {\n              dispatch('DID_UPDATE_ITEM_METADATA', {\n                id: id,\n                change: change\n              });\n            }); // let plugins decide if the output data should be prepared at this point\n            // means we'll do this and wait for idle state\n\n            applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n              item: item,\n              query: query\n            }).then(function (shouldPrepareOutput) {\n              // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n              var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n              if (beforePrepareFile) shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n              var loadComplete = function loadComplete() {\n                dispatch('COMPLETE_LOAD_ITEM', {\n                  query: id,\n                  item: item,\n                  data: {\n                    source: source,\n                    success: success\n                  }\n                });\n                listUpdated(dispatch, state);\n              }; // exit\n\n\n              if (shouldPrepareOutput) {\n                // wait for idle state and then run PREPARE_OUTPUT\n                dispatch('REQUEST_PREPARE_OUTPUT', {\n                  query: id,\n                  item: item,\n                  success: function success(file) {\n                    dispatch('DID_PREPARE_OUTPUT', {\n                      id: id,\n                      file: file\n                    });\n                    loadComplete();\n                  }\n                }, true);\n                return;\n              }\n\n              loadComplete();\n            });\n          }; // item loaded, allow plugins to\n          // - read data (quickly)\n          // - add metadata\n\n\n          applyFilterChain('DID_LOAD_ITEM', item, {\n            query: query,\n            dispatch: dispatch\n          }).then(function () {\n            optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(handleAdd);\n          }).catch(function () {\n            handleAdd(false);\n          });\n        });\n        item.on('process-start', function () {\n          dispatch('DID_START_ITEM_PROCESSING', {\n            id: id\n          });\n        });\n        item.on('process-progress', function (progress) {\n          dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', {\n            id: id,\n            progress: progress\n          });\n        });\n        item.on('process-error', function (error) {\n          dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n            id: id,\n            error: error,\n            status: {\n              main: dynamicLabel(state.options.labelFileProcessingError)(error),\n              sub: state.options.labelTapToRetry\n            }\n          });\n        });\n        item.on('process-revert-error', function (error) {\n          dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n            id: id,\n            error: error,\n            status: {\n              main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n              sub: state.options.labelTapToRetry\n            }\n          });\n        });\n        item.on('process-complete', function (serverFileReference) {\n          dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n            id: id,\n            error: null,\n            serverFileReference: serverFileReference\n          });\n          dispatch('DID_DEFINE_VALUE', {\n            id: id,\n            value: serverFileReference\n          });\n        });\n        item.on('process-abort', function () {\n          dispatch('DID_ABORT_ITEM_PROCESSING', {\n            id: id\n          });\n        });\n        item.on('process-revert', function () {\n          dispatch('DID_REVERT_ITEM_PROCESSING', {\n            id: id\n          });\n          dispatch('DID_DEFINE_VALUE', {\n            id: id,\n            value: null\n          });\n        }); // let view know the item has been inserted\n\n        dispatch('DID_ADD_ITEM', {\n          id: id,\n          index: index,\n          interactionMethod: interactionMethod\n        });\n        listUpdated(dispatch, state); // start loading the source\n\n        var _ref8 = state.options.server || {},\n            url = _ref8.url,\n            load = _ref8.load,\n            restore = _ref8.restore,\n            fetch = _ref8.fetch;\n\n        item.load(source, // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n        createFileLoader(origin === FileOrigin.INPUT ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n        isString(source) && isExternalURL(source) ? fetch ? createFetchFunction(url, fetch) : fetchBlob // remote url\n        : fetchBlob // try to fetch url\n        : // limbo or local\n        origin === FileOrigin.LIMBO ? createFetchFunction(url, restore) // limbo\n        : createFetchFunction(url, load) // local\n        ), // called when the file is loaded so it can be piped through the filters\n        function (file, success, error) {\n          // let's process the file\n          applyFilterChain('LOAD_FILE', file, {\n            query: query\n          }).then(success).catch(error);\n        });\n      },\n      REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {\n        var item = _ref9.item,\n            success = _ref9.success,\n            _ref9$failure = _ref9.failure,\n            failure = _ref9$failure === void 0 ? function () {} : _ref9$failure; // error response if item archived\n\n        var err = {\n          error: createResponse('error', 0, 'Item not found'),\n          file: null\n        }; // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n\n        if (item.archived) return failure(err); // allow plugins to alter the file data\n\n        applyFilterChain('PREPARE_OUTPUT', item.file, {\n          query: query,\n          item: item\n        }).then(function (result) {\n          applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n            query: query,\n            item: item\n          }).then(function (result) {\n            // don't handle archived items, an item could have been archived (load aborted) while being prepared\n            if (item.archived) return failure(err); // we done!\n\n            success(result);\n          });\n        });\n      },\n      COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {\n        var item = _ref10.item,\n            data = _ref10.data;\n        var success = data.success,\n            source = data.source; // sort items in list\n\n        var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n\n        if (isFunction(itemInsertLocation) && source) {\n          sortItems(state, itemInsertLocation);\n        } // let interface know the item has loaded\n\n\n        dispatch('DID_LOAD_ITEM', {\n          id: item.id,\n          error: null,\n          serverFileReference: item.origin === FileOrigin.INPUT ? null : source\n        }); // item has been successfully loaded and added to the\n        // list of items so can now be safely returned for use\n\n        success(createItemAPI(item)); // if this is a local server file we need to show a different state\n\n        if (item.origin === FileOrigin.LOCAL) {\n          dispatch('DID_LOAD_LOCAL_ITEM', {\n            id: item.id\n          });\n          return;\n        } // if is a temp server file we prevent async upload call here (as the file is already on the server)\n\n\n        if (item.origin === FileOrigin.LIMBO) {\n          dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n            id: item.id,\n            error: null,\n            serverFileReference: source\n          });\n          dispatch('DID_DEFINE_VALUE', {\n            id: item.id,\n            value: source\n          });\n          return;\n        } // id we are allowed to upload the file immediately, lets do it\n\n\n        if (query('IS_ASYNC') && state.options.instantUpload) {\n          dispatch('REQUEST_ITEM_PROCESSING', {\n            query: item.id\n          });\n        }\n      },\n      RETRY_ITEM_LOAD: getItemByQueryFromState(state, function (item) {\n        // try loading the source one more time\n        item.retryLoad();\n      }),\n      REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function (item, _success, failure) {\n        dispatch('REQUEST_PREPARE_OUTPUT', {\n          query: item.id,\n          item: item,\n          success: function success(file) {\n            dispatch('DID_PREPARE_OUTPUT', {\n              id: item.id,\n              file: file\n            });\n\n            _success({\n              file: item,\n              output: file\n            });\n          },\n          failure: failure\n        }, true);\n      }),\n      REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function (item, success, failure) {\n        // cannot be queued (or is already queued)\n        var itemCanBeQueuedForProcessing = // waiting for something\n        item.status === ItemStatus.IDLE || // processing went wrong earlier\n        item.status === ItemStatus.PROCESSING_ERROR; // not ready to be processed\n\n        if (!itemCanBeQueuedForProcessing) {\n          var processNow = function processNow() {\n            return dispatch('REQUEST_ITEM_PROCESSING', {\n              query: item,\n              success: success,\n              failure: failure\n            });\n          };\n\n          var process = function process() {\n            return document.hidden ? processNow() : setTimeout(processNow, 32);\n          }; // if already done processing or tried to revert but didn't work, try again\n\n\n          if (item.status === ItemStatus.PROCESSING_COMPLETE || item.status === ItemStatus.PROCESSING_REVERT_ERROR) {\n            item.revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT')).then(process).catch(function () {}); // don't continue with processing if something went wrong\n          } else if (item.status === ItemStatus.PROCESSING) {\n            item.abortProcessing().then(process);\n          }\n\n          return;\n        } // already queued for processing\n\n\n        if (item.status === ItemStatus.PROCESSING_QUEUED) return;\n        item.requestProcessing();\n        dispatch('DID_REQUEST_ITEM_PROCESSING', {\n          id: item.id\n        });\n        dispatch('PROCESS_ITEM', {\n          query: item,\n          success: success,\n          failure: failure\n        }, true);\n      }),\n      PROCESS_ITEM: getItemByQueryFromState(state, function (item, success, failure) {\n        var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n        var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING).length; // queue and wait till queue is freed up\n\n        if (totalCurrentUploads === maxParallelUploads) {\n          // queue for later processing\n          state.processingQueue.push({\n            id: item.id,\n            success: success,\n            failure: failure\n          }); // stop it!\n\n          return;\n        } // if was not queued or is already processing exit here\n\n\n        if (item.status === ItemStatus.PROCESSING) return;\n\n        var processNext = function processNext() {\n          // process queueud items\n          var queueEntry = state.processingQueue.shift(); // no items left\n\n          if (!queueEntry) return; // get item reference\n\n          var id = queueEntry.id,\n              success = queueEntry.success,\n              failure = queueEntry.failure;\n          var itemReference = getItemByQuery(state.items, id); // if item was archived while in queue, jump to next\n\n          if (!itemReference || itemReference.archived) {\n            processNext();\n            return;\n          } // process queued item\n\n\n          dispatch('PROCESS_ITEM', {\n            query: id,\n            success: success,\n            failure: failure\n          }, true);\n        }; // we done function\n\n\n        item.onOnce('process-complete', function () {\n          success(createItemAPI(item));\n          processNext(); // All items processed? No errors?\n\n          var allItemsProcessed = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length === state.items.length;\n\n          if (allItemsProcessed) {\n            dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n          }\n        }); // we error function\n\n        item.onOnce('process-error', function (error) {\n          failure({\n            error: error,\n            file: createItemAPI(item)\n          });\n          processNext();\n        }); // start file processing\n\n        var options = state.options;\n        item.process(createFileProcessor(createProcessorFunction(options.server.url, options.server.process, options.name, {\n          chunkTransferId: item.transferId,\n          chunkServer: options.server.patch,\n          chunkUploads: options.chunkUploads,\n          chunkForce: options.chunkForce,\n          chunkSize: options.chunkSize,\n          chunkRetryDelays: options.chunkRetryDelays\n        })), // called when the file is about to be processed so it can be piped through the transform filters\n        function (file, success, error) {\n          // allow plugins to alter the file data\n          applyFilterChain('PREPARE_OUTPUT', file, {\n            query: query,\n            item: item\n          }).then(function (file) {\n            dispatch('DID_PREPARE_OUTPUT', {\n              id: item.id,\n              file: file\n            });\n            success(file);\n          }).catch(error);\n        });\n      }),\n      RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function (item) {\n        dispatch('REQUEST_ITEM_PROCESSING', {\n          query: item\n        });\n      }),\n      REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function (item) {\n        optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function (shouldRemove) {\n          if (!shouldRemove) {\n            return;\n          }\n\n          dispatch('REMOVE_ITEM', {\n            query: item\n          });\n        });\n      }),\n      RELEASE_ITEM: getItemByQueryFromState(state, function (item) {\n        item.release();\n      }),\n      REMOVE_ITEM: getItemByQueryFromState(state, function (item, success, failure, options) {\n        var removeFromView = function removeFromView() {\n          // get id reference\n          var id = item.id; // archive the item, this does not remove it from the list\n\n          getItemById(state.items, id).archive(); // tell the view the item has been removed\n\n          dispatch('DID_REMOVE_ITEM', {\n            error: null,\n            id: id,\n            item: item\n          }); // now the list has been modified\n\n          listUpdated(dispatch, state); // correctly removed\n\n          success(createItemAPI(item));\n        }; // if this is a local file and the server.remove function has been configured, send source there so dev can remove file from server\n\n\n        var server = state.options.server;\n\n        if (item.origin === FileOrigin.LOCAL && server && isFunction(server.remove) && options.remove !== false) {\n          dispatch('DID_START_ITEM_REMOVE', {\n            id: item.id\n          });\n          server.remove(item.source, function () {\n            return removeFromView();\n          }, function (status) {\n            dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n              id: item.id,\n              error: createResponse('error', 0, status, null),\n              status: {\n                main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                sub: state.options.labelTapToRetry\n              }\n            });\n          });\n        } else {\n          // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n          if (options.revert && item.origin !== FileOrigin.LOCAL && item.serverId !== null) {\n            item.revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT'));\n          } // can now safely remove from view\n\n\n          removeFromView();\n        }\n      }),\n      ABORT_ITEM_LOAD: getItemByQueryFromState(state, function (item) {\n        item.abortLoad();\n      }),\n      ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function (item) {\n        // test if is already processed\n        if (item.serverId) {\n          dispatch('REVERT_ITEM_PROCESSING', {\n            id: item.id\n          });\n          return;\n        } // abort\n\n\n        item.abortProcessing().then(function () {\n          var shouldRemove = state.options.instantUpload;\n\n          if (shouldRemove) {\n            dispatch('REMOVE_ITEM', {\n              query: item.id\n            });\n          }\n        });\n      }),\n      REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function (item) {\n        // not instant uploading, revert immediately\n        if (!state.options.instantUpload) {\n          dispatch('REVERT_ITEM_PROCESSING', {\n            query: item\n          });\n          return;\n        } // if we're instant uploading the file will also be removed if we revert,\n        // so if a before remove file hook is defined we need to run it now\n\n\n        var handleRevert = function handleRevert(shouldRevert) {\n          if (!shouldRevert) return;\n          dispatch('REVERT_ITEM_PROCESSING', {\n            query: item\n          });\n        };\n\n        var fn = query('GET_BEFORE_REMOVE_FILE');\n\n        if (!fn) {\n          return handleRevert(true);\n        }\n\n        var requestRemoveResult = fn(createItemAPI(item));\n\n        if (requestRemoveResult == null) {\n          // undefined or null\n          return handleRevert(true);\n        }\n\n        if (typeof requestRemoveResult === 'boolean') {\n          return handleRevert(requestRemoveResult);\n        }\n\n        if (typeof requestRemoveResult.then === 'function') {\n          requestRemoveResult.then(handleRevert);\n        }\n      }),\n      REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function (item) {\n        item.revert(createRevertFunction(state.options.server.url, state.options.server.revert), query('GET_FORCE_REVERT')).then(function () {\n          var shouldRemove = state.options.instantUpload || isMockItem(item);\n\n          if (shouldRemove) {\n            dispatch('REMOVE_ITEM', {\n              query: item.id\n            });\n          }\n        }).catch(function () {});\n      }),\n      SET_OPTIONS: function SET_OPTIONS(_ref11) {\n        var options = _ref11.options;\n        forin(options, function (key, value) {\n          dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n            value: value\n          });\n        });\n      }\n    };\n  };\n\n  var formatFilename = function formatFilename(name) {\n    return name;\n  };\n\n  var createElement$1 = function createElement(tagName) {\n    return document.createElement(tagName);\n  };\n\n  var text = function text(node, value) {\n    var textNode = node.childNodes[0];\n\n    if (!textNode) {\n      textNode = document.createTextNode(value);\n      node.appendChild(textNode);\n    } else if (value !== textNode.nodeValue) {\n      textNode.nodeValue = value;\n    }\n  };\n\n  var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n    var angleInRadians = (angleInDegrees % 360 - 90) * Math.PI / 180.0;\n    return {\n      x: centerX + radius * Math.cos(angleInRadians),\n      y: centerY + radius * Math.sin(angleInRadians)\n    };\n  };\n\n  var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {\n    var start = polarToCartesian(x, y, radius, endAngle);\n    var end = polarToCartesian(x, y, radius, startAngle);\n    return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n  };\n\n  var percentageArc = function percentageArc(x, y, radius, from, to) {\n    var arcSweep = 1;\n\n    if (to > from && to - from <= 0.5) {\n      arcSweep = 0;\n    }\n\n    if (from > to && from - to >= 0.5) {\n      arcSweep = 0;\n    }\n\n    return describeArc(x, y, radius, Math.min(0.9999, from) * 360, Math.min(0.9999, to) * 360, arcSweep);\n  };\n\n  var create = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props; // start at 0\n\n    props.spin = false;\n    props.progress = 0;\n    props.opacity = 0; // svg\n\n    var svg = createElement('svg');\n    root.ref.path = createElement('path', {\n      'stroke-width': 2,\n      'stroke-linecap': 'round'\n    });\n    svg.appendChild(root.ref.path);\n    root.ref.svg = svg;\n    root.appendChild(svg);\n  };\n\n  var write = function write(_ref2) {\n    var root = _ref2.root,\n        props = _ref2.props;\n\n    if (props.opacity === 0) {\n      return;\n    }\n\n    if (props.align) {\n      root.element.dataset.align = props.align;\n    } // get width of stroke\n\n\n    var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10); // calculate size of ring\n\n    var size = root.rect.element.width * 0.5; // ring state\n\n    var ringFrom = 0;\n    var ringTo = 0; // now in busy mode\n\n    if (props.spin) {\n      ringFrom = 0;\n      ringTo = 0.5;\n    } else {\n      ringFrom = 0;\n      ringTo = props.progress;\n    } // get arc path\n\n\n    var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo); // update progress bar\n\n    attr(root.ref.path, 'd', coordinates); // hide while contains 0 value\n\n    attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n  };\n\n  var progressIndicator = createView({\n    tag: 'div',\n    name: 'progress-indicator',\n    ignoreRectUpdate: true,\n    ignoreRect: true,\n    create: create,\n    write: write,\n    mixins: {\n      apis: ['progress', 'spin', 'align'],\n      styles: ['opacity'],\n      animations: {\n        opacity: {\n          type: 'tween',\n          duration: 500\n        },\n        progress: {\n          type: 'spring',\n          stiffness: 0.95,\n          damping: 0.65,\n          mass: 10\n        }\n      }\n    }\n  });\n\n  var create$1 = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props;\n    root.element.innerHTML = (props.icon || '') + ('<span>' + props.label + '</span>');\n    props.isDisabled = false;\n  };\n\n  var write$1 = function write(_ref2) {\n    var root = _ref2.root,\n        props = _ref2.props;\n    var isDisabled = props.isDisabled;\n    var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n\n    if (shouldDisable && !isDisabled) {\n      props.isDisabled = true;\n      attr(root.element, 'disabled', 'disabled');\n    } else if (!shouldDisable && isDisabled) {\n      props.isDisabled = false;\n      root.element.removeAttribute('disabled');\n    }\n  };\n\n  var fileActionButton = createView({\n    tag: 'button',\n    attributes: {\n      type: 'button'\n    },\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    name: 'file-action-button',\n    mixins: {\n      apis: ['label'],\n      styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n      animations: {\n        scaleX: 'spring',\n        scaleY: 'spring',\n        translateX: 'spring',\n        translateY: 'spring',\n        opacity: {\n          type: 'tween',\n          duration: 250\n        }\n      },\n      listeners: true\n    },\n    create: create$1,\n    write: write$1\n  });\n\n  var toNaturalFileSize = function toNaturalFileSize(bytes) {\n    var decimalSeparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';\n    var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000; // no negative byte sizes\n\n    bytes = Math.round(Math.abs(bytes));\n    var KB = base;\n    var MB = base * base;\n    var GB = base * base * base; // just bytes\n\n    if (bytes < KB) {\n      return bytes + ' bytes';\n    } // kilobytes\n\n\n    if (bytes < MB) {\n      return Math.floor(bytes / KB) + ' KB';\n    } // megabytes\n\n\n    if (bytes < GB) {\n      return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' MB';\n    } // gigabytes\n\n\n    return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' GB';\n  };\n\n  var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {\n    return value.toFixed(decimalCount).split('.').filter(function (part) {\n      return part !== '0';\n    }).join(separator);\n  };\n\n  var create$2 = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props; // filename\n\n    var fileName = createElement$1('span');\n    fileName.className = 'filepond--file-info-main'; // hide for screenreaders\n    // the file is contained in a fieldset with legend that contains the filename\n    // no need to read it twice\n\n    attr(fileName, 'aria-hidden', 'true');\n    root.appendChild(fileName);\n    root.ref.fileName = fileName; // filesize\n\n    var fileSize = createElement$1('span');\n    fileSize.className = 'filepond--file-info-sub';\n    root.appendChild(fileSize);\n    root.ref.fileSize = fileSize; // set initial values\n\n    text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n    text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n  };\n\n  var updateFile = function updateFile(_ref2) {\n    var root = _ref2.root,\n        props = _ref2.props;\n    text(root.ref.fileSize, toNaturalFileSize(root.query('GET_ITEM_SIZE', props.id), '.', root.query('GET_FILE_SIZE_BASE')));\n    text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n  };\n\n  var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {\n    var root = _ref3.root,\n        props = _ref3.props; // if size is available don't fallback to unknown size message\n\n    if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n      return;\n    }\n\n    text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n  };\n\n  var fileInfo = createView({\n    name: 'file-info',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n      DID_LOAD_ITEM: updateFile,\n      DID_UPDATE_ITEM_META: updateFile,\n      DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n      DID_THROW_ITEM_INVALID: updateFileSizeOnError\n    }),\n    didCreateView: function didCreateView(root) {\n      applyFilters('CREATE_VIEW', Object.assign({}, root, {\n        view: root\n      }));\n    },\n    create: create$2,\n    mixins: {\n      styles: ['translateX', 'translateY'],\n      animations: {\n        translateX: 'spring',\n        translateY: 'spring'\n      }\n    }\n  });\n\n  var toPercentage = function toPercentage(value) {\n    return Math.round(value * 100);\n  };\n\n  var create$3 = function create(_ref) {\n    var root = _ref.root; // main status\n\n    var main = createElement$1('span');\n    main.className = 'filepond--file-status-main';\n    root.appendChild(main);\n    root.ref.main = main; // sub status\n\n    var sub = createElement$1('span');\n    sub.className = 'filepond--file-status-sub';\n    root.appendChild(sub);\n    root.ref.sub = sub;\n    didSetItemLoadProgress({\n      root: root,\n      action: {\n        progress: null\n      }\n    });\n  };\n\n  var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {\n    var root = _ref2.root,\n        action = _ref2.action;\n    var title = action.progress === null ? root.query('GET_LABEL_FILE_LOADING') : root.query('GET_LABEL_FILE_LOADING') + ' ' + toPercentage(action.progress) + '%';\n    text(root.ref.main, title);\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n  };\n\n  var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {\n    var root = _ref3.root,\n        action = _ref3.action;\n    var title = action.progress === null ? root.query('GET_LABEL_FILE_PROCESSING') : root.query('GET_LABEL_FILE_PROCESSING') + ' ' + toPercentage(action.progress) + '%';\n    text(root.ref.main, title);\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n  };\n\n  var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {\n    var root = _ref4.root;\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n  };\n\n  var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {\n    var root = _ref5.root;\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n  };\n\n  var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {\n    var root = _ref6.root;\n    text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n    text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n  };\n\n  var clear = function clear(_ref7) {\n    var root = _ref7.root;\n    text(root.ref.main, '');\n    text(root.ref.sub, '');\n  };\n\n  var error = function error(_ref8) {\n    var root = _ref8.root,\n        action = _ref8.action;\n    text(root.ref.main, action.status.main);\n    text(root.ref.sub, action.status.sub);\n  };\n\n  var fileStatus = createView({\n    name: 'file-status',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n      DID_LOAD_ITEM: clear,\n      DID_REVERT_ITEM_PROCESSING: clear,\n      DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n      DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n      DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n      DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n      DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n      DID_THROW_ITEM_LOAD_ERROR: error,\n      DID_THROW_ITEM_INVALID: error,\n      DID_THROW_ITEM_PROCESSING_ERROR: error,\n      DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n      DID_THROW_ITEM_REMOVE_ERROR: error\n    }),\n    didCreateView: function didCreateView(root) {\n      applyFilters('CREATE_VIEW', Object.assign({}, root, {\n        view: root\n      }));\n    },\n    create: create$3,\n    mixins: {\n      styles: ['translateX', 'translateY', 'opacity'],\n      animations: {\n        opacity: {\n          type: 'tween',\n          duration: 250\n        },\n        translateX: 'spring',\n        translateY: 'spring'\n      }\n    }\n  });\n  /**\n   * Button definitions for the file view\n   */\n\n  var Buttons = {\n    AbortItemLoad: {\n      label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n      action: 'ABORT_ITEM_LOAD',\n      className: 'filepond--action-abort-item-load',\n      align: 'LOAD_INDICATOR_POSITION' // right\n\n    },\n    RetryItemLoad: {\n      label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n      action: 'RETRY_ITEM_LOAD',\n      icon: 'GET_ICON_RETRY',\n      className: 'filepond--action-retry-item-load',\n      align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n\n    },\n    RemoveItem: {\n      label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n      action: 'REQUEST_REMOVE_ITEM',\n      icon: 'GET_ICON_REMOVE',\n      className: 'filepond--action-remove-item',\n      align: 'BUTTON_REMOVE_ITEM_POSITION' // left\n\n    },\n    ProcessItem: {\n      label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n      action: 'REQUEST_ITEM_PROCESSING',\n      icon: 'GET_ICON_PROCESS',\n      className: 'filepond--action-process-item',\n      align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n\n    },\n    AbortItemProcessing: {\n      label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n      action: 'ABORT_ITEM_PROCESSING',\n      className: 'filepond--action-abort-item-processing',\n      align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n\n    },\n    RetryItemProcessing: {\n      label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n      action: 'RETRY_ITEM_PROCESSING',\n      icon: 'GET_ICON_RETRY',\n      className: 'filepond--action-retry-item-processing',\n      align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n\n    },\n    RevertItemProcessing: {\n      label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n      action: 'REQUEST_REVERT_ITEM_PROCESSING',\n      icon: 'GET_ICON_UNDO',\n      className: 'filepond--action-revert-item-processing',\n      align: 'BUTTON_PROCESS_ITEM_POSITION' // right\n\n    }\n  }; // make a list of buttons, we can then remove buttons from this list if they're disabled\n\n  var ButtonKeys = [];\n  forin(Buttons, function (key) {\n    ButtonKeys.push(key);\n  });\n\n  var calculateFileInfoOffset = function calculateFileInfoOffset(root) {\n    var buttonRect = root.ref.buttonRemoveItem.rect.element;\n    return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n  };\n\n  var calculateButtonWidth = function calculateButtonWidth(root) {\n    var buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n    return buttonRect.width;\n  }; // Force on full pixels so text stays crips\n\n\n  var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {\n    return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\n  };\n\n  var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {\n    return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n  };\n\n  var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {\n    return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\n  };\n\n  var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {\n    return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\n  };\n\n  var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {\n    return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n  };\n\n  var DefaultStyle = {\n    buttonAbortItemLoad: {\n      opacity: 0\n    },\n    buttonRetryItemLoad: {\n      opacity: 0\n    },\n    buttonRemoveItem: {\n      opacity: 0\n    },\n    buttonProcessItem: {\n      opacity: 0\n    },\n    buttonAbortItemProcessing: {\n      opacity: 0\n    },\n    buttonRetryItemProcessing: {\n      opacity: 0\n    },\n    buttonRevertItemProcessing: {\n      opacity: 0\n    },\n    loadProgressIndicator: {\n      opacity: 0,\n      align: getLoadIndicatorAlignment\n    },\n    processProgressIndicator: {\n      opacity: 0,\n      align: getProcessIndicatorAlignment\n    },\n    processingCompleteIndicator: {\n      opacity: 0,\n      scaleX: 0.75,\n      scaleY: 0.75\n    },\n    info: {\n      translateX: 0,\n      translateY: 0,\n      opacity: 0\n    },\n    status: {\n      translateX: 0,\n      translateY: 0,\n      opacity: 0\n    }\n  };\n  var IdleStyle = {\n    buttonRemoveItem: {\n      opacity: 1\n    },\n    buttonProcessItem: {\n      opacity: 1\n    },\n    info: {\n      translateX: calculateFileInfoOffset\n    },\n    status: {\n      translateX: calculateFileInfoOffset\n    }\n  };\n  var ProcessingStyle = {\n    buttonAbortItemProcessing: {\n      opacity: 1\n    },\n    processProgressIndicator: {\n      opacity: 1\n    },\n    status: {\n      opacity: 1\n    }\n  };\n  var StyleMap = {\n    DID_THROW_ITEM_INVALID: {\n      buttonRemoveItem: {\n        opacity: 1\n      },\n      info: {\n        translateX: calculateFileInfoOffset\n      },\n      status: {\n        translateX: calculateFileInfoOffset,\n        opacity: 1\n      }\n    },\n    DID_START_ITEM_LOAD: {\n      buttonAbortItemLoad: {\n        opacity: 1\n      },\n      loadProgressIndicator: {\n        opacity: 1\n      },\n      status: {\n        opacity: 1\n      }\n    },\n    DID_THROW_ITEM_LOAD_ERROR: {\n      buttonRetryItemLoad: {\n        opacity: 1\n      },\n      buttonRemoveItem: {\n        opacity: 1\n      },\n      info: {\n        translateX: calculateFileInfoOffset\n      },\n      status: {\n        opacity: 1\n      }\n    },\n    DID_START_ITEM_REMOVE: {\n      processProgressIndicator: {\n        opacity: 1,\n        align: getRemoveIndicatorAligment\n      },\n      info: {\n        translateX: calculateFileInfoOffset\n      },\n      status: {\n        opacity: 0\n      }\n    },\n    DID_THROW_ITEM_REMOVE_ERROR: {\n      processProgressIndicator: {\n        opacity: 0,\n        align: getRemoveIndicatorAligment\n      },\n      buttonRemoveItem: {\n        opacity: 1\n      },\n      info: {\n        translateX: calculateFileInfoOffset\n      },\n      status: {\n        opacity: 1,\n        translateX: calculateFileInfoOffset\n      }\n    },\n    DID_LOAD_ITEM: IdleStyle,\n    DID_LOAD_LOCAL_ITEM: {\n      buttonRemoveItem: {\n        opacity: 1\n      },\n      info: {\n        translateX: calculateFileInfoOffset\n      },\n      status: {\n        translateX: calculateFileInfoOffset\n      }\n    },\n    DID_START_ITEM_PROCESSING: ProcessingStyle,\n    DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n    DID_COMPLETE_ITEM_PROCESSING: {\n      buttonRevertItemProcessing: {\n        opacity: 1\n      },\n      info: {\n        opacity: 1\n      },\n      status: {\n        opacity: 1\n      }\n    },\n    DID_THROW_ITEM_PROCESSING_ERROR: {\n      buttonRemoveItem: {\n        opacity: 1\n      },\n      buttonRetryItemProcessing: {\n        opacity: 1\n      },\n      status: {\n        opacity: 1\n      },\n      info: {\n        translateX: calculateFileInfoOffset\n      }\n    },\n    DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n      buttonRevertItemProcessing: {\n        opacity: 1\n      },\n      status: {\n        opacity: 1\n      },\n      info: {\n        opacity: 1\n      }\n    },\n    DID_ABORT_ITEM_PROCESSING: {\n      buttonRemoveItem: {\n        opacity: 1\n      },\n      buttonProcessItem: {\n        opacity: 1\n      },\n      info: {\n        translateX: calculateFileInfoOffset\n      },\n      status: {\n        opacity: 1\n      }\n    },\n    DID_REVERT_ITEM_PROCESSING: IdleStyle\n  }; // complete indicator view\n\n  var processingCompleteIndicatorView = createView({\n    create: function create(_ref) {\n      var root = _ref.root;\n      root.element.innerHTML = root.query('GET_ICON_DONE');\n    },\n    name: 'processing-complete-indicator',\n    ignoreRect: true,\n    mixins: {\n      styles: ['scaleX', 'scaleY', 'opacity'],\n      animations: {\n        scaleX: 'spring',\n        scaleY: 'spring',\n        opacity: {\n          type: 'tween',\n          duration: 250\n        }\n      }\n    }\n  });\n  /**\n   * Creates the file view\n   */\n\n  var create$4 = function create(_ref2) {\n    var root = _ref2.root,\n        props = _ref2.props;\n    var id = props.id; // allow reverting upload\n\n    var allowRevert = root.query('GET_ALLOW_REVERT'); // allow remove file\n\n    var allowRemove = root.query('GET_ALLOW_REMOVE'); // allow processing upload\n\n    var allowProcess = root.query('GET_ALLOW_PROCESS'); // is instant uploading, need this to determine the icon of the undo button\n\n    var instantUpload = root.query('GET_INSTANT_UPLOAD'); // is async set up\n\n    var isAsync = root.query('IS_ASYNC'); // should align remove item buttons\n\n    var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN'); // enabled buttons array\n\n    var buttonFilter;\n\n    if (isAsync) {\n      if (allowProcess && !allowRevert) {\n        // only remove revert button\n        buttonFilter = function buttonFilter(key) {\n          return !/RevertItemProcessing/.test(key);\n        };\n      } else if (!allowProcess && allowRevert) {\n        // only remove process button\n        buttonFilter = function buttonFilter(key) {\n          return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n        };\n      } else if (!allowProcess && !allowRevert) {\n        // remove all process buttons\n        buttonFilter = function buttonFilter(key) {\n          return !/Process/.test(key);\n        };\n      }\n    } else {\n      // no process controls available\n      buttonFilter = function buttonFilter(key) {\n        return !/Process/.test(key);\n      };\n    }\n\n    var enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat(); // update icon and label for revert button when instant uploading\n\n    if (instantUpload && allowRevert) {\n      Buttons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n      Buttons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n    } // remove last button (revert) if not allowed\n\n\n    if (isAsync && !allowRevert) {\n      var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n      map.info.translateX = calculateFileHorizontalCenterOffset;\n      map.info.translateY = calculateFileVerticalCenterOffset;\n      map.status.translateY = calculateFileVerticalCenterOffset;\n      map.processingCompleteIndicator = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1\n      };\n    } // should align center\n\n\n    if (isAsync && !allowProcess) {\n      ['DID_START_ITEM_PROCESSING', 'DID_REQUEST_ITEM_PROCESSING', 'DID_UPDATE_ITEM_PROCESS_PROGRESS', 'DID_THROW_ITEM_PROCESSING_ERROR'].forEach(function (key) {\n        StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n      });\n      StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n    } // move remove button to right\n\n\n    if (alignRemoveItemButton && allowRevert) {\n      Buttons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n      var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n      _map.info.translateX = calculateFileInfoOffset;\n      _map.status.translateY = calculateFileVerticalCenterOffset;\n      _map.processingCompleteIndicator = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1\n      };\n    }\n\n    if (!allowRemove) {\n      Buttons['RemoveItem'].disabled = true;\n    } // create the button views\n\n\n    forin(Buttons, function (key, definition) {\n      // create button\n      var buttonView = root.createChildView(fileActionButton, {\n        label: root.query(definition.label),\n        icon: root.query(definition.icon),\n        opacity: 0\n      }); // should be appended?\n\n      if (enabledButtons.includes(key)) {\n        root.appendChildView(buttonView);\n      } // toggle\n\n\n      if (definition.disabled) {\n        buttonView.element.setAttribute('disabled', 'disabled');\n        buttonView.element.setAttribute('hidden', 'hidden');\n      } // add position attribute\n\n\n      buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align); // add class\n\n      buttonView.element.classList.add(definition.className); // handle interactions\n\n      buttonView.on('click', function (e) {\n        e.stopPropagation();\n        if (definition.disabled) return;\n        root.dispatch(definition.action, {\n          query: id\n        });\n      }); // set reference\n\n      root.ref['button' + key] = buttonView;\n    }); // checkmark\n\n    root.ref.processingCompleteIndicator = root.appendChildView(root.createChildView(processingCompleteIndicatorView));\n    root.ref.processingCompleteIndicator.element.dataset.align = root.query('GET_STYLE_BUTTON_PROCESS_ITEM_POSITION'); // create file info view\n\n    root.ref.info = root.appendChildView(root.createChildView(fileInfo, {\n      id: id\n    })); // create file status view\n\n    root.ref.status = root.appendChildView(root.createChildView(fileStatus, {\n      id: id\n    })); // add progress indicators\n\n    var loadIndicatorView = root.appendChildView(root.createChildView(progressIndicator, {\n      opacity: 0,\n      align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION')\n    }));\n    loadIndicatorView.element.classList.add('filepond--load-indicator');\n    root.ref.loadProgressIndicator = loadIndicatorView;\n    var progressIndicatorView = root.appendChildView(root.createChildView(progressIndicator, {\n      opacity: 0,\n      align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION')\n    }));\n    progressIndicatorView.element.classList.add('filepond--process-indicator');\n    root.ref.processProgressIndicator = progressIndicatorView; // current active styles\n\n    root.ref.activeStyles = [];\n  };\n\n  var write$2 = function write(_ref3) {\n    var root = _ref3.root,\n        actions = _ref3.actions,\n        props = _ref3.props; // route actions\n\n    route({\n      root: root,\n      actions: actions,\n      props: props\n    }); // select last state change action\n\n    var action = actions.concat().filter(function (action) {\n      return /^DID_/.test(action.type);\n    }).reverse().find(function (action) {\n      return StyleMap[action.type];\n    }); // a new action happened, let's get the matching styles\n\n    if (action) {\n      // define new active styles\n      root.ref.activeStyles = [];\n      var stylesToApply = StyleMap[action.type];\n      forin(DefaultStyle, function (name, defaultStyles) {\n        // get reference to control\n        var control = root.ref[name]; // loop over all styles for this control\n\n        forin(defaultStyles, function (key, defaultValue) {\n          var value = stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined' ? stylesToApply[name][key] : defaultValue;\n          root.ref.activeStyles.push({\n            control: control,\n            key: key,\n            value: value\n          });\n        });\n      });\n    } // apply active styles to element\n\n\n    root.ref.activeStyles.forEach(function (_ref4) {\n      var control = _ref4.control,\n          key = _ref4.key,\n          value = _ref4.value;\n      control[key] = typeof value === 'function' ? value(root) : value;\n    });\n  };\n\n  var route = createRoute({\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(_ref5) {\n      var root = _ref5.root,\n          action = _ref5.action;\n      root.ref.buttonAbortItemProcessing.label = action.value;\n    },\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {\n      var root = _ref6.root,\n          action = _ref6.action;\n      root.ref.buttonAbortItemLoad.label = action.value;\n    },\n    DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(_ref7) {\n      var root = _ref7.root,\n          action = _ref7.action;\n      root.ref.buttonAbortItemRemoval.label = action.value;\n    },\n    DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {\n      var root = _ref8.root;\n      root.ref.processProgressIndicator.spin = true;\n      root.ref.processProgressIndicator.progress = 0;\n    },\n    DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {\n      var root = _ref9.root;\n      root.ref.loadProgressIndicator.spin = true;\n      root.ref.loadProgressIndicator.progress = 0;\n    },\n    DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {\n      var root = _ref10.root;\n      root.ref.processProgressIndicator.spin = true;\n      root.ref.processProgressIndicator.progress = 0;\n    },\n    DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {\n      var root = _ref11.root,\n          action = _ref11.action;\n      root.ref.loadProgressIndicator.spin = false;\n      root.ref.loadProgressIndicator.progress = action.progress;\n    },\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {\n      var root = _ref12.root,\n          action = _ref12.action;\n      root.ref.processProgressIndicator.spin = false;\n      root.ref.processProgressIndicator.progress = action.progress;\n    }\n  });\n  var file = createView({\n    create: create$4,\n    write: write$2,\n    didCreateView: function didCreateView(root) {\n      applyFilters('CREATE_VIEW', Object.assign({}, root, {\n        view: root\n      }));\n    },\n    name: 'file'\n  });\n  /**\n   * Creates the file view\n   */\n\n  var create$5 = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props; // filename\n\n    root.ref.fileName = createElement$1('legend');\n    root.appendChild(root.ref.fileName); // file appended\n\n    root.ref.file = root.appendChildView(root.createChildView(file, {\n      id: props.id\n    })); // data has moved to data.js\n\n    root.ref.data = false;\n  };\n  /**\n   * Data storage\n   */\n\n\n  var didLoadItem = function didLoadItem(_ref2) {\n    var root = _ref2.root,\n        props = _ref2.props; // updates the legend of the fieldset so screenreaders can better group buttons\n\n    text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n  };\n\n  var fileWrapper = createView({\n    create: create$5,\n    ignoreRect: true,\n    write: createRoute({\n      DID_LOAD_ITEM: didLoadItem\n    }),\n    didCreateView: function didCreateView(root) {\n      applyFilters('CREATE_VIEW', Object.assign({}, root, {\n        view: root\n      }));\n    },\n    tag: 'fieldset',\n    name: 'file-wrapper'\n  });\n  var PANEL_SPRING_PROPS = {\n    type: 'spring',\n    damping: 0.6,\n    mass: 7\n  };\n\n  var create$6 = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props;\n    [{\n      name: 'top'\n    }, {\n      name: 'center',\n      props: {\n        translateY: null,\n        scaleY: null\n      },\n      mixins: {\n        animations: {\n          scaleY: PANEL_SPRING_PROPS\n        },\n        styles: ['translateY', 'scaleY']\n      }\n    }, {\n      name: 'bottom',\n      props: {\n        translateY: null\n      },\n      mixins: {\n        animations: {\n          translateY: PANEL_SPRING_PROPS\n        },\n        styles: ['translateY']\n      }\n    }].forEach(function (section) {\n      createSection(root, section, props.name);\n    });\n    root.element.classList.add('filepond--' + props.name);\n    root.ref.scalable = null;\n  };\n\n  var createSection = function createSection(root, section, className) {\n    var viewConstructor = createView({\n      name: 'panel-' + section.name + ' filepond--' + className,\n      mixins: section.mixins,\n      ignoreRectUpdate: true\n    });\n    var view = root.createChildView(viewConstructor, section.props);\n    root.ref[section.name] = root.appendChildView(view);\n  };\n\n  var write$3 = function write(_ref2) {\n    var root = _ref2.root,\n        props = _ref2.props; // update scalable state\n\n    if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n      root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n      root.element.dataset.scalable = root.ref.scalable;\n    } // no height, can't set\n\n\n    if (!props.height) return; // get child rects\n\n    var topRect = root.ref.top.rect.element;\n    var bottomRect = root.ref.bottom.rect.element; // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n\n    var height = Math.max(topRect.height + bottomRect.height, props.height); // offset center part\n\n    root.ref.center.translateY = topRect.height; // scale center part\n    // use math ceil to prevent transparent lines because of rounding errors\n\n    root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100; // offset bottom part\n\n    root.ref.bottom.translateY = height - bottomRect.height;\n  };\n\n  var panel = createView({\n    name: 'panel',\n    read: function read(_ref3) {\n      var root = _ref3.root,\n          props = _ref3.props;\n      return props.heightCurrent = root.ref.bottom.translateY;\n    },\n    write: write$3,\n    create: create$6,\n    ignoreRect: true,\n    mixins: {\n      apis: ['height', 'heightCurrent', 'scalable']\n    }\n  });\n\n  var createDragHelper = function createDragHelper(items) {\n    var itemIds = items.map(function (item) {\n      return item.id;\n    });\n    var prevIndex = undefined;\n    return {\n      setIndex: function setIndex(index) {\n        prevIndex = index;\n      },\n      getIndex: function getIndex() {\n        return prevIndex;\n      },\n      getItemIndex: function getItemIndex(item) {\n        return itemIds.indexOf(item.id);\n      }\n    };\n  };\n\n  var ITEM_TRANSLATE_SPRING = {\n    type: 'spring',\n    stiffness: 0.75,\n    damping: 0.45,\n    mass: 10\n  };\n  var ITEM_SCALE_SPRING = 'spring';\n  var StateMap = {\n    DID_START_ITEM_LOAD: 'busy',\n    DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n    DID_THROW_ITEM_INVALID: 'load-invalid',\n    DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n    DID_LOAD_ITEM: 'idle',\n    DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n    DID_START_ITEM_REMOVE: 'busy',\n    DID_START_ITEM_PROCESSING: 'busy processing',\n    DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n    DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n    DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n    DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n    DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n    DID_ABORT_ITEM_PROCESSING: 'cancelled',\n    DID_REVERT_ITEM_PROCESSING: 'idle'\n  };\n  /**\n   * Creates the file view\n   */\n\n  var create$7 = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props; // select\n\n    root.ref.handleClick = function (e) {\n      return root.dispatch('DID_ACTIVATE_ITEM', {\n        id: props.id\n      });\n    }; // set id\n\n\n    root.element.id = 'filepond--item-' + props.id;\n    root.element.addEventListener('click', root.ref.handleClick); // file view\n\n    root.ref.container = root.appendChildView(root.createChildView(fileWrapper, {\n      id: props.id\n    })); // file panel\n\n    root.ref.panel = root.appendChildView(root.createChildView(panel, {\n      name: 'item-panel'\n    })); // default start height\n\n    root.ref.panel.height = null; // by default not marked for removal\n\n    props.markedForRemoval = false; // if not allowed to reorder file items, exit here\n\n    if (!root.query('GET_ALLOW_REORDER')) return; // set to idle so shows grab cursor\n\n    root.element.dataset.dragState = 'idle';\n\n    var grab = function grab(e) {\n      if (!e.isPrimary) return;\n      var removedActivateListener = false;\n      var origin = {\n        x: e.pageX,\n        y: e.pageY\n      };\n      props.dragOrigin = {\n        x: root.translateX,\n        y: root.translateY\n      };\n      props.dragCenter = {\n        x: e.offsetX,\n        y: e.offsetY\n      };\n      var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n      root.dispatch('DID_GRAB_ITEM', {\n        id: props.id,\n        dragState: dragState\n      });\n\n      var drag = function drag(e) {\n        if (!e.isPrimary) return;\n        e.stopPropagation();\n        e.preventDefault();\n        props.dragOffset = {\n          x: e.pageX - origin.x,\n          y: e.pageY - origin.y\n        }; // if dragged stop listening to clicks, will re-add when done dragging\n\n        var dist = props.dragOffset.x * props.dragOffset.x + props.dragOffset.y * props.dragOffset.y;\n\n        if (dist > 16 && !removedActivateListener) {\n          removedActivateListener = true;\n          root.element.removeEventListener('click', root.ref.handleClick);\n        }\n\n        root.dispatch('DID_DRAG_ITEM', {\n          id: props.id,\n          dragState: dragState\n        });\n      };\n\n      var drop = function drop(e) {\n        if (!e.isPrimary) return;\n        document.removeEventListener('pointermove', drag);\n        document.removeEventListener('pointerup', drop);\n        props.dragOffset = {\n          x: e.pageX - origin.x,\n          y: e.pageY - origin.y\n        };\n        root.dispatch('DID_DROP_ITEM', {\n          id: props.id,\n          dragState: dragState\n        }); // start listening to clicks again\n\n        if (removedActivateListener) {\n          setTimeout(function () {\n            return root.element.addEventListener('click', root.ref.handleClick);\n          }, 0);\n        }\n      };\n\n      document.addEventListener('pointermove', drag);\n      document.addEventListener('pointerup', drop);\n    };\n\n    root.element.addEventListener('pointerdown', grab);\n  };\n\n  var route$1 = createRoute({\n    DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {\n      var root = _ref2.root,\n          action = _ref2.action;\n      root.height = action.height;\n    }\n  });\n  var write$4 = createRoute({\n    DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {\n      var root = _ref3.root,\n          props = _ref3.props;\n      props.dragOrigin = {\n        x: root.translateX,\n        y: root.translateY\n      };\n    },\n    DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {\n      var root = _ref4.root;\n      root.element.dataset.dragState = 'drag';\n    },\n    DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {\n      var root = _ref5.root,\n          props = _ref5.props;\n      props.dragOffset = null;\n      props.dragOrigin = null;\n      root.element.dataset.dragState = 'drop';\n    }\n  }, function (_ref6) {\n    var root = _ref6.root,\n        actions = _ref6.actions,\n        props = _ref6.props,\n        shouldOptimize = _ref6.shouldOptimize;\n\n    if (root.element.dataset.dragState === 'drop') {\n      if (root.scaleX <= 1) {\n        root.element.dataset.dragState = 'idle';\n      }\n    } // select last state change action\n\n\n    var action = actions.concat().filter(function (action) {\n      return /^DID_/.test(action.type);\n    }).reverse().find(function (action) {\n      return StateMap[action.type];\n    }); // no need to set same state twice\n\n    if (action && action.type !== props.currentState) {\n      // set current state\n      props.currentState = action.type; // set state\n\n      root.element.dataset.filepondItemState = StateMap[props.currentState] || '';\n    } // route actions\n\n\n    var aspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');\n\n    if (!aspectRatio) {\n      route$1({\n        root: root,\n        actions: actions,\n        props: props\n      });\n\n      if (!root.height && root.ref.container.rect.element.height > 0) {\n        root.height = root.ref.container.rect.element.height;\n      }\n    } else if (!shouldOptimize) {\n      root.height = root.rect.element.width * aspectRatio;\n    } // sync panel height with item height\n\n\n    if (shouldOptimize) {\n      root.ref.panel.height = null;\n    }\n\n    root.ref.panel.height = root.height;\n  });\n  var item = createView({\n    create: create$7,\n    write: write$4,\n    destroy: function destroy(_ref7) {\n      var root = _ref7.root,\n          props = _ref7.props;\n      root.element.removeEventListener('click', root.ref.handleClick);\n      root.dispatch('RELEASE_ITEM', {\n        query: props.id\n      });\n    },\n    tag: 'li',\n    name: 'item',\n    mixins: {\n      apis: ['id', 'interactionMethod', 'markedForRemoval', 'spawnDate', 'dragCenter', 'dragOrigin', 'dragOffset'],\n      styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],\n      animations: {\n        scaleX: ITEM_SCALE_SPRING,\n        scaleY: ITEM_SCALE_SPRING,\n        translateX: ITEM_TRANSLATE_SPRING,\n        translateY: ITEM_TRANSLATE_SPRING,\n        opacity: {\n          type: 'tween',\n          duration: 150\n        }\n      }\n    }\n  });\n\n  var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {\n    if (!positionInView) return;\n    var horizontalSpace = view.rect.element.width; // const children = view.childViews;\n\n    var l = children.length;\n    var last = null; // -1, don't move items to accomodate (either add to top or bottom)\n\n    if (l === 0 || positionInView.top < children[0].rect.element.top) return -1; // let's get the item width\n\n    var item = children[0];\n    var itemRect = item.rect.element;\n    var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n    var itemWidth = itemRect.width + itemHorizontalMargin;\n    var itemsPerRow = Math.round(horizontalSpace / itemWidth); // stack\n\n    if (itemsPerRow === 1) {\n      for (var index = 0; index < l; index++) {\n        var child = children[index];\n        var childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n\n        if (positionInView.top < childMid) {\n          return index;\n        }\n      }\n\n      return l;\n    } // grid\n\n\n    var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n    var itemHeight = itemRect.height + itemVerticalMargin;\n\n    for (var _index = 0; _index < l; _index++) {\n      var indexX = _index % itemsPerRow;\n      var indexY = Math.floor(_index / itemsPerRow);\n      var offsetX = indexX * itemWidth;\n      var offsetY = indexY * itemHeight;\n      var itemTop = offsetY - itemRect.marginTop;\n      var itemRight = offsetX + itemWidth;\n      var itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n\n      if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n        if (positionInView.left < itemRight) {\n          return _index;\n        } else if (_index !== l - 1) {\n          last = _index;\n        } else {\n          last = null;\n        }\n      }\n    }\n\n    if (last !== null) {\n      return last;\n    }\n\n    return l;\n  };\n\n  var dropAreaDimensions = {\n    height: 0,\n    width: 0,\n\n    get getHeight() {\n      return this.height;\n    },\n\n    set setHeight(val) {\n      if (this.height === 0 || val === 0) this.height = val;\n    },\n\n    get getWidth() {\n      return this.width;\n    },\n\n    set setWidth(val) {\n      if (this.width === 0 || val === 0) this.width = val;\n    },\n\n    setDimensions: function setDimensions(height, width) {\n      if (this.height === 0 || height === 0) this.height = height;\n      if (this.width === 0 || width === 0) this.width = width;\n    }\n  };\n\n  var create$8 = function create(_ref) {\n    var root = _ref.root; // need to set role to list as otherwise it won't be read as a list by VoiceOver\n\n    attr(root.element, 'role', 'list');\n    root.ref.lastItemSpanwDate = Date.now();\n  };\n  /**\n   * Inserts a new item\n   * @param root\n   * @param action\n   */\n\n\n  var addItemView = function addItemView(_ref2) {\n    var root = _ref2.root,\n        action = _ref2.action;\n    var id = action.id,\n        index = action.index,\n        interactionMethod = action.interactionMethod;\n    root.ref.addIndex = index;\n    var now = Date.now();\n    var spawnDate = now;\n    var opacity = 1;\n\n    if (interactionMethod !== InteractionMethod.NONE) {\n      opacity = 0;\n      var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n      var dist = now - root.ref.lastItemSpanwDate;\n      spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n    }\n\n    root.ref.lastItemSpanwDate = spawnDate;\n    root.appendChildView(root.createChildView( // view type\n    item, // props\n    {\n      spawnDate: spawnDate,\n      id: id,\n      opacity: opacity,\n      interactionMethod: interactionMethod\n    }), index);\n  };\n\n  var moveItem = function moveItem(item, x, y) {\n    var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1; // set to null to remove animation while dragging\n\n    if (item.dragOffset) {\n      item.translateX = null;\n      item.translateY = null;\n      item.translateX = item.dragOrigin.x + item.dragOffset.x;\n      item.translateY = item.dragOrigin.y + item.dragOffset.y;\n      item.scaleX = 1.025;\n      item.scaleY = 1.025;\n    } else {\n      item.translateX = x;\n      item.translateY = y;\n\n      if (Date.now() > item.spawnDate) {\n        // reveal element\n        if (item.opacity === 0) {\n          introItemView(item, x, y, vx, vy);\n        } // make sure is default scale every frame\n\n\n        item.scaleX = 1;\n        item.scaleY = 1;\n        item.opacity = 1;\n      }\n    }\n  };\n\n  var introItemView = function introItemView(item, x, y, vx, vy) {\n    if (item.interactionMethod === InteractionMethod.NONE) {\n      item.translateX = null;\n      item.translateX = x;\n      item.translateY = null;\n      item.translateY = y;\n    } else if (item.interactionMethod === InteractionMethod.DROP) {\n      item.translateX = null;\n      item.translateX = x - vx * 20;\n      item.translateY = null;\n      item.translateY = y - vy * 10;\n      item.scaleX = 0.8;\n      item.scaleY = 0.8;\n    } else if (item.interactionMethod === InteractionMethod.BROWSE) {\n      item.translateY = null;\n      item.translateY = y - 30;\n    } else if (item.interactionMethod === InteractionMethod.API) {\n      item.translateX = null;\n      item.translateX = x - 30;\n      item.translateY = null;\n    }\n  };\n  /**\n   * Removes an existing item\n   * @param root\n   * @param action\n   */\n\n\n  var removeItemView = function removeItemView(_ref3) {\n    var root = _ref3.root,\n        action = _ref3.action;\n    var id = action.id; // get the view matching the given id\n\n    var view = root.childViews.find(function (child) {\n      return child.id === id;\n    }); // if no view found, exit\n\n    if (!view) {\n      return;\n    } // animate view out of view\n\n\n    view.scaleX = 0.9;\n    view.scaleY = 0.9;\n    view.opacity = 0; // mark for removal\n\n    view.markedForRemoval = true;\n  };\n\n  var getItemHeight = function getItemHeight(child) {\n    return child.rect.element.height + child.rect.element.marginBottom * 0.5 + child.rect.element.marginTop * 0.5;\n  };\n\n  var getItemWidth = function getItemWidth(child) {\n    return child.rect.element.width + child.rect.element.marginLeft * 0.5 + child.rect.element.marginRight * 0.5;\n  };\n\n  var dragItem = function dragItem(_ref4) {\n    var root = _ref4.root,\n        action = _ref4.action;\n    var id = action.id,\n        dragState = action.dragState; // reference to item\n\n    var item = root.query('GET_ITEM', {\n      id: id\n    }); // get the view matching the given id\n\n    var view = root.childViews.find(function (child) {\n      return child.id === id;\n    });\n    var numItems = root.childViews.length;\n    var oldIndex = dragState.getItemIndex(item); // if no view found, exit\n\n    if (!view) return;\n    var dragPosition = {\n      x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n      y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y // get drag area dimensions\n\n    };\n    var dragHeight = getItemHeight(view);\n    var dragWidth = getItemWidth(view); // get rows and columns (There will always be at least one row and one column if a file is present)\n\n    var cols = Math.floor(root.rect.outer.width / dragWidth);\n    if (cols > numItems) cols = numItems; // rows are used to find when we have left the preview area bounding box\n\n    var rows = Math.floor(numItems / cols + 1);\n    dropAreaDimensions.setHeight = dragHeight * rows;\n    dropAreaDimensions.setWidth = dragWidth * cols; // get new index of dragged item\n\n    var location = {\n      y: Math.floor(dragPosition.y / dragHeight),\n      x: Math.floor(dragPosition.x / dragWidth),\n      getGridIndex: function getGridIndex() {\n        if (dragPosition.y > dropAreaDimensions.getHeight || dragPosition.y < 0 || dragPosition.x > dropAreaDimensions.getWidth || dragPosition.x < 0) return oldIndex;\n        return this.y * cols + this.x;\n      },\n      getColIndex: function getColIndex() {\n        var items = root.query('GET_ACTIVE_ITEMS');\n        var visibleChildren = root.childViews.filter(function (child) {\n          return child.rect.element.height;\n        });\n        var children = items.map(function (item) {\n          return visibleChildren.find(function (childView) {\n            return childView.id === item.id;\n          });\n        });\n        var currentIndex = children.findIndex(function (child) {\n          return child === view;\n        });\n        var dragHeight = getItemHeight(view);\n        var l = children.length;\n        var idx = l;\n        var childHeight = 0;\n        var childBottom = 0;\n        var childTop = 0;\n\n        for (var i = 0; i < l; i++) {\n          childHeight = getItemHeight(children[i]);\n          childTop = childBottom;\n          childBottom = childTop + childHeight;\n\n          if (dragPosition.y < childBottom) {\n            if (currentIndex > i) {\n              if (dragPosition.y < childTop + dragHeight) {\n                idx = i;\n                break;\n              }\n\n              continue;\n            }\n\n            idx = i;\n            break;\n          }\n        }\n\n        return idx;\n      } // get new index\n\n    };\n    var index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n    root.dispatch('MOVE_ITEM', {\n      query: view,\n      index: index\n    }); // if the index of the item changed, dispatch reorder action\n\n    var currentIndex = dragState.getIndex();\n\n    if (currentIndex === undefined || currentIndex !== index) {\n      dragState.setIndex(index);\n      if (currentIndex === undefined) return;\n      root.dispatch('DID_REORDER_ITEMS', {\n        items: root.query('GET_ACTIVE_ITEMS'),\n        origin: oldIndex,\n        target: index\n      });\n    }\n  };\n  /**\n   * Setup action routes\n   */\n\n\n  var route$2 = createRoute({\n    DID_ADD_ITEM: addItemView,\n    DID_REMOVE_ITEM: removeItemView,\n    DID_DRAG_ITEM: dragItem\n  });\n  /**\n   * Write to view\n   * @param root\n   * @param actions\n   * @param props\n   */\n\n  var write$5 = function write(_ref5) {\n    var root = _ref5.root,\n        props = _ref5.props,\n        actions = _ref5.actions,\n        shouldOptimize = _ref5.shouldOptimize; // route actions\n\n    route$2({\n      root: root,\n      props: props,\n      actions: actions\n    });\n    var dragCoordinates = props.dragCoordinates; // available space on horizontal axis\n\n    var horizontalSpace = root.rect.element.width; // only draw children that have dimensions\n\n    var visibleChildren = root.childViews.filter(function (child) {\n      return child.rect.element.height;\n    }); // sort based on current active items\n\n    var children = root.query('GET_ACTIVE_ITEMS').map(function (item) {\n      return visibleChildren.find(function (child) {\n        return child.id === item.id;\n      });\n    }).filter(function (item) {\n      return item;\n    }); // get index\n\n    var dragIndex = dragCoordinates ? getItemIndexByPosition(root, children, dragCoordinates) : null; // add index is used to reserve the dropped/added item index till the actual item is rendered\n\n    var addIndex = root.ref.addIndex || null; // add index no longer needed till possibly next draw\n\n    root.ref.addIndex = null;\n    var dragIndexOffset = 0;\n    var removeIndexOffset = 0;\n    var addIndexOffset = 0;\n    if (children.length === 0) return;\n    var childRect = children[0].rect.element;\n    var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n    var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n    var itemWidth = childRect.width + itemHorizontalMargin;\n    var itemHeight = childRect.height + itemVerticalMargin;\n    var itemsPerRow = Math.round(horizontalSpace / itemWidth); // stack\n\n    if (itemsPerRow === 1) {\n      var offsetY = 0;\n      var dragOffset = 0;\n      children.forEach(function (child, index) {\n        if (dragIndex) {\n          var dist = index - dragIndex;\n\n          if (dist === -2) {\n            dragOffset = -itemVerticalMargin * 0.25;\n          } else if (dist === -1) {\n            dragOffset = -itemVerticalMargin * 0.75;\n          } else if (dist === 0) {\n            dragOffset = itemVerticalMargin * 0.75;\n          } else if (dist === 1) {\n            dragOffset = itemVerticalMargin * 0.25;\n          } else {\n            dragOffset = 0;\n          }\n        }\n\n        if (shouldOptimize) {\n          child.translateX = null;\n          child.translateY = null;\n        }\n\n        if (!child.markedForRemoval) {\n          moveItem(child, 0, offsetY + dragOffset);\n        }\n\n        var itemHeight = child.rect.element.height + itemVerticalMargin;\n        var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n        offsetY += visualHeight;\n      });\n    } // grid\n    else {\n        var prevX = 0;\n        var prevY = 0;\n        children.forEach(function (child, index) {\n          if (index === dragIndex) {\n            dragIndexOffset = 1;\n          }\n\n          if (index === addIndex) {\n            addIndexOffset += 1;\n          }\n\n          if (child.markedForRemoval && child.opacity < 0.5) {\n            removeIndexOffset -= 1;\n          }\n\n          var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n          var indexX = visualIndex % itemsPerRow;\n          var indexY = Math.floor(visualIndex / itemsPerRow);\n          var offsetX = indexX * itemWidth;\n          var offsetY = indexY * itemHeight;\n          var vectorX = Math.sign(offsetX - prevX);\n          var vectorY = Math.sign(offsetY - prevY);\n          prevX = offsetX;\n          prevY = offsetY;\n          if (child.markedForRemoval) return;\n\n          if (shouldOptimize) {\n            child.translateX = null;\n            child.translateY = null;\n          }\n\n          moveItem(child, offsetX, offsetY, vectorX, vectorY);\n        });\n      }\n  };\n  /**\n   * Filters actions that are meant specifically for a certain child of the list\n   * @param child\n   * @param actions\n   */\n\n\n  var filterSetItemActions = function filterSetItemActions(child, actions) {\n    return actions.filter(function (action) {\n      // if action has an id, filter out actions that don't have this child id\n      if (action.data && action.data.id) {\n        return child.id === action.data.id;\n      } // allow all other actions\n\n\n      return true;\n    });\n  };\n\n  var list = createView({\n    create: create$8,\n    write: write$5,\n    tag: 'ul',\n    name: 'list',\n    didWriteView: function didWriteView(_ref6) {\n      var root = _ref6.root;\n      root.childViews.filter(function (view) {\n        return view.markedForRemoval && view.opacity === 0 && view.resting;\n      }).forEach(function (view) {\n        view._destroy();\n\n        root.removeChildView(view);\n      });\n    },\n    filterFrameActionsForChild: filterSetItemActions,\n    mixins: {\n      apis: ['dragCoordinates']\n    }\n  });\n\n  var create$9 = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props;\n    root.ref.list = root.appendChildView(root.createChildView(list));\n    props.dragCoordinates = null;\n    props.overflowing = false;\n  };\n\n  var storeDragCoordinates = function storeDragCoordinates(_ref2) {\n    var root = _ref2.root,\n        props = _ref2.props,\n        action = _ref2.action;\n    if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;\n    props.dragCoordinates = {\n      left: action.position.scopeLeft - root.ref.list.rect.element.left,\n      top: action.position.scopeTop - (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop)\n    };\n  };\n\n  var clearDragCoordinates = function clearDragCoordinates(_ref3) {\n    var props = _ref3.props;\n    props.dragCoordinates = null;\n  };\n\n  var route$3 = createRoute({\n    DID_DRAG: storeDragCoordinates,\n    DID_END_DRAG: clearDragCoordinates\n  });\n\n  var write$6 = function write(_ref4) {\n    var root = _ref4.root,\n        props = _ref4.props,\n        actions = _ref4.actions; // route actions\n\n    route$3({\n      root: root,\n      props: props,\n      actions: actions\n    }); // current drag position\n\n    root.ref.list.dragCoordinates = props.dragCoordinates; // if currently overflowing but no longer received overflow\n\n    if (props.overflowing && !props.overflow) {\n      props.overflowing = false; // reset overflow state\n\n      root.element.dataset.state = '';\n      root.height = null;\n    } // if is not overflowing currently but does receive overflow value\n\n\n    if (props.overflow) {\n      var newHeight = Math.round(props.overflow);\n\n      if (newHeight !== root.height) {\n        props.overflowing = true;\n        root.element.dataset.state = 'overflow';\n        root.height = newHeight;\n      }\n    }\n  };\n\n  var listScroller = createView({\n    create: create$9,\n    write: write$6,\n    name: 'list-scroller',\n    mixins: {\n      apis: ['overflow', 'dragCoordinates'],\n      styles: ['height', 'translateY'],\n      animations: {\n        translateY: 'spring'\n      }\n    }\n  });\n\n  var attrToggle = function attrToggle(element, name, state) {\n    var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n\n    if (state) {\n      attr(element, name, enabledValue);\n    } else {\n      element.removeAttribute(name);\n    }\n  };\n\n  var resetFileInput = function resetFileInput(input) {\n    // no value, no need to reset\n    if (!input || input.value === '') {\n      return;\n    }\n\n    try {\n      // for modern browsers\n      input.value = '';\n    } catch (err) {} // for IE10\n\n\n    if (input.value) {\n      // quickly append input to temp form and reset form\n      var form = createElement$1('form');\n      var parentNode = input.parentNode;\n      var ref = input.nextSibling;\n      form.appendChild(input);\n      form.reset(); // re-inject input where it originally was\n\n      if (ref) {\n        parentNode.insertBefore(input, ref);\n      } else {\n        parentNode.appendChild(input);\n      }\n    }\n  };\n\n  var create$a = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props; // set id so can be referenced from outside labels\n\n    root.element.id = 'filepond--browser-' + props.id; // set name of element (is removed when a value is set)\n\n    attr(root.element, 'name', root.query('GET_NAME')); // we have to link this element to the status element\n\n    attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id); // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n\n    attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id); // set configurable props\n\n    setAcceptedFileTypes({\n      root: root,\n      action: {\n        value: root.query('GET_ACCEPTED_FILE_TYPES')\n      }\n    });\n    toggleAllowMultiple({\n      root: root,\n      action: {\n        value: root.query('GET_ALLOW_MULTIPLE')\n      }\n    });\n    toggleDirectoryFilter({\n      root: root,\n      action: {\n        value: root.query('GET_ALLOW_DIRECTORIES_ONLY')\n      }\n    });\n    toggleDisabled({\n      root: root\n    });\n    toggleRequired({\n      root: root,\n      action: {\n        value: root.query('GET_REQUIRED')\n      }\n    });\n    setCaptureMethod({\n      root: root,\n      action: {\n        value: root.query('GET_CAPTURE_METHOD')\n      }\n    }); // handle changes to the input field\n\n    root.ref.handleChange = function (e) {\n      if (!root.element.value) {\n        return;\n      } // extract files and move value of webkitRelativePath path to _relativePath\n\n\n      var files = Array.from(root.element.files).map(function (file) {\n        file._relativePath = file.webkitRelativePath;\n        return file;\n      }); // we add a little delay so the OS file select window can move out of the way before we add our file\n\n      setTimeout(function () {\n        // load files\n        props.onload(files); // reset input, it's just for exposing a method to drop files, should not retain any state\n\n        resetFileInput(root.element);\n      }, 250);\n    };\n\n    root.element.addEventListener('change', root.ref.handleChange);\n  };\n\n  var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {\n    var root = _ref2.root,\n        action = _ref2.action;\n    if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;\n    attrToggle(root.element, 'accept', !!action.value, action.value ? action.value.join(',') : '');\n  };\n\n  var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {\n    var root = _ref3.root,\n        action = _ref3.action;\n    attrToggle(root.element, 'multiple', action.value);\n  };\n\n  var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {\n    var root = _ref4.root,\n        action = _ref4.action;\n    attrToggle(root.element, 'webkitdirectory', action.value);\n  };\n\n  var toggleDisabled = function toggleDisabled(_ref5) {\n    var root = _ref5.root;\n    var isDisabled = root.query('GET_DISABLED');\n    var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n    var disableField = isDisabled || !doesAllowBrowse;\n    attrToggle(root.element, 'disabled', disableField);\n  };\n\n  var toggleRequired = function toggleRequired(_ref6) {\n    var root = _ref6.root,\n        action = _ref6.action; // want to remove required, always possible\n\n    if (!action.value) {\n      attrToggle(root.element, 'required', false);\n    } // if want to make required, only possible when zero items\n    else if (root.query('GET_TOTAL_ITEMS') === 0) {\n        attrToggle(root.element, 'required', true);\n      }\n  };\n\n  var setCaptureMethod = function setCaptureMethod(_ref7) {\n    var root = _ref7.root,\n        action = _ref7.action;\n    attrToggle(root.element, 'capture', !!action.value, action.value === true ? '' : action.value);\n  };\n\n  var updateRequiredStatus = function updateRequiredStatus(_ref8) {\n    var root = _ref8.root;\n    var element = root.element; // always remove the required attribute when more than zero items\n\n    if (root.query('GET_TOTAL_ITEMS') > 0) {\n      attrToggle(element, 'required', false);\n      attrToggle(element, 'name', false);\n    } else {\n      // add name attribute\n      attrToggle(element, 'name', true, root.query('GET_NAME')); // remove any validation messages\n\n      var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n\n      if (shouldCheckValidity) {\n        element.setCustomValidity('');\n      } // we only add required if the field has been deemed required\n\n\n      if (root.query('GET_REQUIRED')) {\n        attrToggle(element, 'required', true);\n      }\n    }\n  };\n\n  var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {\n    var root = _ref9.root;\n    var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n    if (!shouldCheckValidity) return;\n    root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n  };\n\n  var browser = createView({\n    tag: 'input',\n    name: 'browser',\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    attributes: {\n      type: 'file'\n    },\n    create: create$a,\n    destroy: function destroy(_ref10) {\n      var root = _ref10.root;\n      root.element.removeEventListener('change', root.ref.handleChange);\n    },\n    write: createRoute({\n      DID_LOAD_ITEM: updateRequiredStatus,\n      DID_REMOVE_ITEM: updateRequiredStatus,\n      DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n      DID_SET_DISABLED: toggleDisabled,\n      DID_SET_ALLOW_BROWSE: toggleDisabled,\n      DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n      DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n      DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n      DID_SET_CAPTURE_METHOD: setCaptureMethod,\n      DID_SET_REQUIRED: toggleRequired\n    })\n  });\n  var Key = {\n    ENTER: 13,\n    SPACE: 32\n  };\n\n  var create$b = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props; // create the label and link it to the file browser\n\n    var label = createElement$1('label');\n    attr(label, 'for', 'filepond--browser-' + props.id); // use for labeling file input (aria-labelledby on file input)\n\n    attr(label, 'id', 'filepond--drop-label-' + props.id); // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n\n    attr(label, 'aria-hidden', 'true'); // handle keys\n\n    root.ref.handleKeyDown = function (e) {\n      var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n      if (!isActivationKey) return; // stops from triggering the element a second time\n\n      e.preventDefault(); // click link (will then in turn activate file input)\n\n      root.ref.label.click();\n    };\n\n    root.ref.handleClick = function (e) {\n      var isLabelClick = e.target === label || label.contains(e.target); // don't want to click twice\n\n      if (isLabelClick) return; // click link (will then in turn activate file input)\n\n      root.ref.label.click();\n    }; // attach events\n\n\n    label.addEventListener('keydown', root.ref.handleKeyDown);\n    root.element.addEventListener('click', root.ref.handleClick); // update\n\n    updateLabelValue(label, props.caption); // add!\n\n    root.appendChild(label);\n    root.ref.label = label;\n  };\n\n  var updateLabelValue = function updateLabelValue(label, value) {\n    label.innerHTML = value;\n    var clickable = label.querySelector('.filepond--label-action');\n\n    if (clickable) {\n      attr(clickable, 'tabindex', '0');\n    }\n\n    return value;\n  };\n\n  var dropLabel = createView({\n    name: 'drop-label',\n    ignoreRect: true,\n    create: create$b,\n    destroy: function destroy(_ref2) {\n      var root = _ref2.root;\n      root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n      root.element.removeEventListener('click', root.ref.handleClick);\n    },\n    write: createRoute({\n      DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        updateLabelValue(root.ref.label, action.value);\n      }\n    }),\n    mixins: {\n      styles: ['opacity', 'translateX', 'translateY'],\n      animations: {\n        opacity: {\n          type: 'tween',\n          duration: 150\n        },\n        translateX: 'spring',\n        translateY: 'spring'\n      }\n    }\n  });\n  var blob = createView({\n    name: 'drip-blob',\n    ignoreRect: true,\n    mixins: {\n      styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n      animations: {\n        scaleX: 'spring',\n        scaleY: 'spring',\n        translateX: 'spring',\n        translateY: 'spring',\n        opacity: {\n          type: 'tween',\n          duration: 250\n        }\n      }\n    }\n  });\n\n  var addBlob = function addBlob(_ref) {\n    var root = _ref.root;\n    var centerX = root.rect.element.width * 0.5;\n    var centerY = root.rect.element.height * 0.5;\n    root.ref.blob = root.appendChildView(root.createChildView(blob, {\n      opacity: 0,\n      scaleX: 2.5,\n      scaleY: 2.5,\n      translateX: centerX,\n      translateY: centerY\n    }));\n  };\n\n  var moveBlob = function moveBlob(_ref2) {\n    var root = _ref2.root,\n        action = _ref2.action;\n\n    if (!root.ref.blob) {\n      addBlob({\n        root: root\n      });\n      return;\n    }\n\n    root.ref.blob.translateX = action.position.scopeLeft;\n    root.ref.blob.translateY = action.position.scopeTop;\n    root.ref.blob.scaleX = 1;\n    root.ref.blob.scaleY = 1;\n    root.ref.blob.opacity = 1;\n  };\n\n  var hideBlob = function hideBlob(_ref3) {\n    var root = _ref3.root;\n\n    if (!root.ref.blob) {\n      return;\n    }\n\n    root.ref.blob.opacity = 0;\n  };\n\n  var explodeBlob = function explodeBlob(_ref4) {\n    var root = _ref4.root;\n\n    if (!root.ref.blob) {\n      return;\n    }\n\n    root.ref.blob.scaleX = 2.5;\n    root.ref.blob.scaleY = 2.5;\n    root.ref.blob.opacity = 0;\n  };\n\n  var write$7 = function write(_ref5) {\n    var root = _ref5.root,\n        props = _ref5.props,\n        actions = _ref5.actions;\n    route$4({\n      root: root,\n      props: props,\n      actions: actions\n    });\n    var blob = root.ref.blob;\n\n    if (actions.length === 0 && blob && blob.opacity === 0) {\n      root.removeChildView(blob);\n      root.ref.blob = null;\n    }\n  };\n\n  var route$4 = createRoute({\n    DID_DRAG: moveBlob,\n    DID_DROP: explodeBlob,\n    DID_END_DRAG: hideBlob\n  });\n  var drip = createView({\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    name: 'drip',\n    write: write$7\n  });\n\n  var create$c = function create(_ref) {\n    var root = _ref.root;\n    return root.ref.fields = {};\n  };\n\n  var getField = function getField(root, id) {\n    return root.ref.fields[id];\n  };\n\n  var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {\n    root.query('GET_ACTIVE_ITEMS').forEach(function (item) {\n      if (!root.ref.fields[item.id]) return;\n      root.element.appendChild(root.ref.fields[item.id]);\n    });\n  };\n\n  var didReorderItems = function didReorderItems(_ref2) {\n    var root = _ref2.root;\n    return syncFieldPositionsWithItems(root);\n  };\n\n  var didAddItem = function didAddItem(_ref3) {\n    var root = _ref3.root,\n        action = _ref3.action;\n    var dataContainer = createElement$1('input');\n    dataContainer.type = 'hidden';\n    dataContainer.name = root.query('GET_NAME');\n    dataContainer.disabled = root.query('GET_DISABLED');\n    root.ref.fields[action.id] = dataContainer;\n    syncFieldPositionsWithItems(root);\n  };\n\n  var didLoadItem$1 = function didLoadItem(_ref4) {\n    var root = _ref4.root,\n        action = _ref4.action;\n    var field = getField(root, action.id);\n    if (!field || action.serverFileReference === null) return;\n    field.value = action.serverFileReference;\n  };\n\n  var didSetDisabled = function didSetDisabled(_ref5) {\n    var root = _ref5.root;\n    root.element.disabled = root.query('GET_DISABLED');\n  };\n\n  var didRemoveItem = function didRemoveItem(_ref6) {\n    var root = _ref6.root,\n        action = _ref6.action;\n    var field = getField(root, action.id);\n    if (!field) return;\n    if (field.parentNode) field.parentNode.removeChild(field);\n    delete root.ref.fields[action.id];\n  };\n\n  var didDefineValue = function didDefineValue(_ref7) {\n    var root = _ref7.root,\n        action = _ref7.action;\n    var field = getField(root, action.id);\n    if (!field) return;\n\n    if (action.value === null) {\n      field.removeAttribute('value');\n    } else {\n      field.value = action.value;\n    }\n\n    syncFieldPositionsWithItems(root);\n  };\n\n  var write$8 = createRoute({\n    DID_SET_DISABLED: didSetDisabled,\n    DID_ADD_ITEM: didAddItem,\n    DID_LOAD_ITEM: didLoadItem$1,\n    DID_REMOVE_ITEM: didRemoveItem,\n    DID_DEFINE_VALUE: didDefineValue,\n    DID_REORDER_ITEMS: didReorderItems,\n    DID_SORT_ITEMS: didReorderItems\n  });\n  var data = createView({\n    tag: 'fieldset',\n    name: 'data',\n    create: create$c,\n    write: write$8,\n    ignoreRect: true\n  });\n\n  var getRootNode = function getRootNode(element) {\n    return 'getRootNode' in element ? element.getRootNode() : document;\n  };\n\n  var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n  var text$1 = ['css', 'csv', 'html', 'txt'];\n  var map = {\n    zip: 'zip|compressed',\n    epub: 'application/epub+zip'\n  };\n\n  var guesstimateMimeType = function guesstimateMimeType() {\n    var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    extension = extension.toLowerCase();\n\n    if (images.includes(extension)) {\n      return 'image/' + (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension);\n    }\n\n    if (text$1.includes(extension)) {\n      return 'text/' + extension;\n    }\n\n    return map[extension] || '';\n  };\n\n  var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {\n    return new Promise(function (resolve, reject) {\n      // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n      var links = getLinks(dataTransfer);\n\n      if (links.length && !hasFiles(dataTransfer)) {\n        return resolve(links);\n      } // try to get files from the transfer\n\n\n      getFiles(dataTransfer).then(resolve);\n    });\n  };\n  /**\n   * Test if datatransfer has files\n   */\n\n\n  var hasFiles = function hasFiles(dataTransfer) {\n    if (dataTransfer.files) return dataTransfer.files.length > 0;\n    return false;\n  };\n  /**\n   * Extracts files from a DataTransfer object\n   */\n\n\n  var getFiles = function getFiles(dataTransfer) {\n    return new Promise(function (resolve, reject) {\n      // get the transfer items as promises\n      var promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : []). // only keep file system items (files and directories)\n      filter(function (item) {\n        return isFileSystemItem(item);\n      }) // map each item to promise\n      .map(function (item) {\n        return getFilesFromItem(item);\n      }); // if is empty, see if we can extract some info from the files property as a fallback\n\n      if (!promisedFiles.length) {\n        // TODO: test for directories (should not be allowed)\n        // Use FileReader, problem is that the files property gets lost in the process\n        resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n        return;\n      } // done!\n\n\n      Promise.all(promisedFiles).then(function (returnedFileGroups) {\n        // flatten groups\n        var files = [];\n        returnedFileGroups.forEach(function (group) {\n          files.push.apply(files, group);\n        }); // done (filter out empty files)!\n\n        resolve(files.filter(function (file) {\n          return file;\n        }).map(function (file) {\n          if (!file._relativePath) file._relativePath = file.webkitRelativePath;\n          return file;\n        }));\n      }).catch(console.error);\n    });\n  };\n\n  var isFileSystemItem = function isFileSystemItem(item) {\n    if (isEntry(item)) {\n      var entry = getAsEntry(item);\n\n      if (entry) {\n        return entry.isFile || entry.isDirectory;\n      }\n    }\n\n    return item.kind === 'file';\n  };\n\n  var getFilesFromItem = function getFilesFromItem(item) {\n    return new Promise(function (resolve, reject) {\n      if (isDirectoryEntry(item)) {\n        getFilesInDirectory(getAsEntry(item)).then(resolve).catch(reject);\n        return;\n      }\n\n      resolve([item.getAsFile()]);\n    });\n  };\n\n  var getFilesInDirectory = function getFilesInDirectory(entry) {\n    return new Promise(function (resolve, reject) {\n      var files = []; // the total entries to read\n\n      var dirCounter = 0;\n      var fileCounter = 0;\n\n      var resolveIfDone = function resolveIfDone() {\n        if (fileCounter === 0 && dirCounter === 0) {\n          resolve(files);\n        }\n      }; // the recursive function\n\n\n      var readEntries = function readEntries(dirEntry) {\n        dirCounter++;\n        var directoryReader = dirEntry.createReader(); // directories are returned in batches, we need to process all batches before we're done\n\n        var readBatch = function readBatch() {\n          directoryReader.readEntries(function (entries) {\n            if (entries.length === 0) {\n              dirCounter--;\n              resolveIfDone();\n              return;\n            }\n\n            entries.forEach(function (entry) {\n              // recursively read more directories\n              if (entry.isDirectory) {\n                readEntries(entry);\n              } else {\n                // read as file\n                fileCounter++;\n                entry.file(function (file) {\n                  var correctedFile = correctMissingFileType(file);\n                  if (entry.fullPath) correctedFile._relativePath = entry.fullPath;\n                  files.push(correctedFile);\n                  fileCounter--;\n                  resolveIfDone();\n                });\n              }\n            }); // try to get next batch of files\n\n            readBatch();\n          }, reject);\n        }; // read first batch of files\n\n\n        readBatch();\n      }; // go!\n\n\n      readEntries(entry);\n    });\n  };\n\n  var correctMissingFileType = function correctMissingFileType(file) {\n    if (file.type.length) return file;\n    var date = file.lastModifiedDate;\n    var name = file.name;\n    var type = guesstimateMimeType(getExtensionFromFilename(file.name));\n    if (!type.length) return file;\n    file = file.slice(0, file.size, type);\n    file.name = name;\n    file.lastModifiedDate = date;\n    return file;\n  };\n\n  var isDirectoryEntry = function isDirectoryEntry(item) {\n    return isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n  };\n\n  var isEntry = function isEntry(item) {\n    return 'webkitGetAsEntry' in item;\n  };\n\n  var getAsEntry = function getAsEntry(item) {\n    return item.webkitGetAsEntry();\n  };\n  /**\n   * Extracts links from a DataTransfer object\n   */\n\n\n  var getLinks = function getLinks(dataTransfer) {\n    var links = [];\n\n    try {\n      // look in meta data property\n      links = getLinksFromTransferMetaData(dataTransfer);\n\n      if (links.length) {\n        return links;\n      }\n\n      links = getLinksFromTransferURLData(dataTransfer);\n    } catch (e) {// nope nope nope (probably IE trouble)\n    }\n\n    return links;\n  };\n\n  var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {\n    var data = dataTransfer.getData('url');\n\n    if (typeof data === 'string' && data.length) {\n      return [data];\n    }\n\n    return [];\n  };\n\n  var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {\n    var data = dataTransfer.getData('text/html');\n\n    if (typeof data === 'string' && data.length) {\n      var matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n\n      if (matches) {\n        return [matches[1]];\n      }\n    }\n\n    return [];\n  };\n\n  var dragNDropObservers = [];\n\n  var eventPosition = function eventPosition(e) {\n    return {\n      pageLeft: e.pageX,\n      pageTop: e.pageY,\n      scopeLeft: e.offsetX || e.layerX,\n      scopeTop: e.offsetY || e.layerY\n    };\n  };\n\n  var createDragNDropClient = function createDragNDropClient(element, scopeToObserve, filterElement) {\n    var observer = getDragNDropObserver(scopeToObserve);\n    var client = {\n      element: element,\n      filterElement: filterElement,\n      state: null,\n      ondrop: function ondrop() {},\n      onenter: function onenter() {},\n      ondrag: function ondrag() {},\n      onexit: function onexit() {},\n      onload: function onload() {},\n      allowdrop: function allowdrop() {}\n    };\n    client.destroy = observer.addListener(client);\n    return client;\n  };\n\n  var getDragNDropObserver = function getDragNDropObserver(element) {\n    // see if already exists, if so, return\n    var observer = dragNDropObservers.find(function (item) {\n      return item.element === element;\n    });\n\n    if (observer) {\n      return observer;\n    } // create new observer, does not yet exist for this element\n\n\n    var newObserver = createDragNDropObserver(element);\n    dragNDropObservers.push(newObserver);\n    return newObserver;\n  };\n\n  var createDragNDropObserver = function createDragNDropObserver(element) {\n    var clients = [];\n    var routes = {\n      dragenter: dragenter,\n      dragover: dragover,\n      dragleave: dragleave,\n      drop: drop\n    };\n    var handlers = {};\n    forin(routes, function (event, createHandler) {\n      handlers[event] = createHandler(element, clients);\n      element.addEventListener(event, handlers[event], false);\n    });\n    var observer = {\n      element: element,\n      addListener: function addListener(client) {\n        // add as client\n        clients.push(client); // return removeListener function\n\n        return function () {\n          // remove client\n          clients.splice(clients.indexOf(client), 1); // if no more clients, clean up observer\n\n          if (clients.length === 0) {\n            dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n            forin(routes, function (event) {\n              element.removeEventListener(event, handlers[event], false);\n            });\n          }\n        };\n      }\n    };\n    return observer;\n  };\n\n  var elementFromPoint = function elementFromPoint(root, point) {\n    if (!('elementFromPoint' in root)) {\n      root = document;\n    }\n\n    return root.elementFromPoint(point.x, point.y);\n  };\n\n  var isEventTarget = function isEventTarget(e, target) {\n    // get root\n    var root = getRootNode(target); // get element at position\n    // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n\n    var elementAtPosition = elementFromPoint(root, {\n      x: e.pageX - window.pageXOffset,\n      y: e.pageY - window.pageYOffset\n    }); // test if target is the element or if one of its children is\n\n    return elementAtPosition === target || target.contains(elementAtPosition);\n  };\n\n  var initialTarget = null;\n\n  var setDropEffect = function setDropEffect(dataTransfer, effect) {\n    // is in try catch as IE11 will throw error if not\n    try {\n      dataTransfer.dropEffect = effect;\n    } catch (e) {}\n  };\n\n  var dragenter = function dragenter(root, clients) {\n    return function (e) {\n      e.preventDefault();\n      initialTarget = e.target;\n      clients.forEach(function (client) {\n        var element = client.element,\n            onenter = client.onenter;\n\n        if (isEventTarget(e, element)) {\n          client.state = 'enter'; // fire enter event\n\n          onenter(eventPosition(e));\n        }\n      });\n    };\n  };\n\n  var dragover = function dragover(root, clients) {\n    return function (e) {\n      e.preventDefault();\n      var dataTransfer = e.dataTransfer;\n      requestDataTransferItems(dataTransfer).then(function (items) {\n        var overDropTarget = false;\n        clients.some(function (client) {\n          var filterElement = client.filterElement,\n              element = client.element,\n              onenter = client.onenter,\n              onexit = client.onexit,\n              ondrag = client.ondrag,\n              allowdrop = client.allowdrop; // by default we can drop\n\n          setDropEffect(dataTransfer, 'copy'); // allow transfer of these items\n\n          var allowsTransfer = allowdrop(items); // only used when can be dropped on page\n\n          if (!allowsTransfer) {\n            setDropEffect(dataTransfer, 'none');\n            return;\n          } // targetting this client\n\n\n          if (isEventTarget(e, element)) {\n            overDropTarget = true; // had no previous state, means we are entering this client\n\n            if (client.state === null) {\n              client.state = 'enter';\n              onenter(eventPosition(e));\n              return;\n            } // now over element (no matter if it allows the drop or not)\n\n\n            client.state = 'over'; // needs to allow transfer\n\n            if (filterElement && !allowsTransfer) {\n              setDropEffect(dataTransfer, 'none');\n              return;\n            } // dragging\n\n\n            ondrag(eventPosition(e));\n          } else {\n            // should be over an element to drop\n            if (filterElement && !overDropTarget) {\n              setDropEffect(dataTransfer, 'none');\n            } // might have just left this client?\n\n\n            if (client.state) {\n              client.state = null;\n              onexit(eventPosition(e));\n            }\n          }\n        });\n      });\n    };\n  };\n\n  var drop = function drop(root, clients) {\n    return function (e) {\n      e.preventDefault();\n      var dataTransfer = e.dataTransfer;\n      requestDataTransferItems(dataTransfer).then(function (items) {\n        clients.forEach(function (client) {\n          var filterElement = client.filterElement,\n              element = client.element,\n              ondrop = client.ondrop,\n              onexit = client.onexit,\n              allowdrop = client.allowdrop;\n          client.state = null; // if we're filtering on element we need to be over the element to drop\n\n          if (filterElement && !isEventTarget(e, element)) return; // no transfer for this client\n\n          if (!allowdrop(items)) return onexit(eventPosition(e)); // we can drop these items on this client\n\n          ondrop(eventPosition(e), items);\n        });\n      });\n    };\n  };\n\n  var dragleave = function dragleave(root, clients) {\n    return function (e) {\n      if (initialTarget !== e.target) {\n        return;\n      }\n\n      clients.forEach(function (client) {\n        var onexit = client.onexit;\n        client.state = null;\n        onexit(eventPosition(e));\n      });\n    };\n  };\n\n  var createHopper = function createHopper(scope, validateItems, options) {\n    // is now hopper scope\n    scope.classList.add('filepond--hopper'); // shortcuts\n\n    var catchesDropsOnPage = options.catchesDropsOnPage,\n        requiresDropOnElement = options.requiresDropOnElement,\n        _options$filterItems = options.filterItems,\n        filterItems = _options$filterItems === void 0 ? function (items) {\n      return items;\n    } : _options$filterItems; // create a dnd client\n\n    var client = createDragNDropClient(scope, catchesDropsOnPage ? document.documentElement : scope, requiresDropOnElement); // current client state\n\n    var lastState = '';\n    var currentState = ''; // determines if a file may be dropped\n\n    client.allowdrop = function (items) {\n      // TODO: if we can, throw error to indicate the items cannot by dropped\n      return validateItems(filterItems(items));\n    };\n\n    client.ondrop = function (position, items) {\n      var filteredItems = filterItems(items);\n\n      if (!validateItems(filteredItems)) {\n        api.ondragend(position);\n        return;\n      }\n\n      currentState = 'drag-drop';\n      api.onload(filteredItems, position);\n    };\n\n    client.ondrag = function (position) {\n      api.ondrag(position);\n    };\n\n    client.onenter = function (position) {\n      currentState = 'drag-over';\n      api.ondragstart(position);\n    };\n\n    client.onexit = function (position) {\n      currentState = 'drag-exit';\n      api.ondragend(position);\n    };\n\n    var api = {\n      updateHopperState: function updateHopperState() {\n        if (lastState !== currentState) {\n          scope.dataset.hopperState = currentState;\n          lastState = currentState;\n        }\n      },\n      onload: function onload() {},\n      ondragstart: function ondragstart() {},\n      ondrag: function ondrag() {},\n      ondragend: function ondragend() {},\n      destroy: function destroy() {\n        // destroy client\n        client.destroy();\n      }\n    };\n    return api;\n  };\n\n  var listening = false;\n  var listeners$1 = [];\n\n  var handlePaste = function handlePaste(e) {\n    // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n    var activeEl = document.activeElement;\n\n    if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n      // test textarea or input is contained in filepond root\n      var inScope = false;\n      var element = activeEl;\n\n      while (element !== document.body) {\n        if (element.classList.contains('filepond--root')) {\n          inScope = true;\n          break;\n        }\n\n        element = element.parentNode;\n      }\n\n      if (!inScope) return;\n    }\n\n    requestDataTransferItems(e.clipboardData).then(function (files) {\n      // no files received\n      if (!files.length) {\n        return;\n      } // notify listeners of received files\n\n\n      listeners$1.forEach(function (listener) {\n        return listener(files);\n      });\n    });\n  };\n\n  var listen = function listen(cb) {\n    // can't add twice\n    if (listeners$1.includes(cb)) {\n      return;\n    } // add initial listener\n\n\n    listeners$1.push(cb); // setup paste listener for entire page\n\n    if (listening) {\n      return;\n    }\n\n    listening = true;\n    document.addEventListener('paste', handlePaste);\n  };\n\n  var unlisten = function unlisten(listener) {\n    arrayRemove(listeners$1, listeners$1.indexOf(listener)); // clean up\n\n    if (listeners$1.length === 0) {\n      document.removeEventListener('paste', handlePaste);\n      listening = false;\n    }\n  };\n\n  var createPaster = function createPaster() {\n    var cb = function cb(files) {\n      api.onload(files);\n    };\n\n    var api = {\n      destroy: function destroy() {\n        unlisten(cb);\n      },\n      onload: function onload() {}\n    };\n    listen(cb);\n    return api;\n  };\n  /**\n   * Creates the file view\n   */\n\n\n  var create$d = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props;\n    root.element.id = 'filepond--assistant-' + props.id;\n    attr(root.element, 'role', 'status');\n    attr(root.element, 'aria-live', 'polite');\n    attr(root.element, 'aria-relevant', 'additions');\n  };\n\n  var addFilesNotificationTimeout = null;\n  var notificationClearTimeout = null;\n  var filenames = [];\n\n  var assist = function assist(root, message) {\n    root.element.textContent = message;\n  };\n\n  var clear$1 = function clear(root) {\n    root.element.textContent = '';\n  };\n\n  var listModified = function listModified(root, filename, label) {\n    var total = root.query('GET_TOTAL_ITEMS');\n    assist(root, label + ' ' + filename + ', ' + total + ' ' + (total === 1 ? root.query('GET_LABEL_FILE_COUNT_SINGULAR') : root.query('GET_LABEL_FILE_COUNT_PLURAL'))); // clear group after set amount of time so the status is not read twice\n\n    clearTimeout(notificationClearTimeout);\n    notificationClearTimeout = setTimeout(function () {\n      clear$1(root);\n    }, 1500);\n  };\n\n  var isUsingFilePond = function isUsingFilePond(root) {\n    return root.element.parentNode.contains(document.activeElement);\n  };\n\n  var itemAdded = function itemAdded(_ref2) {\n    var root = _ref2.root,\n        action = _ref2.action;\n\n    if (!isUsingFilePond(root)) {\n      return;\n    }\n\n    root.element.textContent = '';\n    var item = root.query('GET_ITEM', action.id);\n    filenames.push(item.filename);\n    clearTimeout(addFilesNotificationTimeout);\n    addFilesNotificationTimeout = setTimeout(function () {\n      listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n      filenames.length = 0;\n    }, 750);\n  };\n\n  var itemRemoved = function itemRemoved(_ref3) {\n    var root = _ref3.root,\n        action = _ref3.action;\n\n    if (!isUsingFilePond(root)) {\n      return;\n    }\n\n    var item = action.item;\n    listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n  };\n\n  var itemProcessed = function itemProcessed(_ref4) {\n    var root = _ref4.root,\n        action = _ref4.action; // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n    var item = root.query('GET_ITEM', action.id);\n    var filename = item.filename;\n    var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n    assist(root, filename + ' ' + label);\n  };\n\n  var itemProcessedUndo = function itemProcessedUndo(_ref5) {\n    var root = _ref5.root,\n        action = _ref5.action;\n    var item = root.query('GET_ITEM', action.id);\n    var filename = item.filename;\n    var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n    assist(root, filename + ' ' + label);\n  };\n\n  var itemError = function itemError(_ref6) {\n    var root = _ref6.root,\n        action = _ref6.action;\n    var item = root.query('GET_ITEM', action.id);\n    var filename = item.filename; // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n    assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);\n  };\n\n  var assistant = createView({\n    create: create$d,\n    ignoreRect: true,\n    ignoreRectUpdate: true,\n    write: createRoute({\n      DID_LOAD_ITEM: itemAdded,\n      DID_REMOVE_ITEM: itemRemoved,\n      DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n      DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n      DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n      DID_THROW_ITEM_REMOVE_ERROR: itemError,\n      DID_THROW_ITEM_LOAD_ERROR: itemError,\n      DID_THROW_ITEM_INVALID: itemError,\n      DID_THROW_ITEM_PROCESSING_ERROR: itemError\n    }),\n    tag: 'span',\n    name: 'assistant'\n  });\n\n  var toCamels = function toCamels(string) {\n    var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n    return string.replace(new RegExp(separator + '.', 'g'), function (sub) {\n      return sub.charAt(1).toUpperCase();\n    });\n  };\n\n  var debounce = function debounce(func) {\n    var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n    var immidiateOnly = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var last = Date.now();\n    var timeout = null;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      clearTimeout(timeout);\n      var dist = Date.now() - last;\n\n      var fn = function fn() {\n        last = Date.now();\n        func.apply(void 0, args);\n      };\n\n      if (dist < interval) {\n        // we need to delay by the difference between interval and dist\n        // for example: if distance is 10 ms and interval is 16 ms,\n        // we need to wait an additional 6ms before calling the function)\n        if (!immidiateOnly) {\n          timeout = setTimeout(fn, interval - dist);\n        }\n      } else {\n        // go!\n        fn();\n      }\n    };\n  };\n\n  var MAX_FILES_LIMIT = 1000000;\n\n  var prevent = function prevent(e) {\n    return e.preventDefault();\n  };\n\n  var create$e = function create(_ref) {\n    var root = _ref.root,\n        props = _ref.props; // Add id\n\n    var id = root.query('GET_ID');\n\n    if (id) {\n      root.element.id = id;\n    } // Add className\n\n\n    var className = root.query('GET_CLASS_NAME');\n\n    if (className) {\n      className.split(' ').filter(function (name) {\n        return name.length;\n      }).forEach(function (name) {\n        root.element.classList.add(name);\n      });\n    } // Field label\n\n\n    root.ref.label = root.appendChildView(root.createChildView(dropLabel, Object.assign({}, props, {\n      translateY: null,\n      caption: root.query('GET_LABEL_IDLE')\n    }))); // List of items\n\n    root.ref.list = root.appendChildView(root.createChildView(listScroller, {\n      translateY: null\n    })); // Background panel\n\n    root.ref.panel = root.appendChildView(root.createChildView(panel, {\n      name: 'panel-root'\n    })); // Assistant notifies assistive tech when content changes\n\n    root.ref.assistant = root.appendChildView(root.createChildView(assistant, Object.assign({}, props))); // Data\n\n    root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props))); // Measure (tests if fixed height was set)\n    // DOCTYPE needs to be set for this to work\n\n    root.ref.measure = createElement$1('div');\n    root.ref.measure.style.height = '100%';\n    root.element.appendChild(root.ref.measure); // information on the root height or fixed height status\n\n    root.ref.bounds = null; // apply initial style properties\n\n    root.query('GET_STYLES').filter(function (style) {\n      return !isEmpty(style.value);\n    }).map(function (_ref2) {\n      var name = _ref2.name,\n          value = _ref2.value;\n      root.element.dataset[name] = value;\n    }); // determine if width changed\n\n    root.ref.widthPrevious = null;\n    root.ref.widthUpdated = debounce(function () {\n      root.ref.updateHistory = [];\n      root.dispatch('DID_RESIZE_ROOT');\n    }, 250); // history of updates\n\n    root.ref.previousAspectRatio = null;\n    root.ref.updateHistory = []; // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n\n    var canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;\n    var hasPointerEvents = ('PointerEvent' in window);\n\n    if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n      root.element.addEventListener('touchmove', prevent, {\n        passive: false\n      });\n      root.element.addEventListener('gesturestart', prevent);\n    } // add credits\n\n\n    var credits = root.query('GET_CREDITS');\n    var hasCredits = credits.length === 2;\n\n    if (hasCredits) {\n      var frag = document.createElement('a');\n      frag.className = 'filepond--credits';\n      frag.setAttribute('aria-hidden', 'true');\n      frag.href = credits[0];\n      frag.tabindex = -1;\n      frag.target = '_blank';\n      frag.rel = 'noopener noreferrer';\n      frag.textContent = credits[1];\n      root.element.appendChild(frag);\n      root.ref.credits = frag;\n    }\n  };\n\n  var write$9 = function write(_ref3) {\n    var root = _ref3.root,\n        props = _ref3.props,\n        actions = _ref3.actions; // route actions\n\n    route$5({\n      root: root,\n      props: props,\n      actions: actions\n    }); // apply style properties\n\n    actions.filter(function (action) {\n      return /^DID_SET_STYLE_/.test(action.type);\n    }).filter(function (action) {\n      return !isEmpty(action.data.value);\n    }).map(function (_ref4) {\n      var type = _ref4.type,\n          data = _ref4.data;\n      var name = toCamels(type.substr(8).toLowerCase(), '_');\n      root.element.dataset[name] = data.value;\n      root.invalidateLayout();\n    });\n    if (root.rect.element.hidden) return;\n\n    if (root.rect.element.width !== root.ref.widthPrevious) {\n      root.ref.widthPrevious = root.rect.element.width;\n      root.ref.widthUpdated();\n    } // get box bounds, we do this only once\n\n\n    var bounds = root.ref.bounds;\n\n    if (!bounds) {\n      bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root); // destroy measure element\n\n      root.element.removeChild(root.ref.measure);\n      root.ref.measure = null;\n    } // get quick references to various high level parts of the upload tool\n\n\n    var _root$ref = root.ref,\n        hopper = _root$ref.hopper,\n        label = _root$ref.label,\n        list = _root$ref.list,\n        panel = _root$ref.panel; // sets correct state to hopper scope\n\n    if (hopper) {\n      hopper.updateHopperState();\n    } // bool to indicate if we're full or not\n\n\n    var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n    var isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n    var totalItems = root.query('GET_TOTAL_ITEMS');\n    var maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;\n    var atMaxCapacity = totalItems === maxItems; // action used to add item\n\n    var addAction = actions.find(function (action) {\n      return action.type === 'DID_ADD_ITEM';\n    }); // if reached max capacity and we've just reached it\n\n    if (atMaxCapacity && addAction) {\n      // get interaction type\n      var interactionMethod = addAction.data.interactionMethod; // hide label\n\n      label.opacity = 0;\n\n      if (isMultiItem) {\n        label.translateY = -40;\n      } else {\n        if (interactionMethod === InteractionMethod.API) {\n          label.translateX = 40;\n        } else if (interactionMethod === InteractionMethod.BROWSE) {\n          label.translateY = 40;\n        } else {\n          label.translateY = 30;\n        }\n      }\n    } else if (!atMaxCapacity) {\n      label.opacity = 1;\n      label.translateX = 0;\n      label.translateY = 0;\n    }\n\n    var listItemMargin = calculateListItemMargin(root);\n    var listHeight = calculateListHeight(root);\n    var labelHeight = label.rect.element.height;\n    var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n    var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n    var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n    var visualHeight = currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n    var boundsHeight = currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom; // link list to label bottom position\n\n    list.translateY = Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;\n\n    if (aspectRatio) {\n      // fixed aspect ratio\n      // calculate height based on width\n      var width = root.rect.element.width;\n      var height = width * aspectRatio; // clear history if aspect ratio has changed\n\n      if (aspectRatio !== root.ref.previousAspectRatio) {\n        root.ref.previousAspectRatio = aspectRatio;\n        root.ref.updateHistory = [];\n      } // remember this width\n\n\n      var history = root.ref.updateHistory;\n      history.push(width);\n      var MAX_BOUNCES = 2;\n\n      if (history.length > MAX_BOUNCES * 2) {\n        var l = history.length;\n        var bottom = l - 10;\n        var bounces = 0;\n\n        for (var i = l; i >= bottom; i--) {\n          if (history[i] === history[i - 2]) {\n            bounces++;\n          }\n\n          if (bounces >= MAX_BOUNCES) {\n            // dont adjust height\n            return;\n          }\n        }\n      } // fix height of panel so it adheres to aspect ratio\n\n\n      panel.scalable = false;\n      panel.height = height; // available height for list\n\n      var listAvailableHeight = // the height of the panel minus the label height\n      height - currentLabelHeight - ( // the room we leave open between the end of the list and the panel bottom\n      listMarginBottom - listItemMargin.bottom) - ( // if we're full we need to leave some room between the top of the panel and the list\n      atMaxCapacity ? listMarginTop : 0);\n\n      if (listHeight.visual > listAvailableHeight) {\n        list.overflow = listAvailableHeight;\n      } else {\n        list.overflow = null;\n      } // set container bounds (so pushes siblings downwards)\n\n\n      root.height = height;\n    } else if (bounds.fixedHeight) {\n      // fixed height\n      // fix height of panel\n      panel.scalable = false; // available height for list\n\n      var _listAvailableHeight = // the height of the panel minus the label height\n      bounds.fixedHeight - currentLabelHeight - ( // the room we leave open between the end of the list and the panel bottom\n      listMarginBottom - listItemMargin.bottom) - ( // if we're full we need to leave some room between the top of the panel and the list\n      atMaxCapacity ? listMarginTop : 0); // set list height\n\n\n      if (listHeight.visual > _listAvailableHeight) {\n        list.overflow = _listAvailableHeight;\n      } else {\n        list.overflow = null;\n      } // no need to set container bounds as these are handles by CSS fixed height\n\n    } else if (bounds.cappedHeight) {\n      // max-height\n      // not a fixed height panel\n      var isCappedHeight = visualHeight >= bounds.cappedHeight;\n      var panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n      panel.scalable = true;\n      panel.height = isCappedHeight ? panelHeight : panelHeight - listItemMargin.top - listItemMargin.bottom; // available height for list\n\n      var _listAvailableHeight2 = // the height of the panel minus the label height\n      panelHeight - currentLabelHeight - ( // the room we leave open between the end of the list and the panel bottom\n      listMarginBottom - listItemMargin.bottom) - ( // if we're full we need to leave some room between the top of the panel and the list\n      atMaxCapacity ? listMarginTop : 0); // set list height (if is overflowing)\n\n\n      if (visualHeight > bounds.cappedHeight && listHeight.visual > _listAvailableHeight2) {\n        list.overflow = _listAvailableHeight2;\n      } else {\n        list.overflow = null;\n      } // set container bounds (so pushes siblings downwards)\n\n\n      root.height = Math.min(bounds.cappedHeight, boundsHeight - listItemMargin.top - listItemMargin.bottom);\n    } else {\n      // flexible height\n      // not a fixed height panel\n      var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n      panel.scalable = true;\n      panel.height = Math.max(labelHeight, visualHeight - itemMargin); // set container bounds (so pushes siblings downwards)\n\n      root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n    } // move credits to bottom\n\n\n    if (root.ref.credits && panel.heightCurrent) root.ref.credits.style.transform = 'translateY(' + panel.heightCurrent + 'px)';\n  };\n\n  var calculateListItemMargin = function calculateListItemMargin(root) {\n    var item = root.ref.list.childViews[0].childViews[0];\n    return item ? {\n      top: item.rect.element.marginTop,\n      bottom: item.rect.element.marginBottom\n    } : {\n      top: 0,\n      bottom: 0\n    };\n  };\n\n  var calculateListHeight = function calculateListHeight(root) {\n    var visual = 0;\n    var bounds = 0; // get file list reference\n\n    var scrollList = root.ref.list;\n    var itemList = scrollList.childViews[0];\n    var visibleChildren = itemList.childViews.filter(function (child) {\n      return child.rect.element.height;\n    });\n    var children = root.query('GET_ACTIVE_ITEMS').map(function (item) {\n      return visibleChildren.find(function (child) {\n        return child.id === item.id;\n      });\n    }).filter(function (item) {\n      return item;\n    }); // no children, done!\n\n    if (children.length === 0) return {\n      visual: visual,\n      bounds: bounds\n    };\n    var horizontalSpace = itemList.rect.element.width;\n    var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n    var childRect = children[0].rect.element;\n    var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n    var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n    var itemWidth = childRect.width + itemHorizontalMargin;\n    var itemHeight = childRect.height + itemVerticalMargin;\n    var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n    var removedItem = children.find(function (child) {\n      return child.markedForRemoval && child.opacity < 0.45;\n    }) ? -1 : 0;\n    var verticalItemCount = children.length + newItem + removedItem;\n    var itemsPerRow = Math.round(horizontalSpace / itemWidth); // stack\n\n    if (itemsPerRow === 1) {\n      children.forEach(function (item) {\n        var height = item.rect.element.height + itemVerticalMargin;\n        bounds += height;\n        visual += height * item.opacity;\n      });\n    } // grid\n    else {\n        bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n        visual = bounds;\n      }\n\n    return {\n      visual: visual,\n      bounds: bounds\n    };\n  };\n\n  var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {\n    var height = root.ref.measureHeight || null;\n    var cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n    var fixedHeight = height === 0 ? null : height;\n    return {\n      cappedHeight: cappedHeight,\n      fixedHeight: fixedHeight\n    };\n  };\n\n  var exceedsMaxFiles = function exceedsMaxFiles(root, items) {\n    var allowReplace = root.query('GET_ALLOW_REPLACE');\n    var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n    var totalItems = root.query('GET_TOTAL_ITEMS');\n    var maxItems = root.query('GET_MAX_FILES'); // total amount of items being dragged\n\n    var totalBrowseItems = items.length; // if does not allow multiple items and dragging more than one item\n\n    if (!allowMultiple && totalBrowseItems > 1) {\n      return true;\n    } // limit max items to one if not allowed to drop multiple items\n\n\n    maxItems = allowMultiple ? maxItems : allowReplace ? maxItems : 1; // no more room?\n\n    var hasMaxItems = isInt(maxItems);\n\n    if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n      root.dispatch('DID_THROW_MAX_FILES', {\n        source: items,\n        error: createResponse('warning', 0, 'Max files')\n      });\n      return true;\n    }\n\n    return false;\n  };\n\n  var getDragIndex = function getDragIndex(list, children, position) {\n    var itemList = list.childViews[0];\n    return getItemIndexByPosition(itemList, children, {\n      left: position.scopeLeft - itemList.rect.element.left,\n      top: position.scopeTop - (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop)\n    });\n  };\n  /**\n   * Enable or disable file drop functionality\n   */\n\n\n  var toggleDrop = function toggleDrop(root) {\n    var isAllowed = root.query('GET_ALLOW_DROP');\n    var isDisabled = root.query('GET_DISABLED');\n    var enabled = isAllowed && !isDisabled;\n\n    if (enabled && !root.ref.hopper) {\n      var hopper = createHopper(root.element, function (items) {\n        // allow quick validation of dropped items\n        var beforeDropFile = root.query('GET_BEFORE_DROP_FILE') || function () {\n          return true;\n        }; // all items should be validated by all filters as valid\n\n\n        var dropValidation = root.query('GET_DROP_VALIDATION');\n        return dropValidation ? items.every(function (item) {\n          return applyFilters('ALLOW_HOPPER_ITEM', item, {\n            query: root.query\n          }).every(function (result) {\n            return result === true;\n          }) && beforeDropFile(item);\n        }) : true;\n      }, {\n        filterItems: function filterItems(items) {\n          var ignoredFiles = root.query('GET_IGNORED_FILES');\n          return items.filter(function (item) {\n            if (isFile(item)) {\n              return !ignoredFiles.includes(item.name.toLowerCase());\n            }\n\n            return true;\n          });\n        },\n        catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n        requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT')\n      });\n\n      hopper.onload = function (items, position) {\n        // get item children elements and sort based on list sort\n        var list = root.ref.list.childViews[0];\n        var visibleChildren = list.childViews.filter(function (child) {\n          return child.rect.element.height;\n        });\n        var children = root.query('GET_ACTIVE_ITEMS').map(function (item) {\n          return visibleChildren.find(function (child) {\n            return child.id === item.id;\n          });\n        }).filter(function (item) {\n          return item;\n        });\n        applyFilterChain('ADD_ITEMS', items, {\n          dispatch: root.dispatch\n        }).then(function (queue) {\n          // these files don't fit so stop here\n          if (exceedsMaxFiles(root, queue)) return false; // go\n\n          root.dispatch('ADD_ITEMS', {\n            items: queue,\n            index: getDragIndex(root.ref.list, children, position),\n            interactionMethod: InteractionMethod.DROP\n          });\n        });\n        root.dispatch('DID_DROP', {\n          position: position\n        });\n        root.dispatch('DID_END_DRAG', {\n          position: position\n        });\n      };\n\n      hopper.ondragstart = function (position) {\n        root.dispatch('DID_START_DRAG', {\n          position: position\n        });\n      };\n\n      hopper.ondrag = debounce(function (position) {\n        root.dispatch('DID_DRAG', {\n          position: position\n        });\n      });\n\n      hopper.ondragend = function (position) {\n        root.dispatch('DID_END_DRAG', {\n          position: position\n        });\n      };\n\n      root.ref.hopper = hopper;\n      root.ref.drip = root.appendChildView(root.createChildView(drip));\n    } else if (!enabled && root.ref.hopper) {\n      root.ref.hopper.destroy();\n      root.ref.hopper = null;\n      root.removeChildView(root.ref.drip);\n    }\n  };\n  /**\n   * Enable or disable browse functionality\n   */\n\n\n  var toggleBrowse = function toggleBrowse(root, props) {\n    var isAllowed = root.query('GET_ALLOW_BROWSE');\n    var isDisabled = root.query('GET_DISABLED');\n    var enabled = isAllowed && !isDisabled;\n\n    if (enabled && !root.ref.browser) {\n      root.ref.browser = root.appendChildView(root.createChildView(browser, Object.assign({}, props, {\n        onload: function onload(items) {\n          applyFilterChain('ADD_ITEMS', items, {\n            dispatch: root.dispatch\n          }).then(function (queue) {\n            // these files don't fit so stop here\n            if (exceedsMaxFiles(root, queue)) return false; // add items!\n\n            root.dispatch('ADD_ITEMS', {\n              items: queue,\n              index: -1,\n              interactionMethod: InteractionMethod.BROWSE\n            });\n          });\n        }\n      })), 0);\n    } else if (!enabled && root.ref.browser) {\n      root.removeChildView(root.ref.browser);\n      root.ref.browser = null;\n    }\n  };\n  /**\n   * Enable or disable paste functionality\n   */\n\n\n  var togglePaste = function togglePaste(root) {\n    var isAllowed = root.query('GET_ALLOW_PASTE');\n    var isDisabled = root.query('GET_DISABLED');\n    var enabled = isAllowed && !isDisabled;\n\n    if (enabled && !root.ref.paster) {\n      root.ref.paster = createPaster();\n\n      root.ref.paster.onload = function (items) {\n        applyFilterChain('ADD_ITEMS', items, {\n          dispatch: root.dispatch\n        }).then(function (queue) {\n          // these files don't fit so stop here\n          if (exceedsMaxFiles(root, queue)) return false; // add items!\n\n          root.dispatch('ADD_ITEMS', {\n            items: queue,\n            index: -1,\n            interactionMethod: InteractionMethod.PASTE\n          });\n        });\n      };\n    } else if (!enabled && root.ref.paster) {\n      root.ref.paster.destroy();\n      root.ref.paster = null;\n    }\n  };\n  /**\n   * Route actions\n   */\n\n\n  var route$5 = createRoute({\n    DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {\n      var root = _ref5.root,\n          props = _ref5.props;\n      toggleBrowse(root, props);\n    },\n    DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {\n      var root = _ref6.root;\n      toggleDrop(root);\n    },\n    DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {\n      var root = _ref7.root;\n      togglePaste(root);\n    },\n    DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {\n      var root = _ref8.root,\n          props = _ref8.props;\n      toggleDrop(root);\n      togglePaste(root);\n      toggleBrowse(root, props);\n      var isDisabled = root.query('GET_DISABLED');\n\n      if (isDisabled) {\n        root.element.dataset.disabled = 'disabled';\n      } else {\n        // delete root.element.dataset.disabled; <= this does not work on iOS 10\n        root.element.removeAttribute('data-disabled');\n      }\n    }\n  });\n  var root = createView({\n    name: 'root',\n    read: function read(_ref9) {\n      var root = _ref9.root;\n\n      if (root.ref.measure) {\n        root.ref.measureHeight = root.ref.measure.offsetHeight;\n      }\n    },\n    create: create$e,\n    write: write$9,\n    destroy: function destroy(_ref10) {\n      var root = _ref10.root;\n\n      if (root.ref.paster) {\n        root.ref.paster.destroy();\n      }\n\n      if (root.ref.hopper) {\n        root.ref.hopper.destroy();\n      }\n\n      root.element.removeEventListener('touchmove', prevent);\n      root.element.removeEventListener('gesturestart', prevent);\n    },\n    mixins: {\n      styles: ['height']\n    }\n  }); // creates the app\n\n  var createApp = function createApp() {\n    var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; // let element\n\n    var originalElement = null; // get default options\n\n    var defaultOptions = getOptions(); // create the data store, this will contain all our app info\n\n    var store = createStore( // initial state (should be serializable)\n    createInitialState(defaultOptions), // queries\n    [queries, createOptionQueries(defaultOptions)], // action handlers\n    [actions, createOptionActions(defaultOptions)]); // set initial options\n\n    store.dispatch('SET_OPTIONS', {\n      options: initialOptions\n    }); // kick thread if visibility changes\n\n    var visibilityHandler = function visibilityHandler() {\n      if (document.hidden) return;\n      store.dispatch('KICK');\n    };\n\n    document.addEventListener('visibilitychange', visibilityHandler); // re-render on window resize start and finish\n\n    var resizeDoneTimer = null;\n    var isResizing = false;\n    var isResizingHorizontally = false;\n    var initialWindowWidth = null;\n    var currentWindowWidth = null;\n\n    var resizeHandler = function resizeHandler() {\n      if (!isResizing) {\n        isResizing = true;\n      }\n\n      clearTimeout(resizeDoneTimer);\n      resizeDoneTimer = setTimeout(function () {\n        isResizing = false;\n        initialWindowWidth = null;\n        currentWindowWidth = null;\n\n        if (isResizingHorizontally) {\n          isResizingHorizontally = false;\n          store.dispatch('DID_STOP_RESIZE');\n        }\n      }, 500);\n    };\n\n    window.addEventListener('resize', resizeHandler); // render initial view\n\n    var view = root(store, {\n      id: getUniqueId()\n    }); //\n    // PRIVATE API -------------------------------------------------------------------------------------\n    //\n\n    var isResting = false;\n    var isHidden = false;\n    var readWriteApi = {\n      // necessary for update loop\n\n      /**\n       * Reads from dom (never call manually)\n       * @private\n       */\n      _read: function _read() {\n        // test if we're resizing horizontally\n        // TODO: see if we can optimize this by measuring root rect\n        if (isResizing) {\n          currentWindowWidth = window.innerWidth;\n\n          if (!initialWindowWidth) {\n            initialWindowWidth = currentWindowWidth;\n          }\n\n          if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {\n            store.dispatch('DID_START_RESIZE');\n            isResizingHorizontally = true;\n          }\n        }\n\n        if (isHidden && isResting) {\n          // test if is no longer hidden\n          isResting = view.element.offsetParent === null;\n        } // if resting, no need to read as numbers will still all be correct\n\n\n        if (isResting) return; // read view data\n\n        view._read(); // if is hidden we need to know so we exit rest mode when revealed\n\n\n        isHidden = view.rect.element.hidden;\n      },\n\n      /**\n       * Writes to dom (never call manually)\n       * @private\n       */\n      _write: function _write(ts) {\n        // get all actions from store\n        var actions = store.processActionQueue() // filter out set actions (these will automatically trigger DID_SET)\n        .filter(function (action) {\n          return !/^SET_/.test(action.type);\n        }); // if was idling and no actions stop here\n\n        if (isResting && !actions.length) return; // some actions might trigger events\n\n        routeActionsToEvents(actions); // update the view\n\n        isResting = view._write(ts, actions, isResizingHorizontally); // will clean up all archived items\n\n        removeReleasedItems(store.query('GET_ITEMS')); // now idling\n\n        if (isResting) {\n          store.processDispatchQueue();\n        }\n      }\n    }; //\n    // EXPOSE EVENTS -------------------------------------------------------------------------------------\n    //\n\n    var createEvent = function createEvent(name) {\n      return function (data) {\n        // create default event\n        var event = {\n          type: name\n        }; // no data to add\n\n        if (!data) {\n          return event;\n        } // copy relevant props\n\n\n        if (data.hasOwnProperty('error')) {\n          event.error = data.error ? Object.assign({}, data.error) : null;\n        }\n\n        if (data.status) {\n          event.status = Object.assign({}, data.status);\n        }\n\n        if (data.file) {\n          event.output = data.file;\n        } // only source is available, else add item if possible\n\n\n        if (data.source) {\n          event.file = data.source;\n        } else if (data.item || data.id) {\n          var item = data.item ? data.item : store.query('GET_ITEM', data.id);\n          event.file = item ? createItemAPI(item) : null;\n        } // map all items in a possible items array\n\n\n        if (data.items) {\n          event.items = data.items.map(createItemAPI);\n        } // if this is a progress event add the progress amount\n\n\n        if (/progress/.test(name)) {\n          event.progress = data.progress;\n        } // copy relevant props\n\n\n        if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n          event.origin = data.origin;\n          event.target = data.target;\n        }\n\n        return event;\n      };\n    };\n\n    var eventRoutes = {\n      DID_DESTROY: createEvent('destroy'),\n      DID_INIT: createEvent('init'),\n      DID_THROW_MAX_FILES: createEvent('warning'),\n      DID_INIT_ITEM: createEvent('initfile'),\n      DID_START_ITEM_LOAD: createEvent('addfilestart'),\n      DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n      DID_LOAD_ITEM: createEvent('addfile'),\n      DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n      DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n      DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],\n      DID_PREPARE_OUTPUT: createEvent('preparefile'),\n      DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n      DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n      DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n      DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n      DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n      DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n      DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],\n      DID_REMOVE_ITEM: createEvent('removefile'),\n      DID_UPDATE_ITEMS: createEvent('updatefiles'),\n      DID_ACTIVATE_ITEM: createEvent('activatefile'),\n      DID_REORDER_ITEMS: createEvent('reorderfiles')\n    };\n\n    var exposeEvent = function exposeEvent(event) {\n      // create event object to be dispatched\n      var detail = Object.assign({\n        pond: exports\n      }, event);\n      delete detail.type;\n      view.element.dispatchEvent(new CustomEvent('FilePond:' + event.type, {\n        // event info\n        detail: detail,\n        // event behaviour\n        bubbles: true,\n        cancelable: true,\n        composed: true // triggers listeners outside of shadow root\n\n      })); // event object to params used for `on()` event handlers and callbacks `oninit()`\n\n      var params = []; // if is possible error event, make it the first param\n\n      if (event.hasOwnProperty('error')) {\n        params.push(event.error);\n      } // file is always section\n\n\n      if (event.hasOwnProperty('file')) {\n        params.push(event.file);\n      } // append other props\n\n\n      var filtered = ['type', 'error', 'file'];\n      Object.keys(event).filter(function (key) {\n        return !filtered.includes(key);\n      }).forEach(function (key) {\n        return params.push(event[key]);\n      }); // on(type, () => { })\n\n      exports.fire.apply(exports, [event.type].concat(params)); // oninit = () => {}\n\n      var handler = store.query('GET_ON' + event.type.toUpperCase());\n\n      if (handler) {\n        handler.apply(void 0, params);\n      }\n    };\n\n    var routeActionsToEvents = function routeActionsToEvents(actions) {\n      if (!actions.length) return;\n      actions.filter(function (action) {\n        return eventRoutes[action.type];\n      }).forEach(function (action) {\n        var routes = eventRoutes[action.type];\n        (Array.isArray(routes) ? routes : [routes]).forEach(function (route) {\n          // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n          if (action.type === 'DID_INIT_ITEM') {\n            exposeEvent(route(action.data));\n          } else {\n            setTimeout(function () {\n              exposeEvent(route(action.data));\n            }, 0);\n          }\n        });\n      });\n    }; //\n    // PUBLIC API -------------------------------------------------------------------------------------\n    //\n\n\n    var setOptions = function setOptions(options) {\n      return store.dispatch('SET_OPTIONS', {\n        options: options\n      });\n    };\n\n    var getFile = function getFile(query) {\n      return store.query('GET_ACTIVE_ITEM', query);\n    };\n\n    var prepareFile = function prepareFile(query) {\n      return new Promise(function (resolve, reject) {\n        store.dispatch('REQUEST_ITEM_PREPARE', {\n          query: query,\n          success: function success(item) {\n            resolve(item);\n          },\n          failure: function failure(error) {\n            reject(error);\n          }\n        });\n      });\n    };\n\n    var addFile = function addFile(source) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new Promise(function (resolve, reject) {\n        addFiles([{\n          source: source,\n          options: options\n        }], {\n          index: options.index\n        }).then(function (items) {\n          return resolve(items && items[0]);\n        }).catch(reject);\n      });\n    };\n\n    var isFilePondFile = function isFilePondFile(obj) {\n      return obj.file && obj.id;\n    };\n\n    var removeFile = function removeFile(query, options) {\n      // if only passed options\n      if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n        options = query;\n        query = undefined;\n      } // request item removal\n\n\n      store.dispatch('REMOVE_ITEM', Object.assign({}, options, {\n        query: query\n      })); // see if item has been removed\n\n      return store.query('GET_ACTIVE_ITEM', query) === null;\n    };\n\n    var addFiles = function addFiles() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return new Promise(function (resolve, reject) {\n        var sources = [];\n        var options = {}; // user passed a sources array\n\n        if (isArray(args[0])) {\n          sources.push.apply(sources, args[0]);\n          Object.assign(options, args[1] || {});\n        } else {\n          // user passed sources as arguments, last one might be options object\n          var lastArgument = args[args.length - 1];\n\n          if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {\n            Object.assign(options, args.pop());\n          } // add rest to sources\n\n\n          sources.push.apply(sources, args);\n        }\n\n        store.dispatch('ADD_ITEMS', {\n          items: sources,\n          index: options.index,\n          interactionMethod: InteractionMethod.API,\n          success: resolve,\n          failure: reject\n        });\n      });\n    };\n\n    var getFiles = function getFiles() {\n      return store.query('GET_ACTIVE_ITEMS');\n    };\n\n    var processFile = function processFile(query) {\n      return new Promise(function (resolve, reject) {\n        store.dispatch('REQUEST_ITEM_PROCESSING', {\n          query: query,\n          success: function success(item) {\n            resolve(item);\n          },\n          failure: function failure(error) {\n            reject(error);\n          }\n        });\n      });\n    };\n\n    var prepareFiles = function prepareFiles() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var queries = Array.isArray(args[0]) ? args[0] : args;\n      var items = queries.length ? queries : getFiles();\n      return Promise.all(items.map(prepareFile));\n    };\n\n    var processFiles = function processFiles() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      var queries = Array.isArray(args[0]) ? args[0] : args;\n\n      if (!queries.length) {\n        var files = getFiles().filter(function (item) {\n          return !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) && item.status !== ItemStatus.PROCESSING && item.status !== ItemStatus.PROCESSING_COMPLETE && item.status !== ItemStatus.PROCESSING_REVERT_ERROR;\n        });\n        return Promise.all(files.map(processFile));\n      }\n\n      return Promise.all(queries.map(processFile));\n    };\n\n    var removeFiles = function removeFiles() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      var queries = Array.isArray(args[0]) ? args[0] : args;\n      var options;\n\n      if (typeof queries[queries.length - 1] === 'object') {\n        options = queries.pop();\n      } else if (Array.isArray(args[0])) {\n        options = args[1];\n      }\n\n      var files = getFiles();\n      if (!queries.length) return Promise.all(files.map(function (file) {\n        return removeFile(file, options);\n      })); // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n\n      var mappedQueries = queries.map(function (query) {\n        return isNumber(query) ? files[query] ? files[query].id : null : query;\n      }).filter(function (query) {\n        return query;\n      });\n      return mappedQueries.map(function (q) {\n        return removeFile(q, options);\n      });\n    };\n\n    var exports = Object.assign({}, on(), {}, readWriteApi, {}, createOptionAPI(store, defaultOptions), {\n      /**\n       * Override options defined in options object\n       * @param options\n       */\n      setOptions: setOptions,\n\n      /**\n       * Load the given file\n       * @param source - the source of the file (either a File, base64 data uri or url)\n       * @param options - object, { index: 0 }\n       */\n      addFile: addFile,\n\n      /**\n       * Load the given files\n       * @param sources - the sources of the files to load\n       * @param options - object, { index: 0 }\n       */\n      addFiles: addFiles,\n\n      /**\n       * Returns the file objects matching the given query\n       * @param query { string, number, null }\n       */\n      getFile: getFile,\n\n      /**\n       * Upload file with given name\n       * @param query { string, number, null  }\n       */\n      processFile: processFile,\n\n      /**\n       * Request prepare output for file with given name\n       * @param query { string, number, null  }\n       */\n      prepareFile: prepareFile,\n\n      /**\n       * Removes a file by its name\n       * @param query { string, number, null  }\n       */\n      removeFile: removeFile,\n\n      /**\n       * Moves a file to a new location in the files list\n       */\n      moveFile: function moveFile(query, index) {\n        return store.dispatch('MOVE_ITEM', {\n          query: query,\n          index: index\n        });\n      },\n\n      /**\n       * Returns all files (wrapped in public api)\n       */\n      getFiles: getFiles,\n\n      /**\n       * Starts uploading all files\n       */\n      processFiles: processFiles,\n\n      /**\n       * Clears all files from the files list\n       */\n      removeFiles: removeFiles,\n\n      /**\n       * Starts preparing output of all files\n       */\n      prepareFiles: prepareFiles,\n\n      /**\n       * Sort list of files\n       */\n      sort: function sort(compare) {\n        return store.dispatch('SORT', {\n          compare: compare\n        });\n      },\n\n      /**\n       * Browse the file system for a file\n       */\n      browse: function browse() {\n        // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n        var input = view.element.querySelector('input[type=file]');\n\n        if (input) {\n          input.click();\n        }\n      },\n\n      /**\n       * Destroys the app\n       */\n      destroy: function destroy() {\n        // request destruction\n        exports.fire('destroy', view.element); // stop active processes (file uploads, fetches, stuff like that)\n        // loop over items and depending on states call abort for ongoing processes\n\n        store.dispatch('ABORT_ALL'); // destroy view\n\n        view._destroy(); // stop listening to resize\n\n\n        window.removeEventListener('resize', resizeHandler); // stop listening to the visiblitychange event\n\n        document.removeEventListener('visibilitychange', visibilityHandler); // dispatch destroy\n\n        store.dispatch('DID_DESTROY');\n      },\n\n      /**\n       * Inserts the plugin before the target element\n       */\n      insertBefore: function insertBefore$1(element) {\n        return insertBefore(view.element, element);\n      },\n\n      /**\n       * Inserts the plugin after the target element\n       */\n      insertAfter: function insertAfter$1(element) {\n        return insertAfter(view.element, element);\n      },\n\n      /**\n       * Appends the plugin to the target element\n       */\n      appendTo: function appendTo(element) {\n        return element.appendChild(view.element);\n      },\n\n      /**\n       * Replaces an element with the app\n       */\n      replaceElement: function replaceElement(element) {\n        // insert the app before the element\n        insertBefore(view.element, element); // remove the original element\n\n        element.parentNode.removeChild(element); // remember original element\n\n        originalElement = element;\n      },\n\n      /**\n       * Restores the original element\n       */\n      restoreElement: function restoreElement() {\n        if (!originalElement) {\n          return; // no element to restore\n        } // restore original element\n\n\n        insertAfter(originalElement, view.element); // remove our element\n\n        view.element.parentNode.removeChild(view.element); // remove reference\n\n        originalElement = null;\n      },\n\n      /**\n       * Returns true if the app root is attached to given element\n       * @param element\n       */\n      isAttachedTo: function isAttachedTo(element) {\n        return view.element === element || originalElement === element;\n      },\n\n      /**\n       * Returns the root element\n       */\n      element: {\n        get: function get() {\n          return view.element;\n        }\n      },\n\n      /**\n       * Returns the current pond status\n       */\n      status: {\n        get: function get() {\n          return store.query('GET_STATUS');\n        }\n      }\n    }); // Done!\n\n    store.dispatch('DID_INIT'); // create actual api object\n\n    return createObject(exports);\n  };\n\n  var createAppObject = function createAppObject() {\n    var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; // default options\n\n    var defaultOptions = {};\n    forin(getOptions(), function (key, value) {\n      defaultOptions[key] = value[0];\n    }); // set app options\n\n    var app = createApp(Object.assign({}, defaultOptions, {}, customOptions)); // return the plugin instance\n\n    return app;\n  };\n\n  var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {\n    return string.charAt(0).toLowerCase() + string.slice(1);\n  };\n\n  var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {\n    return toCamels(attributeName.replace(/^data-/, ''));\n  };\n\n  var mapObject = function mapObject(object, propertyMap) {\n    // remove unwanted\n    forin(propertyMap, function (selector, mapping) {\n      forin(object, function (property, value) {\n        // create regexp shortcut\n        var selectorRegExp = new RegExp(selector); // tests if\n\n        var matches = selectorRegExp.test(property); // no match, skip\n\n        if (!matches) {\n          return;\n        } // if there's a mapping, the original property is always removed\n\n\n        delete object[property]; // should only remove, we done!\n\n        if (mapping === false) {\n          return;\n        } // move value to new property\n\n\n        if (isString(mapping)) {\n          object[mapping] = value;\n          return;\n        } // move to group\n\n\n        var group = mapping.group;\n\n        if (isObject(mapping) && !object[group]) {\n          object[group] = {};\n        }\n\n        object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n      }); // do submapping\n\n      if (mapping.mapping) {\n        mapObject(object[mapping.group], mapping.mapping);\n      }\n    });\n  };\n\n  var getAttributesAsObject = function getAttributesAsObject(node) {\n    var attributeMapping = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {}; // turn attributes into object\n\n    var attributes = [];\n    forin(node.attributes, function (index) {\n      attributes.push(node.attributes[index]);\n    });\n    var output = attributes.filter(function (attribute) {\n      return attribute.name;\n    }).reduce(function (obj, attribute) {\n      var value = attr(node, attribute.name);\n      obj[attributeNameToPropertyName(attribute.name)] = value === attribute.name ? true : value;\n      return obj;\n    }, {}); // do mapping of object properties\n\n    mapObject(output, attributeMapping);\n    return output;\n  };\n\n  var createAppAtElement = function createAppAtElement(element) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {}; // how attributes of the input element are mapped to the options for the plugin\n\n    var attributeMapping = {\n      // translate to other name\n      '^class$': 'className',\n      '^multiple$': 'allowMultiple',\n      '^capture$': 'captureMethod',\n      '^webkitdirectory$': 'allowDirectoriesOnly',\n      // group under single property\n      '^server': {\n        group: 'server',\n        mapping: {\n          '^process': {\n            group: 'process'\n          },\n          '^revert': {\n            group: 'revert'\n          },\n          '^fetch': {\n            group: 'fetch'\n          },\n          '^restore': {\n            group: 'restore'\n          },\n          '^load': {\n            group: 'load'\n          }\n        }\n      },\n      // don't include in object\n      '^type$': false,\n      '^files$': false\n    }; // add additional option translators\n\n    applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping); // create final options object by setting options object and then overriding options supplied on element\n\n    var mergedOptions = Object.assign({}, options);\n    var attributeOptions = getAttributesAsObject(element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element, attributeMapping); // merge with options object\n\n    Object.keys(attributeOptions).forEach(function (key) {\n      if (isObject(attributeOptions[key])) {\n        if (!isObject(mergedOptions[key])) {\n          mergedOptions[key] = {};\n        }\n\n        Object.assign(mergedOptions[key], attributeOptions[key]);\n      } else {\n        mergedOptions[key] = attributeOptions[key];\n      }\n    }); // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n    // these will then be automatically set to the initial files\n\n    mergedOptions.files = (options.files || []).concat(Array.from(element.querySelectorAll('input:not([type=file])')).map(function (input) {\n      return {\n        source: input.value,\n        options: {\n          type: input.dataset.type\n        }\n      };\n    })); // build plugin\n\n    var app = createAppObject(mergedOptions); // add already selected files\n\n    if (element.files) {\n      Array.from(element.files).forEach(function (file) {\n        app.addFile(file);\n      });\n    } // replace the target element\n\n\n    app.replaceElement(element); // expose\n\n    return app;\n  }; // if an element is passed, we create the instance at that element, if not, we just create an up object\n\n\n  var createApp$1 = function createApp() {\n    return isNode(arguments.length <= 0 ? undefined : arguments[0]) ? createAppAtElement.apply(void 0, arguments) : createAppObject.apply(void 0, arguments);\n  };\n\n  var PRIVATE_METHODS = ['fire', '_read', '_write'];\n\n  var createAppAPI = function createAppAPI(app) {\n    var api = {};\n    copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n    return api;\n  };\n  /**\n   * Replaces placeholders in given string with replacements\n   * @param string - \"Foo {bar}\"\"\n   * @param replacements - { \"bar\": 10 }\n   */\n\n\n  var replaceInString = function replaceInString(string, replacements) {\n    return string.replace(/(?:{([a-zA-Z]+)})/g, function (match, group) {\n      return replacements[group];\n    });\n  };\n\n  var createWorker = function createWorker(fn) {\n    var workerBlob = new Blob(['(', fn.toString(), ')()'], {\n      type: 'application/javascript'\n    });\n    var workerURL = URL.createObjectURL(workerBlob);\n    var worker = new Worker(workerURL);\n    return {\n      transfer: function transfer(message, cb) {},\n      post: function post(message, cb, transferList) {\n        var id = getUniqueId();\n\n        worker.onmessage = function (e) {\n          if (e.data.id === id) {\n            cb(e.data.message);\n          }\n        };\n\n        worker.postMessage({\n          id: id,\n          message: message\n        }, transferList);\n      },\n      terminate: function terminate() {\n        worker.terminate();\n        URL.revokeObjectURL(workerURL);\n      }\n    };\n  };\n\n  var loadImage = function loadImage(url) {\n    return new Promise(function (resolve, reject) {\n      var img = new Image();\n\n      img.onload = function () {\n        resolve(img);\n      };\n\n      img.onerror = function (e) {\n        reject(e);\n      };\n\n      img.src = url;\n    });\n  };\n\n  var renameFile = function renameFile(file, name) {\n    var renamedFile = file.slice(0, file.size, file.type);\n    renamedFile.lastModifiedDate = file.lastModifiedDate;\n    renamedFile.name = name;\n    return renamedFile;\n  };\n\n  var copyFile = function copyFile(file) {\n    return renameFile(file, file.name);\n  }; // already registered plugins (can't register twice)\n\n\n  var registeredPlugins = []; // pass utils to plugin\n\n  var createAppPlugin = function createAppPlugin(plugin) {\n    // already registered\n    if (registeredPlugins.includes(plugin)) {\n      return;\n    } // remember this plugin\n\n\n    registeredPlugins.push(plugin); // setup!\n\n    var pluginOutline = plugin({\n      addFilter: addFilter,\n      utils: {\n        Type: Type,\n        forin: forin,\n        isString: isString,\n        isFile: isFile,\n        toNaturalFileSize: toNaturalFileSize,\n        replaceInString: replaceInString,\n        getExtensionFromFilename: getExtensionFromFilename,\n        getFilenameWithoutExtension: getFilenameWithoutExtension,\n        guesstimateMimeType: guesstimateMimeType,\n        getFileFromBlob: getFileFromBlob,\n        getFilenameFromURL: getFilenameFromURL,\n        createRoute: createRoute,\n        createWorker: createWorker,\n        createView: createView,\n        createItemAPI: createItemAPI,\n        loadImage: loadImage,\n        copyFile: copyFile,\n        renameFile: renameFile,\n        createBlob: createBlob,\n        applyFilterChain: applyFilterChain,\n        text: text,\n        getNumericAspectRatioFromString: getNumericAspectRatioFromString\n      },\n      views: {\n        fileActionButton: fileActionButton\n      }\n    }); // add plugin options to default options\n\n    extendDefaultOptions(pluginOutline.options);\n  }; // feature detection used by supported() method\n\n\n  var isOperaMini = function isOperaMini() {\n    return Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\n  };\n\n  var hasPromises = function hasPromises() {\n    return 'Promise' in window;\n  };\n\n  var hasBlobSlice = function hasBlobSlice() {\n    return 'slice' in Blob.prototype;\n  };\n\n  var hasCreateObjectURL = function hasCreateObjectURL() {\n    return 'URL' in window && 'createObjectURL' in window.URL;\n  };\n\n  var hasVisibility = function hasVisibility() {\n    return 'visibilityState' in document;\n  };\n\n  var hasTiming = function hasTiming() {\n    return 'performance' in window;\n  }; // iOS 8.x\n\n\n  var hasCSSSupports = function hasCSSSupports() {\n    return 'supports' in (window.CSS || {});\n  }; // use to detect Safari 9+\n\n\n  var isIE11 = function isIE11() {\n    return /MSIE|Trident/.test(window.navigator.userAgent);\n  };\n\n  var supported = function () {\n    // Runs immediately and then remembers result for subsequent calls\n    var isSupported = // Has to be a browser\n    isBrowser() && // Can't run on Opera Mini due to lack of everything\n    !isOperaMini() && // Require these APIs to feature detect a modern browser\n    hasVisibility() && hasPromises() && hasBlobSlice() && hasCreateObjectURL() && hasTiming() && ( // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n    hasCSSSupports() || isIE11());\n    return function () {\n      return isSupported;\n    };\n  }();\n  /**\n   * Plugin internal state (over all instances)\n   */\n\n\n  var state = {\n    // active app instances, used to redraw the apps and to find the later\n    apps: []\n  }; // plugin name\n\n  var name = 'filepond';\n  /**\n   * Public Plugin methods\n   */\n\n  var fn = function fn() {};\n\n  exports.Status = {};\n  exports.FileStatus = {};\n  exports.FileOrigin = {};\n  exports.OptionTypes = {};\n  exports.create = fn;\n  exports.destroy = fn;\n  exports.parse = fn;\n  exports.find = fn;\n  exports.registerPlugin = fn;\n  exports.getOptions = fn;\n  exports.setOptions = fn; // if not supported, no API\n\n  if (supported()) {\n    // start painter and fire load event\n    createPainter(function () {\n      state.apps.forEach(function (app) {\n        return app._read();\n      });\n    }, function (ts) {\n      state.apps.forEach(function (app) {\n        return app._write(ts);\n      });\n    }); // fire loaded event so we know when FilePond is available\n\n    var dispatch = function dispatch() {\n      // let others know we have area ready\n      document.dispatchEvent(new CustomEvent('FilePond:loaded', {\n        detail: {\n          supported: supported,\n          create: exports.create,\n          destroy: exports.destroy,\n          parse: exports.parse,\n          find: exports.find,\n          registerPlugin: exports.registerPlugin,\n          setOptions: exports.setOptions\n        }\n      })); // clean up event\n\n      document.removeEventListener('DOMContentLoaded', dispatch);\n    };\n\n    if (document.readyState !== 'loading') {\n      // move to back of execution queue, FilePond should have been exported by then\n      setTimeout(function () {\n        return dispatch();\n      }, 0);\n    } else {\n      document.addEventListener('DOMContentLoaded', dispatch);\n    } // updates the OptionTypes object based on the current options\n\n\n    var updateOptionTypes = function updateOptionTypes() {\n      return forin(getOptions(), function (key, value) {\n        exports.OptionTypes[key] = value[1];\n      });\n    };\n\n    exports.Status = Object.assign({}, Status);\n    exports.FileOrigin = Object.assign({}, FileOrigin);\n    exports.FileStatus = Object.assign({}, ItemStatus);\n    exports.OptionTypes = {};\n    updateOptionTypes(); // create method, creates apps and adds them to the app array\n\n    exports.create = function create() {\n      var app = createApp$1.apply(void 0, arguments);\n      app.on('destroy', exports.destroy);\n      state.apps.push(app);\n      return createAppAPI(app);\n    }; // destroys apps and removes them from the app array\n\n\n    exports.destroy = function destroy(hook) {\n      // returns true if the app was destroyed successfully\n      var indexToRemove = state.apps.findIndex(function (app) {\n        return app.isAttachedTo(hook);\n      });\n\n      if (indexToRemove >= 0) {\n        // remove from apps\n        var app = state.apps.splice(indexToRemove, 1)[0]; // restore original dom element\n\n        app.restoreElement();\n        return true;\n      }\n\n      return false;\n    }; // parses the given context for plugins (does not include the context element itself)\n\n\n    exports.parse = function parse(context) {\n      // get all possible hooks\n      var matchedHooks = Array.from(context.querySelectorAll('.' + name)); // filter out already active hooks\n\n      var newHooks = matchedHooks.filter(function (newHook) {\n        return !state.apps.find(function (app) {\n          return app.isAttachedTo(newHook);\n        });\n      }); // create new instance for each hook\n\n      return newHooks.map(function (hook) {\n        return exports.create(hook);\n      });\n    }; // returns an app based on the given element hook\n\n\n    exports.find = function find(hook) {\n      var app = state.apps.find(function (app) {\n        return app.isAttachedTo(hook);\n      });\n\n      if (!app) {\n        return null;\n      }\n\n      return createAppAPI(app);\n    }; // adds a plugin extension\n\n\n    exports.registerPlugin = function registerPlugin() {\n      for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n        plugins[_key] = arguments[_key];\n      } // register plugins\n\n\n      plugins.forEach(createAppPlugin); // update OptionTypes, each plugin might have extended the default options\n\n      updateOptionTypes();\n    };\n\n    exports.getOptions = function getOptions$1() {\n      var opts = {};\n      forin(getOptions(), function (key, value) {\n        opts[key] = value[0];\n      });\n      return opts;\n    };\n\n    exports.setOptions = function setOptions$1(opts) {\n      if (isObject(opts)) {\n        // update existing plugins\n        state.apps.forEach(function (app) {\n          app.setOptions(opts);\n        }); // override defaults\n\n        setOptions(opts);\n      } // return new options\n\n\n      return exports.getOptions();\n    };\n  }\n\n  exports.supported = supported;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","/*!\n * FilePondPluginFileValidateSize 2.2.1\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.FilePondPluginFileValidateSize = factory());\n})(this, function () {\n  'use strict';\n\n  var plugin = function plugin(_ref) {\n    var addFilter = _ref.addFilter,\n        utils = _ref.utils; // get quick reference to Type utils\n\n    var Type = utils.Type,\n        replaceInString = utils.replaceInString,\n        toNaturalFileSize = utils.toNaturalFileSize; // filtering if an item is allowed in hopper\n\n    addFilter('ALLOW_HOPPER_ITEM', function (file, _ref2) {\n      var query = _ref2.query;\n\n      if (!query('GET_ALLOW_FILE_SIZE_VALIDATION')) {\n        return true;\n      }\n\n      var sizeMax = query('GET_MAX_FILE_SIZE');\n\n      if (sizeMax !== null && file.size >= sizeMax) {\n        return false;\n      }\n\n      var sizeMin = query('GET_MIN_FILE_SIZE');\n\n      if (sizeMin !== null && file.size <= sizeMin) {\n        return false;\n      }\n\n      return true;\n    }); // called for each file that is loaded\n    // right before it is set to the item state\n    // should return a promise\n\n    addFilter('LOAD_FILE', function (file, _ref3) {\n      var query = _ref3.query;\n      return new Promise(function (resolve, reject) {\n        // if not allowed, all fine, exit\n        if (!query('GET_ALLOW_FILE_SIZE_VALIDATION')) {\n          return resolve(file);\n        } // check if file should be filtered\n\n\n        var fileFilter = query('GET_FILE_VALIDATE_SIZE_FILTER');\n\n        if (fileFilter && !fileFilter(file)) {\n          return resolve(file);\n        } // reject or resolve based on file size\n\n\n        var sizeMax = query('GET_MAX_FILE_SIZE');\n\n        if (sizeMax !== null && file.size >= sizeMax) {\n          reject({\n            status: {\n              main: query('GET_LABEL_MAX_FILE_SIZE_EXCEEDED'),\n              sub: replaceInString(query('GET_LABEL_MAX_FILE_SIZE'), {\n                filesize: toNaturalFileSize(sizeMax)\n              })\n            }\n          });\n          return;\n        } // reject or resolve based on file size\n\n\n        var sizeMin = query('GET_MIN_FILE_SIZE');\n\n        if (sizeMin !== null && file.size <= sizeMin) {\n          reject({\n            status: {\n              main: query('GET_LABEL_MIN_FILE_SIZE_EXCEEDED'),\n              sub: replaceInString(query('GET_LABEL_MIN_FILE_SIZE'), {\n                filesize: toNaturalFileSize(sizeMin)\n              })\n            }\n          });\n          return;\n        } // returns the current option value\n\n\n        var totalSizeMax = query('GET_MAX_TOTAL_FILE_SIZE');\n\n        if (totalSizeMax !== null) {\n          // get the current total file size\n          var currentTotalSize = query('GET_ACTIVE_ITEMS').reduce(function (total, item) {\n            return total + item.fileSize;\n          }, 0); // get the size of the new file\n\n          if (currentTotalSize > totalSizeMax) {\n            reject({\n              status: {\n                main: query('GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED'),\n                sub: replaceInString(query('GET_LABEL_MAX_TOTAL_FILE_SIZE'), {\n                  filesize: toNaturalFileSize(totalSizeMax)\n                })\n              }\n            });\n            return;\n          }\n        } // file is fine, let's pass it back\n\n\n        resolve(file);\n      });\n    });\n    return {\n      options: {\n        // Enable or disable file type validation\n        allowFileSizeValidation: [true, Type.BOOLEAN],\n        // Max individual file size in bytes\n        maxFileSize: [null, Type.INT],\n        // Min individual file size in bytes\n        minFileSize: [null, Type.INT],\n        // Max total file size in bytes\n        maxTotalFileSize: [null, Type.INT],\n        // Filter the files that need to be validated for size\n        fileValidateSizeFilter: [null, Type.FUNCTION],\n        // error labels\n        labelMinFileSizeExceeded: ['File is too small', Type.STRING],\n        labelMinFileSize: ['Minimum file size is {filesize}', Type.STRING],\n        labelMaxFileSizeExceeded: ['File is too large', Type.STRING],\n        labelMaxFileSize: ['Maximum file size is {filesize}', Type.STRING],\n        labelMaxTotalFileSizeExceeded: ['Maximum total size exceeded', Type.STRING],\n        labelMaxTotalFileSize: ['Maximum total file size is {filesize}', Type.STRING]\n      }\n    };\n  }; // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n\n\n  var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n  if (isBrowser) {\n    document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', {\n      detail: plugin\n    }));\n  }\n\n  return plugin;\n});","/*!\n * FilePondPluginFileValidateType 1.2.5\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.FilePondPluginFileValidateType = factory());\n})(this, function () {\n  'use strict';\n\n  var plugin = function plugin(_ref) {\n    var addFilter = _ref.addFilter,\n        utils = _ref.utils; // get quick reference to Type utils\n\n    var Type = utils.Type,\n        isString = utils.isString,\n        replaceInString = utils.replaceInString,\n        guesstimateMimeType = utils.guesstimateMimeType,\n        getExtensionFromFilename = utils.getExtensionFromFilename,\n        getFilenameFromURL = utils.getFilenameFromURL;\n\n    var mimeTypeMatchesWildCard = function mimeTypeMatchesWildCard(mimeType, wildcard) {\n      var mimeTypeGroup = (/^[^/]+/.exec(mimeType) || []).pop(); // image/png -> image\n\n      var wildcardGroup = wildcard.slice(0, -2); // image/* -> image\n\n      return mimeTypeGroup === wildcardGroup;\n    };\n\n    var isValidMimeType = function isValidMimeType(acceptedTypes, userInputType) {\n      return acceptedTypes.some(function (acceptedType) {\n        // accepted is wildcard mime type\n        if (/\\*$/.test(acceptedType)) {\n          return mimeTypeMatchesWildCard(userInputType, acceptedType);\n        } // is normal mime type\n\n\n        return acceptedType === userInputType;\n      });\n    };\n\n    var getItemType = function getItemType(item) {\n      // if the item is a url we guess the mime type by the extension\n      var type = '';\n\n      if (isString(item)) {\n        var filename = getFilenameFromURL(item);\n        var extension = getExtensionFromFilename(filename);\n\n        if (extension) {\n          type = guesstimateMimeType(extension);\n        }\n      } else {\n        type = item.type;\n      }\n\n      return type;\n    };\n\n    var validateFile = function validateFile(item, acceptedFileTypes, typeDetector) {\n      // no types defined, everything is allowed \\o/\n      if (acceptedFileTypes.length === 0) {\n        return true;\n      } // gets the item type\n\n\n      var type = getItemType(item); // no type detector, test now\n\n      if (!typeDetector) {\n        return isValidMimeType(acceptedFileTypes, type);\n      } // use type detector\n\n\n      return new Promise(function (resolve, reject) {\n        typeDetector(item, type).then(function (detectedType) {\n          if (isValidMimeType(acceptedFileTypes, detectedType)) {\n            resolve();\n          } else {\n            reject();\n          }\n        }).catch(reject);\n      });\n    };\n\n    var applyMimeTypeMap = function applyMimeTypeMap(map) {\n      return function (acceptedFileType) {\n        return map[acceptedFileType] === null ? false : map[acceptedFileType] || acceptedFileType;\n      };\n    }; // setup attribute mapping for accept\n\n\n    addFilter('SET_ATTRIBUTE_TO_OPTION_MAP', function (map) {\n      return Object.assign(map, {\n        accept: 'acceptedFileTypes'\n      });\n    }); // filtering if an item is allowed in hopper\n\n    addFilter('ALLOW_HOPPER_ITEM', function (file, _ref2) {\n      var query = _ref2.query; // if we are not doing file type validation exit\n\n      if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n        return true;\n      } // we validate the file against the accepted file types\n\n\n      return validateFile(file, query('GET_ACCEPTED_FILE_TYPES'));\n    }); // called for each file that is loaded\n    // right before it is set to the item state\n    // should return a promise\n\n    addFilter('LOAD_FILE', function (file, _ref3) {\n      var query = _ref3.query;\n      return new Promise(function (resolve, reject) {\n        if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n          resolve(file);\n          return;\n        }\n\n        var acceptedFileTypes = query('GET_ACCEPTED_FILE_TYPES'); // custom type detector method\n\n        var typeDetector = query('GET_FILE_VALIDATE_TYPE_DETECT_TYPE'); // if invalid, exit here\n\n        var validationResult = validateFile(file, acceptedFileTypes, typeDetector);\n\n        var handleRejection = function handleRejection() {\n          var acceptedFileTypesMapped = acceptedFileTypes.map(applyMimeTypeMap(query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP'))).filter(function (label) {\n            return label !== false;\n          });\n          reject({\n            status: {\n              main: query('GET_LABEL_FILE_TYPE_NOT_ALLOWED'),\n              sub: replaceInString(query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES'), {\n                allTypes: acceptedFileTypesMapped.join(', '),\n                allButLastType: acceptedFileTypesMapped.slice(0, -1).join(', '),\n                lastType: acceptedFileTypesMapped[acceptedFileTypesMapped.length - 1]\n              })\n            }\n          });\n        }; // has returned new filename immidiately\n\n\n        if (typeof validationResult === 'boolean') {\n          if (!validationResult) {\n            return handleRejection();\n          }\n\n          return resolve(file);\n        } // is promise\n\n\n        validationResult.then(function () {\n          resolve(file);\n        }).catch(handleRejection);\n      });\n    }); // expose plugin\n\n    return {\n      // default options\n      options: {\n        // Enable or disable file type validation\n        allowFileTypeValidation: [true, Type.BOOLEAN],\n        // What file types to accept\n        acceptedFileTypes: [[], Type.ARRAY],\n        // - must be comma separated\n        // - mime types: image/png, image/jpeg, image/gif\n        // - extensions: .png, .jpg, .jpeg ( not enabled yet )\n        // - wildcards: image/*\n        // label to show when a type is not allowed\n        labelFileTypeNotAllowed: ['File is of invalid type', Type.STRING],\n        // nicer label\n        fileValidateTypeLabelExpectedTypes: ['Expects {allButLastType} or {lastType}', Type.STRING],\n        // map mime types to extensions\n        fileValidateTypeLabelExpectedTypesMap: [{}, Type.OBJECT],\n        // Custom function to detect type of file\n        fileValidateTypeDetectType: [null, Type.FUNCTION]\n      }\n    };\n  }; // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n\n\n  var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n  if (isBrowser) {\n    document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', {\n      detail: plugin\n    }));\n  }\n\n  return plugin;\n});","/*!\n * FilePondPluginImageExifOrientation 1.0.9\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.FilePondPluginImageExifOrientation = factory());\n})(this, function () {\n  'use strict'; // test if file is of type image\n\n  var isJPEG = function isJPEG(file) {\n    return /^image\\/jpeg/.test(file.type);\n  };\n\n  var Marker = {\n    JPEG: 0xffd8,\n    APP1: 0xffe1,\n    EXIF: 0x45786966,\n    TIFF: 0x4949,\n    Orientation: 0x0112,\n    Unknown: 0xff00\n  };\n\n  var getUint16 = function getUint16(view, offset) {\n    var little = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    return view.getUint16(offset, little);\n  };\n\n  var getUint32 = function getUint32(view, offset) {\n    var little = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    return view.getUint32(offset, little);\n  };\n\n  var getImageOrientation = function getImageOrientation(file) {\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var view = new DataView(e.target.result); // Every JPEG file starts from binary value '0xFFD8'\n\n        if (getUint16(view, 0) !== Marker.JPEG) {\n          // This aint no JPEG\n          resolve(-1);\n          return;\n        }\n\n        var length = view.byteLength;\n        var offset = 2;\n\n        while (offset < length) {\n          var marker = getUint16(view, offset);\n          offset += 2; // There's our APP1 Marker\n\n          if (marker === Marker.APP1) {\n            if (getUint32(view, offset += 2) !== Marker.EXIF) {\n              // no EXIF info defined\n              break;\n            } // Get TIFF Header\n\n\n            var little = getUint16(view, offset += 6) === Marker.TIFF;\n            offset += getUint32(view, offset + 4, little);\n            var tags = getUint16(view, offset, little);\n            offset += 2;\n\n            for (var i = 0; i < tags; i++) {\n              // found the orientation tag\n              if (getUint16(view, offset + i * 12, little) === Marker.Orientation) {\n                resolve(getUint16(view, offset + i * 12 + 8, little));\n                return;\n              }\n            }\n          } else if ((marker & Marker.Unknown) !== Marker.Unknown) {\n            // Invalid\n            break;\n          } else {\n            offset += getUint16(view, offset);\n          }\n        } // Nothing found\n\n\n        resolve(-1);\n      }; // we don't need to read the entire file to get the orientation\n\n\n      reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n    });\n  };\n\n  var IS_BROWSER = function () {\n    return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  }();\n\n  var isBrowser = function isBrowser() {\n    return IS_BROWSER;\n  }; // 2x1 pixel image 90CW rotated with orientation header\n\n\n  var testSrc = 'data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k='; // should correct orientation if is presented in landscape, in which case the browser doesn't autocorrect\n\n  var shouldCorrect = undefined;\n  var testImage = isBrowser() ? new Image() : {};\n\n  testImage.onload = function () {\n    return shouldCorrect = testImage.naturalWidth > testImage.naturalHeight;\n  };\n\n  testImage.src = testSrc;\n\n  var shouldCorrectImageExifOrientation = function shouldCorrectImageExifOrientation() {\n    return shouldCorrect;\n  };\n  /**\n   * Read Image Orientation Plugin\n   */\n\n\n  var plugin = function plugin(_ref) {\n    var addFilter = _ref.addFilter,\n        utils = _ref.utils;\n    var Type = utils.Type,\n        isFile = utils.isFile; // subscribe to file load and append required info\n\n    addFilter('DID_LOAD_ITEM', function (item, _ref2) {\n      var query = _ref2.query;\n      return new Promise(function (resolve, reject) {\n        // get file reference\n        var file = item.file; // if this is not a jpeg image we are not interested\n\n        if (!isFile(file) || !isJPEG(file) || !query('GET_ALLOW_IMAGE_EXIF_ORIENTATION') || !shouldCorrectImageExifOrientation()) {\n          // continue with the unaltered dataset\n          return resolve(item);\n        } // get orientation from exif data\n\n\n        getImageOrientation(file).then(function (orientation) {\n          item.setMetadata('exif', {\n            orientation: orientation\n          });\n          resolve(item);\n        });\n      });\n    }); // Expose plugin options\n\n    return {\n      options: {\n        // Enable or disable image orientation reading\n        allowImageExifOrientation: [true, Type.BOOLEAN]\n      }\n    };\n  }; // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n\n\n  var isBrowser$1 = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n  if (isBrowser$1) {\n    document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', {\n      detail: plugin\n    }));\n  }\n\n  return plugin;\n});","/*!\n * FilePondPluginImagePreview 4.6.4\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.FilePondPluginImagePreview = factory());\n})(this, function () {\n  'use strict'; // test if file is of type image and can be viewed in canvas\n\n  var isPreviewableImage = function isPreviewableImage(file) {\n    return /^image/.test(file.type);\n  };\n\n  function _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n      _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var REACT_ELEMENT_TYPE;\n\n  function _jsx(type, props, key, children) {\n    if (!REACT_ELEMENT_TYPE) {\n      REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element') || 0xeac7;\n    }\n\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {\n        children: void 0\n      };\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = new Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  }\n\n  function _asyncIterator(iterable) {\n    var method;\n\n    if (typeof Symbol === 'function') {\n      if (Symbol.asyncIterator) {\n        method = iterable[Symbol.asyncIterator];\n        if (method != null) return method.call(iterable);\n      }\n\n      if (Symbol.iterator) {\n        method = iterable[Symbol.iterator];\n        if (method != null) return method.call(iterable);\n      }\n    }\n\n    throw new TypeError('Object is not async iterable');\n  }\n\n  function _AwaitValue(value) {\n    this.wrapped = value;\n  }\n\n  function _AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n        var wrappedAwait = value instanceof _AwaitValue;\n        Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n          if (wrappedAwait) {\n            resume('next', arg);\n            return;\n          }\n\n          settle(result.done ? 'return' : 'normal', arg);\n        }, function (err) {\n          resume('throw', err);\n        });\n      } catch (err) {\n        settle('throw', err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case 'return':\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case 'throw':\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== 'function') {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n    _AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  _AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke('next', arg);\n  };\n\n  _AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke('throw', arg);\n  };\n\n  _AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke('return', arg);\n  };\n\n  function _wrapAsyncGenerator(fn) {\n    return function () {\n      return new _AsyncGenerator(fn.apply(this, arguments));\n    };\n  }\n\n  function _awaitAsyncGenerator(value) {\n    return new _AwaitValue(value);\n  }\n\n  function _asyncGeneratorDelegate(inner, awaitWrap) {\n    var iter = {},\n        waiting = false;\n\n    function pump(key, value) {\n      waiting = true;\n      value = new Promise(function (resolve) {\n        resolve(inner[key](value));\n      });\n      return {\n        done: false,\n        value: awaitWrap(value)\n      };\n    }\n\n    if (typeof Symbol === 'function' && Symbol.iterator) {\n      iter[Symbol.iterator] = function () {\n        return this;\n      };\n    }\n\n    iter.next = function (value) {\n      if (waiting) {\n        waiting = false;\n        return value;\n      }\n\n      return pump('next', value);\n    };\n\n    if (typeof inner.throw === 'function') {\n      iter.throw = function (value) {\n        if (waiting) {\n          waiting = false;\n          throw value;\n        }\n\n        return pump('throw', value);\n      };\n    }\n\n    if (typeof inner.return === 'function') {\n      iter.return = function (value) {\n        return pump('return', value);\n      };\n    }\n\n    return iter;\n  }\n\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n\n  function _asyncToGenerator(fn) {\n    return function () {\n      var self = this,\n          args = arguments;\n      return new Promise(function (resolve, reject) {\n        var gen = fn.apply(self, args);\n\n        function _next(value) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n        }\n\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n        }\n\n        _next(undefined);\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineEnumerableProperties(obj, descs) {\n    for (var key in descs) {\n      var desc = descs[key];\n      desc.configurable = desc.enumerable = true;\n      if ('value' in desc) desc.writable = true;\n      Object.defineProperty(obj, key, desc);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n      for (var i = 0; i < objectSymbols.length; i++) {\n        var sym = objectSymbols[i];\n        var desc = descs[sym];\n        desc.configurable = desc.enumerable = true;\n        if ('value' in desc) desc.writable = true;\n        Object.defineProperty(obj, sym, desc);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defaults(obj, defaults) {\n    var keys = Object.getOwnPropertyNames(defaults);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n      if (value && value.configurable && obj[key] === undefined) {\n        Object.defineProperty(obj, key, value);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n\n      ownKeys.forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function');\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === 'function') return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf('[native code]') !== -1;\n  }\n\n  function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !_isNativeFunction(Class)) return Class;\n\n      if (typeof Class !== 'function') {\n        throw new TypeError('Super expression must either be null or a function');\n      }\n\n      if (typeof _cache !== 'undefined') {\n        if (_cache.has(Class)) return _cache.get(Class);\n\n        _cache.set(Class, Wrapper);\n      }\n\n      function Wrapper() {\n        return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n      }\n\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      return _setPrototypeOf(Wrapper, Class);\n    };\n\n    return _wrapNativeSuper(Class);\n  }\n\n  function _instanceof(left, right) {\n    if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {\n      return right[Symbol.hasInstance](left);\n    } else {\n      return left instanceof right;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n            if (desc.get || desc.set) {\n              Object.defineProperty(newObj, key, desc);\n            } else {\n              newObj[key] = obj[key];\n            }\n          }\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _newArrowCheck(innerThis, boundThis) {\n    if (innerThis !== boundThis) {\n      throw new TypeError('Cannot instantiate an arrow function');\n    }\n  }\n\n  function _objectDestructuringEmpty(obj) {\n    if (obj == null) throw new TypeError('Cannot destructure undefined');\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === 'object' || typeof call === 'function')) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function set(target, property, value, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.set) {\n      set = Reflect.set;\n    } else {\n      set = function set(target, property, value, receiver) {\n        var base = _superPropBase(target, property);\n\n        var desc;\n\n        if (base) {\n          desc = Object.getOwnPropertyDescriptor(base, property);\n\n          if (desc.set) {\n            desc.set.call(receiver, value);\n            return true;\n          } else if (!desc.writable) {\n            return false;\n          }\n        }\n\n        desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n        if (desc) {\n          if (!desc.writable) {\n            return false;\n          }\n\n          desc.value = value;\n          Object.defineProperty(receiver, property, desc);\n        } else {\n          _defineProperty(receiver, property, value);\n        }\n\n        return true;\n      };\n    }\n\n    return set(target, property, value, receiver);\n  }\n\n  function _set(target, property, value, receiver, isStrict) {\n    var s = set(target, property, value, receiver || target);\n\n    if (!s && isStrict) {\n      throw new Error('failed to set property');\n    }\n\n    return value;\n  }\n\n  function _taggedTemplateLiteral(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    return Object.freeze(Object.defineProperties(strings, {\n      raw: {\n        value: Object.freeze(raw)\n      }\n    }));\n  }\n\n  function _taggedTemplateLiteralLoose(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    strings.raw = raw;\n    return strings;\n  }\n\n  function _temporalRef(val, name) {\n    if (val === _temporalUndefined) {\n      throw new ReferenceError(name + ' is not defined - temporal dead zone');\n    } else {\n      return val;\n    }\n  }\n\n  function _readOnlyError(name) {\n    throw new Error('\"' + name + '\" is read-only');\n  }\n\n  function _classNameTDZError(name) {\n    throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n  }\n\n  var _temporalUndefined = {};\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _slicedToArrayLoose(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n  }\n\n  function _toArray(arr) {\n    return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === '[object Arguments]') return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i['return'] != null) _i['return']();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _iterableToArrayLimitLoose(arr, i) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance');\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError('Invalid attempt to destructure non-iterable instance');\n  }\n\n  function _skipFirstGeneratorNext(fn) {\n    return function () {\n      var it = fn.apply(this, arguments);\n      it.next();\n      return it;\n    };\n  }\n\n  function _toPrimitive(input, hint) {\n    if (typeof input !== 'object' || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || 'default');\n      if (typeof res !== 'object') return res;\n      throw new TypeError('@@toPrimitive must return a primitive value.');\n    }\n\n    return (hint === 'string' ? String : Number)(input);\n  }\n\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, 'string');\n\n    return typeof key === 'symbol' ? key : String(key);\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n  }\n\n  function _initializerDefineProperty(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n    });\n  }\n\n  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n    var desc = {};\n    Object.keys(descriptor).forEach(function (key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n      return decorator(target, property, desc) || desc;\n    }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object.defineProperty(target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var id = 0;\n\n  function _classPrivateFieldLooseKey(name) {\n    return '__private_' + id++ + '_' + name;\n  }\n\n  function _classPrivateFieldLooseBase(receiver, privateKey) {\n    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n      throw new TypeError('attempted to use private field on non-instance');\n    }\n\n    return receiver;\n  }\n\n  function _classPrivateFieldGet(receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n\n    return descriptor.value;\n  }\n\n  function _classPrivateFieldSet(receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to set private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError('attempted to set read only private field');\n      }\n\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n\n  function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return descriptor.value;\n  }\n\n  function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    if (!descriptor.writable) {\n      throw new TypeError('attempted to set read only private field');\n    }\n\n    descriptor.value = value;\n    return value;\n  }\n\n  function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return method;\n  }\n\n  function _classStaticPrivateMethodSet() {\n    throw new TypeError('attempted to set read only static private field');\n  }\n\n  function _decorate(decorators, factory, superClass, mixins) {\n    var api = _getDecoratorsApi();\n\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        api = mixins[i](api);\n      }\n    }\n\n    var r = factory(function initialize(O) {\n      api.initializeInstanceElements(O, decorated.elements);\n    }, superClass);\n    var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators);\n    api.initializeClassElements(r.F, decorated.elements);\n    return api.runClassFinishers(r.F, decorated.finishers);\n  }\n\n  function _getDecoratorsApi() {\n    _getDecoratorsApi = function _getDecoratorsApi() {\n      return api;\n    };\n\n    var api = {\n      elementsDefinitionOrder: [['method'], ['field']],\n      initializeInstanceElements: function initializeInstanceElements(O, elements) {\n        ['method', 'field'].forEach(function (kind) {\n          elements.forEach(function (element) {\n            if (element.kind === kind && element.placement === 'own') {\n              this.defineClassElement(O, element);\n            }\n          }, this);\n        }, this);\n      },\n      initializeClassElements: function initializeClassElements(F, elements) {\n        var proto = F.prototype;\n        ['method', 'field'].forEach(function (kind) {\n          elements.forEach(function (element) {\n            var placement = element.placement;\n\n            if (element.kind === kind && (placement === 'static' || placement === 'prototype')) {\n              var receiver = placement === 'static' ? F : proto;\n              this.defineClassElement(receiver, element);\n            }\n          }, this);\n        }, this);\n      },\n      defineClassElement: function defineClassElement(receiver, element) {\n        var descriptor = element.descriptor;\n\n        if (element.kind === 'field') {\n          var initializer = element.initializer;\n          descriptor = {\n            enumerable: descriptor.enumerable,\n            writable: descriptor.writable,\n            configurable: descriptor.configurable,\n            value: initializer === void 0 ? void 0 : initializer.call(receiver)\n          };\n        }\n\n        Object.defineProperty(receiver, element.key, descriptor);\n      },\n      decorateClass: function decorateClass(elements, decorators) {\n        var newElements = [];\n        var finishers = [];\n        var placements = {\n          static: [],\n          prototype: [],\n          own: []\n        };\n        elements.forEach(function (element) {\n          this.addElementPlacement(element, placements);\n        }, this);\n        elements.forEach(function (element) {\n          if (!_hasDecorators(element)) return newElements.push(element);\n          var elementFinishersExtras = this.decorateElement(element, placements);\n          newElements.push(elementFinishersExtras.element);\n          newElements.push.apply(newElements, elementFinishersExtras.extras);\n          finishers.push.apply(finishers, elementFinishersExtras.finishers);\n        }, this);\n\n        if (!decorators) {\n          return {\n            elements: newElements,\n            finishers: finishers\n          };\n        }\n\n        var result = this.decorateConstructor(newElements, decorators);\n        finishers.push.apply(finishers, result.finishers);\n        result.finishers = finishers;\n        return result;\n      },\n      addElementPlacement: function addElementPlacement(element, placements, silent) {\n        var keys = placements[element.placement];\n\n        if (!silent && keys.indexOf(element.key) !== -1) {\n          throw new TypeError('Duplicated element (' + element.key + ')');\n        }\n\n        keys.push(element.key);\n      },\n      decorateElement: function decorateElement(element, placements) {\n        var extras = [];\n        var finishers = [];\n\n        for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n          var keys = placements[element.placement];\n          keys.splice(keys.indexOf(element.key), 1);\n          var elementObject = this.fromElementDescriptor(element);\n          var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject);\n          element = elementFinisherExtras.element;\n          this.addElementPlacement(element, placements);\n\n          if (elementFinisherExtras.finisher) {\n            finishers.push(elementFinisherExtras.finisher);\n          }\n\n          var newExtras = elementFinisherExtras.extras;\n\n          if (newExtras) {\n            for (var j = 0; j < newExtras.length; j++) {\n              this.addElementPlacement(newExtras[j], placements);\n            }\n\n            extras.push.apply(extras, newExtras);\n          }\n        }\n\n        return {\n          element: element,\n          finishers: finishers,\n          extras: extras\n        };\n      },\n      decorateConstructor: function decorateConstructor(elements, decorators) {\n        var finishers = [];\n\n        for (var i = decorators.length - 1; i >= 0; i--) {\n          var obj = this.fromClassDescriptor(elements);\n          var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj);\n\n          if (elementsAndFinisher.finisher !== undefined) {\n            finishers.push(elementsAndFinisher.finisher);\n          }\n\n          if (elementsAndFinisher.elements !== undefined) {\n            elements = elementsAndFinisher.elements;\n\n            for (var j = 0; j < elements.length - 1; j++) {\n              for (var k = j + 1; k < elements.length; k++) {\n                if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) {\n                  throw new TypeError('Duplicated element (' + elements[j].key + ')');\n                }\n              }\n            }\n          }\n        }\n\n        return {\n          elements: elements,\n          finishers: finishers\n        };\n      },\n      fromElementDescriptor: function fromElementDescriptor(element) {\n        var obj = {\n          kind: element.kind,\n          key: element.key,\n          placement: element.placement,\n          descriptor: element.descriptor\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        if (element.kind === 'field') obj.initializer = element.initializer;\n        return obj;\n      },\n      toElementDescriptors: function toElementDescriptors(elementObjects) {\n        if (elementObjects === undefined) return;\n        return _toArray(elementObjects).map(function (elementObject) {\n          var element = this.toElementDescriptor(elementObject);\n          this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n          this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n          return element;\n        }, this);\n      },\n      toElementDescriptor: function toElementDescriptor(elementObject) {\n        var kind = String(elementObject.kind);\n\n        if (kind !== 'method' && kind !== 'field') {\n          throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"');\n        }\n\n        var key = _toPropertyKey(elementObject.key);\n\n        var placement = String(elementObject.placement);\n\n        if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {\n          throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"');\n        }\n\n        var descriptor = elementObject.descriptor;\n        this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n        var element = {\n          kind: kind,\n          key: key,\n          placement: placement,\n          descriptor: Object.assign({}, descriptor)\n        };\n\n        if (kind !== 'field') {\n          this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n        } else {\n          this.disallowProperty(descriptor, 'get', 'The property descriptor of a field descriptor');\n          this.disallowProperty(descriptor, 'set', 'The property descriptor of a field descriptor');\n          this.disallowProperty(descriptor, 'value', 'The property descriptor of a field descriptor');\n          element.initializer = elementObject.initializer;\n        }\n\n        return element;\n      },\n      toElementFinisherExtras: function toElementFinisherExtras(elementObject) {\n        var element = this.toElementDescriptor(elementObject);\n\n        var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n        var extras = this.toElementDescriptors(elementObject.extras);\n        return {\n          element: element,\n          finisher: finisher,\n          extras: extras\n        };\n      },\n      fromClassDescriptor: function fromClassDescriptor(elements) {\n        var obj = {\n          kind: 'class',\n          elements: elements.map(this.fromElementDescriptor, this)\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        return obj;\n      },\n      toClassDescriptor: function toClassDescriptor(obj) {\n        var kind = String(obj.kind);\n\n        if (kind !== 'class') {\n          throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"');\n        }\n\n        this.disallowProperty(obj, 'key', 'A class descriptor');\n        this.disallowProperty(obj, 'placement', 'A class descriptor');\n        this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n        this.disallowProperty(obj, 'initializer', 'A class descriptor');\n        this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n        var finisher = _optionalCallableProperty(obj, 'finisher');\n\n        var elements = this.toElementDescriptors(obj.elements);\n        return {\n          elements: elements,\n          finisher: finisher\n        };\n      },\n      runClassFinishers: function runClassFinishers(constructor, finishers) {\n        for (var i = 0; i < finishers.length; i++) {\n          var newConstructor = (0, finishers[i])(constructor);\n\n          if (newConstructor !== undefined) {\n            if (typeof newConstructor !== 'function') {\n              throw new TypeError('Finishers must return a constructor.');\n            }\n\n            constructor = newConstructor;\n          }\n        }\n\n        return constructor;\n      },\n      disallowProperty: function disallowProperty(obj, name, objectType) {\n        if (obj[name] !== undefined) {\n          throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n        }\n      }\n    };\n    return api;\n  }\n\n  function _createElementDescriptor(def) {\n    var key = _toPropertyKey(def.key);\n\n    var descriptor;\n\n    if (def.kind === 'method') {\n      descriptor = {\n        value: def.value,\n        writable: true,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'get') {\n      descriptor = {\n        get: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'set') {\n      descriptor = {\n        set: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'field') {\n      descriptor = {\n        configurable: true,\n        writable: true,\n        enumerable: true\n      };\n    }\n\n    var element = {\n      kind: def.kind === 'field' ? 'field' : 'method',\n      key: key,\n      placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',\n      descriptor: descriptor\n    };\n    if (def.decorators) element.decorators = def.decorators;\n    if (def.kind === 'field') element.initializer = def.value;\n    return element;\n  }\n\n  function _coalesceGetterSetter(element, other) {\n    if (element.descriptor.get !== undefined) {\n      other.descriptor.get = element.descriptor.get;\n    } else {\n      other.descriptor.set = element.descriptor.set;\n    }\n  }\n\n  function _coalesceClassElements(elements) {\n    var newElements = [];\n\n    var isSameElement = function isSameElement(other) {\n      return other.kind === 'method' && other.key === element.key && other.placement === element.placement;\n    };\n\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var other;\n\n      if (element.kind === 'method' && (other = newElements.find(isSameElement))) {\n        if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n          if (_hasDecorators(element) || _hasDecorators(other)) {\n            throw new ReferenceError('Duplicated methods (' + element.key + \") can't be decorated.\");\n          }\n\n          other.descriptor = element.descriptor;\n        } else {\n          if (_hasDecorators(element)) {\n            if (_hasDecorators(other)) {\n              throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + 'the same property (' + element.key + ').');\n            }\n\n            other.decorators = element.decorators;\n          }\n\n          _coalesceGetterSetter(element, other);\n        }\n      } else {\n        newElements.push(element);\n      }\n    }\n\n    return newElements;\n  }\n\n  function _hasDecorators(element) {\n    return element.decorators && element.decorators.length;\n  }\n\n  function _isDataDescriptor(desc) {\n    return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n  }\n\n  function _optionalCallableProperty(obj, name) {\n    var value = obj[name];\n\n    if (value !== undefined && typeof value !== 'function') {\n      throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n    }\n\n    return value;\n  }\n\n  function _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    return fn;\n  }\n\n  function _classPrivateMethodSet() {\n    throw new TypeError('attempted to reassign private method');\n  }\n\n  function _wrapRegExp(re, groups) {\n    _wrapRegExp = function _wrapRegExp(re, groups) {\n      return new BabelRegExp(re, groups);\n    };\n\n    var _RegExp = _wrapNativeSuper(RegExp);\n\n    var _super = RegExp.prototype;\n\n    var _groups = new WeakMap();\n\n    function BabelRegExp(re, groups) {\n      var _this = _RegExp.call(this, re);\n\n      _groups.set(_this, groups);\n\n      return _this;\n    }\n\n    _inherits(BabelRegExp, _RegExp);\n\n    BabelRegExp.prototype.exec = function (str) {\n      var result = _super.exec.call(this, str);\n\n      if (result) result.groups = buildGroups(result, this);\n      return result;\n    };\n\n    BabelRegExp.prototype[Symbol.replace] = function (str, substitution) {\n      if (typeof substitution === 'string') {\n        var groups = _groups.get(this);\n\n        return _super[Symbol.replace].call(this, str, substitution.replace(/\\$<([^>]+)>/g, function (_, name) {\n          return '$' + groups[name];\n        }));\n      } else if (typeof substitution === 'function') {\n        var _this = this;\n\n        return _super[Symbol.replace].call(this, str, function () {\n          var args = [];\n          args.push.apply(args, arguments);\n\n          if (typeof args[args.length - 1] !== 'object') {\n            args.push(buildGroups(args, _this));\n          }\n\n          return substitution.apply(this, args);\n        });\n      } else {\n        return _super[Symbol.replace].call(this, str, substitution);\n      }\n    };\n\n    function buildGroups(result, re) {\n      var g = _groups.get(re);\n\n      return Object.keys(g).reduce(function (groups, name) {\n        groups[name] = result[g[name]];\n        return groups;\n      }, Object.create(null));\n    }\n\n    return _wrapRegExp.apply(this, arguments);\n  }\n\n  var vectorMultiply = function vectorMultiply(v, amount) {\n    return createVector(v.x * amount, v.y * amount);\n  };\n\n  var vectorAdd = function vectorAdd(a, b) {\n    return createVector(a.x + b.x, a.y + b.y);\n  };\n\n  var vectorNormalize = function vectorNormalize(v) {\n    var l = Math.sqrt(v.x * v.x + v.y * v.y);\n\n    if (l === 0) {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n\n    return createVector(v.x / l, v.y / l);\n  };\n\n  var vectorRotate = function vectorRotate(v, radians, origin) {\n    var cos = Math.cos(radians);\n    var sin = Math.sin(radians);\n    var t = createVector(v.x - origin.x, v.y - origin.y);\n    return createVector(origin.x + cos * t.x - sin * t.y, origin.y + sin * t.x + cos * t.y);\n  };\n\n  var createVector = function createVector() {\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var getMarkupValue = function getMarkupValue(value, size) {\n    var scalar = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var axis = arguments.length > 3 ? arguments[3] : undefined;\n\n    if (typeof value === 'string') {\n      return parseFloat(value) * scalar;\n    }\n\n    if (typeof value === 'number') {\n      return value * (axis ? size[axis] : Math.min(size.width, size.height));\n    }\n\n    return;\n  };\n\n  var getMarkupStyles = function getMarkupStyles(markup, size, scale) {\n    var lineStyle = markup.borderStyle || markup.lineStyle || 'solid';\n    var fill = markup.backgroundColor || markup.fontColor || 'transparent';\n    var stroke = markup.borderColor || markup.lineColor || 'transparent';\n    var strokeWidth = getMarkupValue(markup.borderWidth || markup.lineWidth, size, scale);\n    var lineCap = markup.lineCap || 'round';\n    var lineJoin = markup.lineJoin || 'round';\n    var dashes = typeof lineStyle === 'string' ? '' : lineStyle.map(function (v) {\n      return getMarkupValue(v, size, scale);\n    }).join(',');\n    var opacity = markup.opacity || 1;\n    return {\n      'stroke-linecap': lineCap,\n      'stroke-linejoin': lineJoin,\n      'stroke-width': strokeWidth || 0,\n      'stroke-dasharray': dashes,\n      stroke: stroke,\n      fill: fill,\n      opacity: opacity\n    };\n  };\n\n  var isDefined = function isDefined(value) {\n    return value != null;\n  };\n\n  var getMarkupRect = function getMarkupRect(rect, size) {\n    var scalar = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var left = getMarkupValue(rect.x, size, scalar, 'width') || getMarkupValue(rect.left, size, scalar, 'width');\n    var top = getMarkupValue(rect.y, size, scalar, 'height') || getMarkupValue(rect.top, size, scalar, 'height');\n    var width = getMarkupValue(rect.width, size, scalar, 'width');\n    var height = getMarkupValue(rect.height, size, scalar, 'height');\n    var right = getMarkupValue(rect.right, size, scalar, 'width');\n    var bottom = getMarkupValue(rect.bottom, size, scalar, 'height');\n\n    if (!isDefined(top)) {\n      if (isDefined(height) && isDefined(bottom)) {\n        top = size.height - height - bottom;\n      } else {\n        top = bottom;\n      }\n    }\n\n    if (!isDefined(left)) {\n      if (isDefined(width) && isDefined(right)) {\n        left = size.width - width - right;\n      } else {\n        left = right;\n      }\n    }\n\n    if (!isDefined(width)) {\n      if (isDefined(left) && isDefined(right)) {\n        width = size.width - left - right;\n      } else {\n        width = 0;\n      }\n    }\n\n    if (!isDefined(height)) {\n      if (isDefined(top) && isDefined(bottom)) {\n        height = size.height - top - bottom;\n      } else {\n        height = 0;\n      }\n    }\n\n    return {\n      x: left || 0,\n      y: top || 0,\n      width: width || 0,\n      height: height || 0\n    };\n  };\n\n  var pointsToPathShape = function pointsToPathShape(points) {\n    return points.map(function (point, index) {\n      return ''.concat(index === 0 ? 'M' : 'L', ' ').concat(point.x, ' ').concat(point.y);\n    }).join(' ');\n  };\n\n  var setAttributes = function setAttributes(element, attr) {\n    return Object.keys(attr).forEach(function (key) {\n      return element.setAttribute(key, attr[key]);\n    });\n  };\n\n  var ns = 'http://www.w3.org/2000/svg';\n\n  var svg = function svg(tag, attr) {\n    var element = document.createElementNS(ns, tag);\n\n    if (attr) {\n      setAttributes(element, attr);\n    }\n\n    return element;\n  };\n\n  var updateRect = function updateRect(element) {\n    return setAttributes(element, Object.assign({}, element.rect, element.styles));\n  };\n\n  var updateEllipse = function updateEllipse(element) {\n    var cx = element.rect.x + element.rect.width * 0.5;\n    var cy = element.rect.y + element.rect.height * 0.5;\n    var rx = element.rect.width * 0.5;\n    var ry = element.rect.height * 0.5;\n    return setAttributes(element, Object.assign({\n      cx: cx,\n      cy: cy,\n      rx: rx,\n      ry: ry\n    }, element.styles));\n  };\n\n  var IMAGE_FIT_STYLE = {\n    contain: 'xMidYMid meet',\n    cover: 'xMidYMid slice'\n  };\n\n  var updateImage = function updateImage(element, markup) {\n    setAttributes(element, Object.assign({}, element.rect, element.styles, {\n      preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || 'none'\n    }));\n  };\n\n  var TEXT_ANCHOR = {\n    left: 'start',\n    center: 'middle',\n    right: 'end'\n  };\n\n  var updateText = function updateText(element, markup, size, scale) {\n    var fontSize = getMarkupValue(markup.fontSize, size, scale);\n    var fontFamily = markup.fontFamily || 'sans-serif';\n    var fontWeight = markup.fontWeight || 'normal';\n    var textAlign = TEXT_ANCHOR[markup.textAlign] || 'start';\n    setAttributes(element, Object.assign({}, element.rect, element.styles, {\n      'stroke-width': 0,\n      'font-weight': fontWeight,\n      'font-size': fontSize,\n      'font-family': fontFamily,\n      'text-anchor': textAlign\n    })); // update text\n\n    if (element.text !== markup.text) {\n      element.text = markup.text;\n      element.textContent = markup.text.length ? markup.text : ' ';\n    }\n  };\n\n  var updateLine = function updateLine(element, markup, size, scale) {\n    setAttributes(element, Object.assign({}, element.rect, element.styles, {\n      fill: 'none'\n    }));\n    var line = element.childNodes[0];\n    var begin = element.childNodes[1];\n    var end = element.childNodes[2];\n    var origin = element.rect;\n    var target = {\n      x: element.rect.x + element.rect.width,\n      y: element.rect.y + element.rect.height\n    };\n    setAttributes(line, {\n      x1: origin.x,\n      y1: origin.y,\n      x2: target.x,\n      y2: target.y\n    });\n    if (!markup.lineDecoration) return;\n    begin.style.display = 'none';\n    end.style.display = 'none';\n    var v = vectorNormalize({\n      x: target.x - origin.x,\n      y: target.y - origin.y\n    });\n    var l = getMarkupValue(0.05, size, scale);\n\n    if (markup.lineDecoration.indexOf('arrow-begin') !== -1) {\n      var arrowBeginRotationPoint = vectorMultiply(v, l);\n      var arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);\n      var arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);\n      var arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);\n      setAttributes(begin, {\n        style: 'display:block;',\n        d: 'M'.concat(arrowBeginA.x, ',').concat(arrowBeginA.y, ' L').concat(origin.x, ',').concat(origin.y, ' L').concat(arrowBeginB.x, ',').concat(arrowBeginB.y)\n      });\n    }\n\n    if (markup.lineDecoration.indexOf('arrow-end') !== -1) {\n      var arrowEndRotationPoint = vectorMultiply(v, -l);\n      var arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);\n      var arrowEndA = vectorRotate(target, 2, arrowEndCenter);\n      var arrowEndB = vectorRotate(target, -2, arrowEndCenter);\n      setAttributes(end, {\n        style: 'display:block;',\n        d: 'M'.concat(arrowEndA.x, ',').concat(arrowEndA.y, ' L').concat(target.x, ',').concat(target.y, ' L').concat(arrowEndB.x, ',').concat(arrowEndB.y)\n      });\n    }\n  };\n\n  var updatePath = function updatePath(element, markup, size, scale) {\n    setAttributes(element, Object.assign({}, element.styles, {\n      fill: 'none',\n      d: pointsToPathShape(markup.points.map(function (point) {\n        return {\n          x: getMarkupValue(point.x, size, scale, 'width'),\n          y: getMarkupValue(point.y, size, scale, 'height')\n        };\n      }))\n    }));\n  };\n\n  var createShape = function createShape(node) {\n    return function (markup) {\n      return svg(node, {\n        id: markup.id\n      });\n    };\n  };\n\n  var createImage = function createImage(markup) {\n    var shape = svg('image', {\n      id: markup.id,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round',\n      opacity: '0'\n    });\n\n    shape.onload = function () {\n      shape.setAttribute('opacity', markup.opacity || 1);\n    };\n\n    shape.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', markup.src);\n    return shape;\n  };\n\n  var createLine = function createLine(markup) {\n    var shape = svg('g', {\n      id: markup.id,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round'\n    });\n    var line = svg('line');\n    shape.appendChild(line);\n    var begin = svg('path');\n    shape.appendChild(begin);\n    var end = svg('path');\n    shape.appendChild(end);\n    return shape;\n  };\n\n  var CREATE_TYPE_ROUTES = {\n    image: createImage,\n    rect: createShape('rect'),\n    ellipse: createShape('ellipse'),\n    text: createShape('text'),\n    path: createShape('path'),\n    line: createLine\n  };\n  var UPDATE_TYPE_ROUTES = {\n    rect: updateRect,\n    ellipse: updateEllipse,\n    image: updateImage,\n    text: updateText,\n    path: updatePath,\n    line: updateLine\n  };\n\n  var createMarkupByType = function createMarkupByType(type, markup) {\n    return CREATE_TYPE_ROUTES[type](markup);\n  };\n\n  var updateMarkupByType = function updateMarkupByType(element, type, markup, size, scale) {\n    if (type !== 'path') {\n      element.rect = getMarkupRect(markup, size, scale);\n    }\n\n    element.styles = getMarkupStyles(markup, size, scale);\n    UPDATE_TYPE_ROUTES[type](element, markup, size, scale);\n  };\n\n  var MARKUP_RECT = ['x', 'y', 'left', 'top', 'right', 'bottom', 'width', 'height'];\n\n  var toOptionalFraction = function toOptionalFraction(value) {\n    return typeof value === 'string' && /%/.test(value) ? parseFloat(value) / 100 : value;\n  }; // adds default markup properties, clones markup\n\n\n  var prepareMarkup = function prepareMarkup(markup) {\n    var _markup = _slicedToArray(markup, 2),\n        type = _markup[0],\n        props = _markup[1];\n\n    var rect = props.points ? {} : MARKUP_RECT.reduce(function (prev, curr) {\n      prev[curr] = toOptionalFraction(props[curr]);\n      return prev;\n    }, {});\n    return [type, Object.assign({\n      zIndex: 0\n    }, props, rect)];\n  };\n\n  var sortMarkupByZIndex = function sortMarkupByZIndex(a, b) {\n    if (a[1].zIndex > b[1].zIndex) {\n      return 1;\n    }\n\n    if (a[1].zIndex < b[1].zIndex) {\n      return -1;\n    }\n\n    return 0;\n  };\n\n  var createMarkupView = function createMarkupView(_) {\n    return _.utils.createView({\n      name: 'image-preview-markup',\n      tag: 'svg',\n      ignoreRect: true,\n      mixins: {\n        apis: ['width', 'height', 'crop', 'markup', 'resize', 'dirty']\n      },\n      write: function write(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        if (!props.dirty) return;\n        var crop = props.crop,\n            resize = props.resize,\n            markup = props.markup;\n        var viewWidth = props.width;\n        var viewHeight = props.height;\n        var cropWidth = crop.width;\n        var cropHeight = crop.height;\n\n        if (resize) {\n          var _size = resize.size;\n          var outputWidth = _size && _size.width;\n          var outputHeight = _size && _size.height;\n          var outputFit = resize.mode;\n          var outputUpscale = resize.upscale;\n          if (outputWidth && !outputHeight) outputHeight = outputWidth;\n          if (outputHeight && !outputWidth) outputWidth = outputHeight;\n          var shouldUpscale = cropWidth < outputWidth && cropHeight < outputHeight;\n\n          if (!shouldUpscale || shouldUpscale && outputUpscale) {\n            var scalarWidth = outputWidth / cropWidth;\n            var scalarHeight = outputHeight / cropHeight;\n\n            if (outputFit === 'force') {\n              cropWidth = outputWidth;\n              cropHeight = outputHeight;\n            } else {\n              var scalar;\n\n              if (outputFit === 'cover') {\n                scalar = Math.max(scalarWidth, scalarHeight);\n              } else if (outputFit === 'contain') {\n                scalar = Math.min(scalarWidth, scalarHeight);\n              }\n\n              cropWidth = cropWidth * scalar;\n              cropHeight = cropHeight * scalar;\n            }\n          }\n        }\n\n        var size = {\n          width: viewWidth,\n          height: viewHeight\n        };\n        root.element.setAttribute('width', size.width);\n        root.element.setAttribute('height', size.height);\n        var scale = Math.min(viewWidth / cropWidth, viewHeight / cropHeight); // clear\n\n        root.element.innerHTML = ''; // get filter\n\n        var markupFilter = root.query('GET_IMAGE_PREVIEW_MARKUP_FILTER'); // draw new\n\n        markup.filter(markupFilter).map(prepareMarkup).sort(sortMarkupByZIndex).forEach(function (markup) {\n          var _markup = _slicedToArray(markup, 2),\n              type = _markup[0],\n              settings = _markup[1]; // create\n\n\n          var element = createMarkupByType(type, settings); // update\n\n          updateMarkupByType(element, type, settings, size, scale); // add\n\n          root.element.appendChild(element);\n        });\n      }\n    });\n  };\n\n  var createVector$1 = function createVector(x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var vectorDot = function vectorDot(a, b) {\n    return a.x * b.x + a.y * b.y;\n  };\n\n  var vectorSubtract = function vectorSubtract(a, b) {\n    return createVector$1(a.x - b.x, a.y - b.y);\n  };\n\n  var vectorDistanceSquared = function vectorDistanceSquared(a, b) {\n    return vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));\n  };\n\n  var vectorDistance = function vectorDistance(a, b) {\n    return Math.sqrt(vectorDistanceSquared(a, b));\n  };\n\n  var getOffsetPointOnEdge = function getOffsetPointOnEdge(length, rotation) {\n    var a = length;\n    var A = 1.5707963267948966;\n    var B = rotation;\n    var C = 1.5707963267948966 - rotation;\n    var sinA = Math.sin(A);\n    var sinB = Math.sin(B);\n    var sinC = Math.sin(C);\n    var cosC = Math.cos(C);\n    var ratio = a / sinA;\n    var b = ratio * sinB;\n    var c = ratio * sinC;\n    return createVector$1(cosC * b, cosC * c);\n  };\n\n  var getRotatedRectSize = function getRotatedRectSize(rect, rotation) {\n    var w = rect.width;\n    var h = rect.height;\n    var hor = getOffsetPointOnEdge(w, rotation);\n    var ver = getOffsetPointOnEdge(h, rotation);\n    var tl = createVector$1(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));\n    var tr = createVector$1(rect.x + rect.width + Math.abs(ver.y), rect.y + Math.abs(ver.x));\n    var bl = createVector$1(rect.x - Math.abs(ver.y), rect.y + rect.height - Math.abs(ver.x));\n    return {\n      width: vectorDistance(tl, tr),\n      height: vectorDistance(tl, bl)\n    };\n  };\n\n  var calculateCanvasSize = function calculateCanvasSize(image, canvasAspectRatio) {\n    var zoom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var imageAspectRatio = image.height / image.width; // determine actual pixels on x and y axis\n\n    var canvasWidth = 1;\n    var canvasHeight = canvasAspectRatio;\n    var imgWidth = 1;\n    var imgHeight = imageAspectRatio;\n\n    if (imgHeight > canvasHeight) {\n      imgHeight = canvasHeight;\n      imgWidth = imgHeight / imageAspectRatio;\n    }\n\n    var scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);\n    var width = image.width / (zoom * scalar * imgWidth);\n    var height = width * canvasAspectRatio;\n    return {\n      width: width,\n      height: height\n    };\n  };\n\n  var getImageRectZoomFactor = function getImageRectZoomFactor(imageRect, cropRect, rotation, center) {\n    // calculate available space round image center position\n    var cx = center.x > 0.5 ? 1 - center.x : center.x;\n    var cy = center.y > 0.5 ? 1 - center.y : center.y;\n    var imageWidth = cx * 2 * imageRect.width;\n    var imageHeight = cy * 2 * imageRect.height; // calculate rotated crop rectangle size\n\n    var rotatedCropSize = getRotatedRectSize(cropRect, rotation); // calculate scalar required to fit image\n\n    return Math.max(rotatedCropSize.width / imageWidth, rotatedCropSize.height / imageHeight);\n  };\n\n  var getCenteredCropRect = function getCenteredCropRect(container, aspectRatio) {\n    var width = container.width;\n    var height = width * aspectRatio;\n\n    if (height > container.height) {\n      height = container.height;\n      width = height / aspectRatio;\n    }\n\n    var x = (container.width - width) * 0.5;\n    var y = (container.height - height) * 0.5;\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  };\n\n  var getCurrentCropSize = function getCurrentCropSize(imageSize) {\n    var crop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var zoom = crop.zoom,\n        rotation = crop.rotation,\n        center = crop.center,\n        aspectRatio = crop.aspectRatio;\n    if (!aspectRatio) aspectRatio = imageSize.height / imageSize.width;\n    var canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);\n    var canvasCenter = {\n      x: canvasSize.width * 0.5,\n      y: canvasSize.height * 0.5\n    };\n    var stage = {\n      x: 0,\n      y: 0,\n      width: canvasSize.width,\n      height: canvasSize.height,\n      center: canvasCenter\n    };\n    var shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n    var stageZoomFactor = getImageRectZoomFactor(imageSize, getCenteredCropRect(stage, aspectRatio), rotation, shouldLimit ? center : {\n      x: 0.5,\n      y: 0.5\n    });\n    var scale = zoom * stageZoomFactor; // start drawing\n\n    return {\n      widthFloat: canvasSize.width / scale,\n      heightFloat: canvasSize.height / scale,\n      width: Math.round(canvasSize.width / scale),\n      height: Math.round(canvasSize.height / scale)\n    };\n  };\n\n  var IMAGE_SCALE_SPRING_PROPS = {\n    type: 'spring',\n    stiffness: 0.5,\n    damping: 0.45,\n    mass: 10\n  }; // does horizontal and vertical flipping\n\n  var createBitmapView = function createBitmapView(_) {\n    return _.utils.createView({\n      name: 'image-bitmap',\n      ignoreRect: true,\n      mixins: {\n        styles: ['scaleX', 'scaleY']\n      },\n      create: function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.appendChild(props.image);\n      }\n    });\n  }; // shifts and rotates image\n\n\n  var createImageCanvasWrapper = function createImageCanvasWrapper(_) {\n    return _.utils.createView({\n      name: 'image-canvas-wrapper',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['crop', 'width', 'height'],\n        styles: ['originX', 'originY', 'translateX', 'translateY', 'scaleX', 'scaleY', 'rotateZ'],\n        animations: {\n          originX: IMAGE_SCALE_SPRING_PROPS,\n          originY: IMAGE_SCALE_SPRING_PROPS,\n          scaleX: IMAGE_SCALE_SPRING_PROPS,\n          scaleY: IMAGE_SCALE_SPRING_PROPS,\n          translateX: IMAGE_SCALE_SPRING_PROPS,\n          translateY: IMAGE_SCALE_SPRING_PROPS,\n          rotateZ: IMAGE_SCALE_SPRING_PROPS\n        }\n      },\n      create: function create(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        props.width = props.image.width;\n        props.height = props.image.height;\n        root.ref.bitmap = root.appendChildView(root.createChildView(createBitmapView(_), {\n          image: props.image\n        }));\n      },\n      write: function write(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props;\n        var flip = props.crop.flip;\n        var bitmap = root.ref.bitmap;\n        bitmap.scaleX = flip.horizontal ? -1 : 1;\n        bitmap.scaleY = flip.vertical ? -1 : 1;\n      }\n    });\n  }; // clips canvas to correct aspect ratio\n\n\n  var createClipView = function createClipView(_) {\n    return _.utils.createView({\n      name: 'image-clip',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['crop', 'markup', 'resize', 'width', 'height', 'dirty', 'background'],\n        styles: ['width', 'height', 'opacity'],\n        animations: {\n          opacity: {\n            type: 'tween',\n            duration: 250\n          }\n        }\n      },\n      didWriteView: function didWriteView(_ref4) {\n        var root = _ref4.root,\n            props = _ref4.props;\n        if (!props.background) return;\n        root.element.style.backgroundColor = props.background;\n      },\n      create: function create(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props;\n        root.ref.image = root.appendChildView(root.createChildView(createImageCanvasWrapper(_), Object.assign({}, props)));\n\n        root.ref.createMarkup = function () {\n          if (root.ref.markup) return;\n          root.ref.markup = root.appendChildView(root.createChildView(createMarkupView(_), Object.assign({}, props)));\n        };\n\n        root.ref.destroyMarkup = function () {\n          if (!root.ref.markup) return;\n          root.removeChildView(root.ref.markup);\n          root.ref.markup = null;\n        }; // set up transparency grid\n\n\n        var transparencyIndicator = root.query('GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR');\n        if (transparencyIndicator === null) return; // grid pattern\n\n        if (transparencyIndicator === 'grid') {\n          root.element.dataset.transparencyIndicator = transparencyIndicator;\n        } // basic color\n        else {\n            root.element.dataset.transparencyIndicator = 'color';\n          }\n      },\n      write: function write(_ref6) {\n        var root = _ref6.root,\n            props = _ref6.props,\n            shouldOptimize = _ref6.shouldOptimize;\n        var crop = props.crop,\n            markup = props.markup,\n            resize = props.resize,\n            dirty = props.dirty,\n            width = props.width,\n            height = props.height;\n        root.ref.image.crop = crop;\n        var stage = {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height,\n          center: {\n            x: width * 0.5,\n            y: height * 0.5\n          }\n        };\n        var image = {\n          width: root.ref.image.width,\n          height: root.ref.image.height\n        };\n        var origin = {\n          x: crop.center.x * image.width,\n          y: crop.center.y * image.height\n        };\n        var translation = {\n          x: stage.center.x - image.width * crop.center.x,\n          y: stage.center.y - image.height * crop.center.y\n        };\n        var rotation = Math.PI * 2 + crop.rotation % (Math.PI * 2);\n        var cropAspectRatio = crop.aspectRatio || image.height / image.width;\n        var shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n        var stageZoomFactor = getImageRectZoomFactor(image, getCenteredCropRect(stage, cropAspectRatio), rotation, shouldLimit ? crop.center : {\n          x: 0.5,\n          y: 0.5\n        });\n        var scale = crop.zoom * stageZoomFactor; // update markup view\n\n        if (markup && markup.length) {\n          root.ref.createMarkup();\n          root.ref.markup.width = width;\n          root.ref.markup.height = height;\n          root.ref.markup.resize = resize;\n          root.ref.markup.dirty = dirty;\n          root.ref.markup.markup = markup;\n          root.ref.markup.crop = getCurrentCropSize(image, crop);\n        } else if (root.ref.markup) {\n          root.ref.destroyMarkup();\n        } // update image view\n\n\n        var imageView = root.ref.image; // don't update clip layout\n\n        if (shouldOptimize) {\n          imageView.originX = null;\n          imageView.originY = null;\n          imageView.translateX = null;\n          imageView.translateY = null;\n          imageView.rotateZ = null;\n          imageView.scaleX = null;\n          imageView.scaleY = null;\n          return;\n        }\n\n        imageView.originX = origin.x;\n        imageView.originY = origin.y;\n        imageView.translateX = translation.x;\n        imageView.translateY = translation.y;\n        imageView.rotateZ = rotation;\n        imageView.scaleX = scale;\n        imageView.scaleY = scale;\n      }\n    });\n  };\n\n  var createImageView = function createImageView(_) {\n    return _.utils.createView({\n      name: 'image-preview',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['image', 'crop', 'markup', 'resize', 'dirty', 'background'],\n        styles: ['translateY', 'scaleX', 'scaleY', 'opacity'],\n        animations: {\n          scaleX: IMAGE_SCALE_SPRING_PROPS,\n          scaleY: IMAGE_SCALE_SPRING_PROPS,\n          translateY: IMAGE_SCALE_SPRING_PROPS,\n          opacity: {\n            type: 'tween',\n            duration: 400\n          }\n        }\n      },\n      create: function create(_ref7) {\n        var root = _ref7.root,\n            props = _ref7.props;\n        root.ref.clip = root.appendChildView(root.createChildView(createClipView(_), {\n          id: props.id,\n          image: props.image,\n          crop: props.crop,\n          markup: props.markup,\n          resize: props.resize,\n          dirty: props.dirty,\n          background: props.background\n        }));\n      },\n      write: function write(_ref8) {\n        var root = _ref8.root,\n            props = _ref8.props,\n            shouldOptimize = _ref8.shouldOptimize;\n        var clip = root.ref.clip;\n        var image = props.image,\n            crop = props.crop,\n            markup = props.markup,\n            resize = props.resize,\n            dirty = props.dirty;\n        clip.crop = crop;\n        clip.markup = markup;\n        clip.resize = resize;\n        clip.dirty = dirty; // don't update clip layout\n\n        clip.opacity = shouldOptimize ? 0 : 1; // don't re-render if optimizing or hidden (width will be zero resulting in weird animations)\n\n        if (shouldOptimize || root.rect.element.hidden) return; // calculate scaled preview image size\n\n        var imageAspectRatio = image.height / image.width;\n        var aspectRatio = crop.aspectRatio || imageAspectRatio; // calculate container size\n\n        var containerWidth = root.rect.inner.width;\n        var containerHeight = root.rect.inner.height;\n        var fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        var minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n        var maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n        var panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n\n        if (panelAspectRatio && !allowMultiple) {\n          fixedPreviewHeight = containerWidth * panelAspectRatio;\n          aspectRatio = panelAspectRatio;\n        } // determine clip width and height\n\n\n        var clipHeight = fixedPreviewHeight !== null ? fixedPreviewHeight : Math.max(minPreviewHeight, Math.min(containerWidth * aspectRatio, maxPreviewHeight));\n        var clipWidth = clipHeight / aspectRatio;\n\n        if (clipWidth > containerWidth) {\n          clipWidth = containerWidth;\n          clipHeight = clipWidth * aspectRatio;\n        }\n\n        if (clipHeight > containerHeight) {\n          clipHeight = containerHeight;\n          clipWidth = containerHeight / aspectRatio;\n        }\n\n        clip.width = clipWidth;\n        clip.height = clipHeight;\n      }\n    });\n  };\n\n  var SVG_MASK = '<svg width=\"500\" height=\"200\" viewBox=\"0 0 500 200\" preserveAspectRatio=\"none\">\\n    <defs>\\n        <radialGradient id=\"gradient-__UID__\" cx=\".5\" cy=\"1.25\" r=\"1.15\">\\n            <stop offset=\\'50%\\' stop-color=\\'#000000\\'/>\\n            <stop offset=\\'56%\\' stop-color=\\'#0a0a0a\\'/>\\n            <stop offset=\\'63%\\' stop-color=\\'#262626\\'/>\\n            <stop offset=\\'69%\\' stop-color=\\'#4f4f4f\\'/>\\n            <stop offset=\\'75%\\' stop-color=\\'#808080\\'/>\\n            <stop offset=\\'81%\\' stop-color=\\'#b1b1b1\\'/>\\n            <stop offset=\\'88%\\' stop-color=\\'#dadada\\'/>\\n            <stop offset=\\'94%\\' stop-color=\\'#f6f6f6\\'/>\\n            <stop offset=\\'100%\\' stop-color=\\'#ffffff\\'/>\\n        </radialGradient>\\n        <mask id=\"mask-__UID__\">\\n            <rect x=\"0\" y=\"0\" width=\"500\" height=\"200\" fill=\"url(#gradient-__UID__)\"></rect>\\n        </mask>\\n    </defs>\\n    <rect x=\"0\" width=\"500\" height=\"200\" fill=\"currentColor\" mask=\"url(#mask-__UID__)\"></rect>\\n</svg>';\n  var checkedMyBases = false;\n  var SVGMaskUniqueId = 0;\n\n  var createImageOverlayView = function createImageOverlayView(fpAPI) {\n    return fpAPI.utils.createView({\n      name: 'image-preview-overlay',\n      tag: 'div',\n      ignoreRect: true,\n      create: function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        if (!checkedMyBases && document.querySelector('base')) {\n          SVG_MASK = SVG_MASK.replace(/url\\(\\#/g, 'url(' + window.location.href.replace(window.location.hash, '') + '#');\n          checkedMyBases = true;\n        }\n\n        SVGMaskUniqueId++;\n        root.element.classList.add('filepond--image-preview-overlay-'.concat(props.status));\n        root.element.innerHTML = SVG_MASK.replace(/__UID__/g, SVGMaskUniqueId);\n      },\n      mixins: {\n        styles: ['opacity'],\n        animations: {\n          opacity: {\n            type: 'spring',\n            mass: 25\n          }\n        }\n      }\n    });\n  };\n  /**\n   * Bitmap Worker\n   */\n\n\n  var BitmapWorker = function BitmapWorker() {\n    self.onmessage = function (e) {\n      createImageBitmap(e.data.message.file).then(function (bitmap) {\n        self.postMessage({\n          id: e.data.id,\n          message: bitmap\n        }, [bitmap]);\n      });\n    };\n  };\n  /**\n   * ColorMatrix Worker\n   */\n\n\n  var ColorMatrixWorker = function ColorMatrixWorker() {\n    self.onmessage = function (e) {\n      var imageData = e.data.message.imageData;\n      var matrix = e.data.message.colorMatrix;\n      var data = imageData.data;\n      var l = data.length;\n      var m11 = matrix[0];\n      var m12 = matrix[1];\n      var m13 = matrix[2];\n      var m14 = matrix[3];\n      var m15 = matrix[4];\n      var m21 = matrix[5];\n      var m22 = matrix[6];\n      var m23 = matrix[7];\n      var m24 = matrix[8];\n      var m25 = matrix[9];\n      var m31 = matrix[10];\n      var m32 = matrix[11];\n      var m33 = matrix[12];\n      var m34 = matrix[13];\n      var m35 = matrix[14];\n      var m41 = matrix[15];\n      var m42 = matrix[16];\n      var m43 = matrix[17];\n      var m44 = matrix[18];\n      var m45 = matrix[19];\n      var index = 0,\n          r = 0.0,\n          g = 0.0,\n          b = 0.0,\n          a = 0.0;\n\n      for (; index < l; index += 4) {\n        r = data[index] / 255;\n        g = data[index + 1] / 255;\n        b = data[index + 2] / 255;\n        a = data[index + 3] / 255;\n        data[index] = Math.max(0, Math.min((r * m11 + g * m12 + b * m13 + a * m14 + m15) * 255, 255));\n        data[index + 1] = Math.max(0, Math.min((r * m21 + g * m22 + b * m23 + a * m24 + m25) * 255, 255));\n        data[index + 2] = Math.max(0, Math.min((r * m31 + g * m32 + b * m33 + a * m34 + m35) * 255, 255));\n        data[index + 3] = Math.max(0, Math.min((r * m41 + g * m42 + b * m43 + a * m44 + m45) * 255, 255));\n      }\n\n      self.postMessage({\n        id: e.data.id,\n        message: imageData\n      }, [imageData.data.buffer]);\n    };\n  };\n\n  var getImageSize = function getImageSize(url, cb) {\n    var image = new Image();\n\n    image.onload = function () {\n      var width = image.naturalWidth;\n      var height = image.naturalHeight;\n      image = null;\n      cb(width, height);\n    };\n\n    image.src = url;\n  };\n\n  var transforms = {\n    1: function _() {\n      return [1, 0, 0, 1, 0, 0];\n    },\n    2: function _(width) {\n      return [-1, 0, 0, 1, width, 0];\n    },\n    3: function _(width, height) {\n      return [-1, 0, 0, -1, width, height];\n    },\n    4: function _(width, height) {\n      return [1, 0, 0, -1, 0, height];\n    },\n    5: function _() {\n      return [0, 1, 1, 0, 0, 0];\n    },\n    6: function _(width, height) {\n      return [0, 1, -1, 0, height, 0];\n    },\n    7: function _(width, height) {\n      return [0, -1, -1, 0, height, width];\n    },\n    8: function _(width) {\n      return [0, -1, 1, 0, 0, width];\n    }\n  };\n\n  var fixImageOrientation = function fixImageOrientation(ctx, width, height, orientation) {\n    // no orientation supplied\n    if (orientation === -1) {\n      return;\n    }\n\n    ctx.transform.apply(ctx, transforms[orientation](width, height));\n  }; // draws the preview image to canvas\n\n\n  var createPreviewImage = function createPreviewImage(data, width, height, orientation) {\n    // can't draw on half pixels\n    width = Math.round(width);\n    height = Math.round(height); // draw image\n\n    var canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    var ctx = canvas.getContext('2d'); // if is rotated incorrectly swap width and height\n\n    if (orientation >= 5 && orientation <= 8) {\n      var _ref = [height, width];\n      width = _ref[0];\n      height = _ref[1];\n    } // correct image orientation\n\n\n    fixImageOrientation(ctx, width, height, orientation); // draw the image\n\n    ctx.drawImage(data, 0, 0, width, height);\n    return canvas;\n  };\n\n  var isBitmap = function isBitmap(file) {\n    return /^image/.test(file.type) && !/svg/.test(file.type);\n  };\n\n  var MAX_WIDTH = 10;\n  var MAX_HEIGHT = 10;\n\n  var calculateAverageColor = function calculateAverageColor(image) {\n    var scalar = Math.min(MAX_WIDTH / image.width, MAX_HEIGHT / image.height);\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var width = canvas.width = Math.ceil(image.width * scalar);\n    var height = canvas.height = Math.ceil(image.height * scalar);\n    ctx.drawImage(image, 0, 0, width, height);\n    var data = null;\n\n    try {\n      data = ctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      return null;\n    }\n\n    var l = data.length;\n    var r = 0;\n    var g = 0;\n    var b = 0;\n    var i = 0;\n\n    for (; i < l; i += 4) {\n      r += data[i] * data[i];\n      g += data[i + 1] * data[i + 1];\n      b += data[i + 2] * data[i + 2];\n    }\n\n    r = averageColor(r, l);\n    g = averageColor(g, l);\n    b = averageColor(b, l);\n    return {\n      r: r,\n      g: g,\n      b: b\n    };\n  };\n\n  var averageColor = function averageColor(c, l) {\n    return Math.floor(Math.sqrt(c / (l / 4)));\n  };\n\n  var cloneCanvas = function cloneCanvas(origin, target) {\n    target = target || document.createElement('canvas');\n    target.width = origin.width;\n    target.height = origin.height;\n    var ctx = target.getContext('2d');\n    ctx.drawImage(origin, 0, 0);\n    return target;\n  };\n\n  var cloneImageData = function cloneImageData(imageData) {\n    var id;\n\n    try {\n      id = new ImageData(imageData.width, imageData.height);\n    } catch (e) {\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      id = ctx.createImageData(imageData.width, imageData.height);\n    }\n\n    id.data.set(new Uint8ClampedArray(imageData.data));\n    return id;\n  };\n\n  var loadImage = function loadImage(url) {\n    return new Promise(function (resolve, reject) {\n      var img = new Image();\n      img.crossOrigin = 'Anonymous';\n\n      img.onload = function () {\n        resolve(img);\n      };\n\n      img.onerror = function (e) {\n        reject(e);\n      };\n\n      img.src = url;\n    });\n  };\n\n  var createImageWrapperView = function createImageWrapperView(_) {\n    // create overlay view\n    var OverlayView = createImageOverlayView(_);\n    var ImageView = createImageView(_);\n    var createWorker = _.utils.createWorker;\n\n    var applyFilter = function applyFilter(root, filter, target) {\n      return new Promise(function (resolve) {\n        // will store image data for future filter updates\n        if (!root.ref.imageData) {\n          root.ref.imageData = target.getContext('2d').getImageData(0, 0, target.width, target.height);\n        } // get image data reference\n\n\n        var imageData = cloneImageData(root.ref.imageData);\n\n        if (!filter || filter.length !== 20) {\n          target.getContext('2d').putImageData(imageData, 0, 0);\n          return resolve();\n        }\n\n        var worker = createWorker(ColorMatrixWorker);\n        worker.post({\n          imageData: imageData,\n          colorMatrix: filter\n        }, function (response) {\n          // apply filtered colors\n          target.getContext('2d').putImageData(response, 0, 0); // stop worker\n\n          worker.terminate(); // done!\n\n          resolve();\n        }, [imageData.data.buffer]);\n      });\n    };\n\n    var removeImageView = function removeImageView(root, imageView) {\n      root.removeChildView(imageView);\n      imageView.image.width = 1;\n      imageView.image.height = 1;\n\n      imageView._destroy();\n    }; // remove an image\n\n\n    var shiftImage = function shiftImage(_ref) {\n      var root = _ref.root;\n      var imageView = root.ref.images.shift();\n      imageView.opacity = 0;\n      imageView.translateY = -15;\n      root.ref.imageViewBin.push(imageView);\n      return imageView;\n    }; // add new image\n\n\n    var pushImage = function pushImage(_ref2) {\n      var root = _ref2.root,\n          props = _ref2.props,\n          image = _ref2.image;\n      var id = props.id;\n      var item = root.query('GET_ITEM', {\n        id: id\n      });\n      if (!item) return;\n      var crop = item.getMetadata('crop') || {\n        center: {\n          x: 0.5,\n          y: 0.5\n        },\n        flip: {\n          horizontal: false,\n          vertical: false\n        },\n        zoom: 1,\n        rotation: 0,\n        aspectRatio: null\n      };\n      var background = root.query('GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR');\n      var markup;\n      var resize;\n      var dirty = false;\n\n      if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n        markup = item.getMetadata('markup') || [];\n        resize = item.getMetadata('resize');\n        dirty = true;\n      } // append image presenter\n\n\n      var imageView = root.appendChildView(root.createChildView(ImageView, {\n        id: id,\n        image: image,\n        crop: crop,\n        resize: resize,\n        markup: markup,\n        dirty: dirty,\n        background: background,\n        opacity: 0,\n        scaleX: 1.15,\n        scaleY: 1.15,\n        translateY: 15\n      }), root.childViews.length);\n      root.ref.images.push(imageView); // reveal the preview image\n\n      imageView.opacity = 1;\n      imageView.scaleX = 1;\n      imageView.scaleY = 1;\n      imageView.translateY = 0; // the preview is now ready to be drawn\n\n      setTimeout(function () {\n        root.dispatch('DID_IMAGE_PREVIEW_SHOW', {\n          id: id\n        });\n      }, 250);\n    };\n\n    var updateImage = function updateImage(_ref3) {\n      var root = _ref3.root,\n          props = _ref3.props;\n      var item = root.query('GET_ITEM', {\n        id: props.id\n      });\n      if (!item) return;\n      var imageView = root.ref.images[root.ref.images.length - 1];\n      imageView.crop = item.getMetadata('crop');\n      imageView.background = root.query('GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR');\n\n      if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n        imageView.dirty = true;\n        imageView.resize = item.getMetadata('resize');\n        imageView.markup = item.getMetadata('markup');\n      }\n    }; // replace image preview\n\n\n    var didUpdateItemMetadata = function didUpdateItemMetadata(_ref4) {\n      var root = _ref4.root,\n          props = _ref4.props,\n          action = _ref4.action; // only filter and crop trigger redraw\n\n      if (!/crop|filter|markup|resize/.test(action.change.key)) return; // no images to update, exit\n\n      if (!root.ref.images.length) return; // no item found, exit\n\n      var item = root.query('GET_ITEM', {\n        id: props.id\n      });\n      if (!item) return; // for now, update existing image when filtering\n\n      if (/filter/.test(action.change.key)) {\n        var imageView = root.ref.images[root.ref.images.length - 1];\n        applyFilter(root, action.change.value, imageView.image);\n        return;\n      }\n\n      if (/crop|markup|resize/.test(action.change.key)) {\n        var crop = item.getMetadata('crop');\n        var image = root.ref.images[root.ref.images.length - 1]; // if aspect ratio has changed, we need to create a new image\n\n        if (Math.abs(crop.aspectRatio - image.crop.aspectRatio) > 0.00001) {\n          var _imageView = shiftImage({\n            root: root\n          });\n\n          pushImage({\n            root: root,\n            props: props,\n            image: cloneCanvas(_imageView.image)\n          });\n        } // if not, we can update the current image\n        else {\n            updateImage({\n              root: root,\n              props: props\n            });\n          }\n      }\n    };\n\n    var canCreateImageBitmap = function canCreateImageBitmap(file) {\n      // Firefox versions before 58 will freeze when running createImageBitmap\n      // in a Web Worker so we detect those versions and return false for support\n      var userAgent = window.navigator.userAgent;\n      var isFirefox = userAgent.match(/Firefox\\/([0-9]+)\\./);\n      var firefoxVersion = isFirefox ? parseInt(isFirefox[1]) : null;\n      if (firefoxVersion <= 58) return false;\n      return 'createImageBitmap' in window && isBitmap(file);\n    };\n    /**\n     * Write handler for when preview container has been created\n     */\n\n\n    var didCreatePreviewContainer = function didCreatePreviewContainer(_ref5) {\n      var root = _ref5.root,\n          props = _ref5.props;\n      var id = props.id; // we need to get the file data to determine the eventual image size\n\n      var item = root.query('GET_ITEM', id);\n      if (!item) return; // get url to file (we'll revoke it later on when done)\n\n      var fileURL = URL.createObjectURL(item.file); // determine image size of this item\n\n      getImageSize(fileURL, function (width, height) {\n        // we can now scale the panel to the final size\n        root.dispatch('DID_IMAGE_PREVIEW_CALCULATE_SIZE', {\n          id: id,\n          width: width,\n          height: height\n        });\n      });\n    };\n\n    var drawPreview = function drawPreview(_ref6) {\n      var root = _ref6.root,\n          props = _ref6.props;\n      var id = props.id; // we need to get the file data to determine the eventual image size\n\n      var item = root.query('GET_ITEM', id);\n      if (!item) return; // get url to file (we'll revoke it later on when done)\n\n      var fileURL = URL.createObjectURL(item.file); // fallback\n\n      var loadPreviewFallback = function loadPreviewFallback() {\n        // let's scale the image in the main thread :(\n        loadImage(fileURL).then(previewImageLoaded);\n      }; // image is now ready\n\n\n      var previewImageLoaded = function previewImageLoaded(imageData) {\n        // the file url is no longer needed\n        URL.revokeObjectURL(fileURL); // draw the scaled down version here and use that as source so bitmapdata can be closed\n        // orientation info\n\n        var exif = item.getMetadata('exif') || {};\n        var orientation = exif.orientation || -1; // get width and height from action, and swap if orientation is incorrect\n\n        var width = imageData.width,\n            height = imageData.height;\n\n        if (orientation >= 5 && orientation <= 8) {\n          var _ref7 = [height, width];\n          width = _ref7[0];\n          height = _ref7[1];\n        } // scale canvas based on pixel density\n        // we multiply by .75 as that creates smaller but still clear images on screens with high res displays\n\n\n        var pixelDensityFactor = Math.max(1, window.devicePixelRatio * 0.75); // we want as much pixels to work with as possible,\n        // this multiplies the minimum image resolution,\n        // so when zooming in it doesn't get too blurry\n\n        var zoomFactor = root.query('GET_IMAGE_PREVIEW_ZOOM_FACTOR'); // imaeg scale factor\n\n        var scaleFactor = zoomFactor * pixelDensityFactor; // calculate scaled preview image size\n\n        var previewImageRatio = height / width; // calculate image preview height and width\n\n        var previewContainerWidth = root.rect.element.width;\n        var previewContainerHeight = root.rect.element.height;\n        var imageWidth = previewContainerWidth;\n        var imageHeight = imageWidth * previewImageRatio;\n\n        if (previewImageRatio > 1) {\n          imageWidth = Math.min(width, previewContainerWidth * scaleFactor);\n          imageHeight = imageWidth * previewImageRatio;\n        } else {\n          imageHeight = Math.min(height, previewContainerHeight * scaleFactor);\n          imageWidth = imageHeight / previewImageRatio;\n        } // transfer to image tag so no canvas memory wasted on iOS\n\n\n        var previewImage = createPreviewImage(imageData, imageWidth, imageHeight, orientation); // done\n\n        var done = function done() {\n          // calculate average image color, disabled for now\n          var averageColor = root.query('GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR') ? calculateAverageColor(data) : null;\n          item.setMetadata('color', averageColor, true); // data has been transferred to canvas ( if was ImageBitmap )\n\n          if ('close' in imageData) {\n            imageData.close();\n          } // show the overlay\n\n\n          root.ref.overlayShadow.opacity = 1; // create the first image\n\n          pushImage({\n            root: root,\n            props: props,\n            image: previewImage\n          });\n        }; // apply filter\n\n\n        var filter = item.getMetadata('filter');\n\n        if (filter) {\n          applyFilter(root, filter, previewImage).then(done);\n        } else {\n          done();\n        }\n      }; // if we support scaling using createImageBitmap we use a worker\n\n\n      if (canCreateImageBitmap(item.file)) {\n        // let's scale the image in a worker\n        var worker = createWorker(BitmapWorker);\n        worker.post({\n          file: item.file\n        }, function (imageBitmap) {\n          // destroy worker\n          worker.terminate(); // no bitmap returned, must be something wrong,\n          // try the oldschool way\n\n          if (!imageBitmap) {\n            loadPreviewFallback();\n            return;\n          } // yay we got our bitmap, let's continue showing the preview\n\n\n          previewImageLoaded(imageBitmap);\n        });\n      } else {\n        // create fallback preview\n        loadPreviewFallback();\n      }\n    };\n    /**\n     * Write handler for when the preview image is ready to be animated\n     */\n\n\n    var didDrawPreview = function didDrawPreview(_ref8) {\n      var root = _ref8.root; // get last added image\n\n      var image = root.ref.images[root.ref.images.length - 1];\n      image.translateY = 0;\n      image.scaleX = 1.0;\n      image.scaleY = 1.0;\n      image.opacity = 1;\n    };\n    /**\n     * Write handler for when the preview has been loaded\n     */\n\n\n    var restoreOverlay = function restoreOverlay(_ref9) {\n      var root = _ref9.root;\n      root.ref.overlayShadow.opacity = 1;\n      root.ref.overlayError.opacity = 0;\n      root.ref.overlaySuccess.opacity = 0;\n    };\n\n    var didThrowError = function didThrowError(_ref10) {\n      var root = _ref10.root;\n      root.ref.overlayShadow.opacity = 0.25;\n      root.ref.overlayError.opacity = 1;\n    };\n\n    var didCompleteProcessing = function didCompleteProcessing(_ref11) {\n      var root = _ref11.root;\n      root.ref.overlayShadow.opacity = 0.25;\n      root.ref.overlaySuccess.opacity = 1;\n    };\n    /**\n     * Constructor\n     */\n\n\n    var create = function create(_ref12) {\n      var root = _ref12.root; // image view\n\n      root.ref.images = []; // the preview image data (we need this to filter the image)\n\n      root.ref.imageData = null; // image bin\n\n      root.ref.imageViewBin = []; // image overlays\n\n      root.ref.overlayShadow = root.appendChildView(root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'idle'\n      }));\n      root.ref.overlaySuccess = root.appendChildView(root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'success'\n      }));\n      root.ref.overlayError = root.appendChildView(root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'failure'\n      }));\n    };\n\n    return _.utils.createView({\n      name: 'image-preview-wrapper',\n      create: create,\n      styles: ['height'],\n      apis: ['height'],\n      destroy: function destroy(_ref13) {\n        var root = _ref13.root; // we resize the image so memory on iOS 12 is released more quickly (it seems)\n\n        root.ref.images.forEach(function (imageView) {\n          imageView.image.width = 1;\n          imageView.image.height = 1;\n        });\n      },\n      didWriteView: function didWriteView(_ref14) {\n        var root = _ref14.root;\n        root.ref.images.forEach(function (imageView) {\n          imageView.dirty = false;\n        });\n      },\n      write: _.utils.createRoute({\n        // image preview stated\n        DID_IMAGE_PREVIEW_DRAW: didDrawPreview,\n        DID_IMAGE_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,\n        DID_FINISH_CALCULATE_PREVIEWSIZE: drawPreview,\n        DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata,\n        // file states\n        DID_THROW_ITEM_LOAD_ERROR: didThrowError,\n        DID_THROW_ITEM_PROCESSING_ERROR: didThrowError,\n        DID_THROW_ITEM_INVALID: didThrowError,\n        DID_COMPLETE_ITEM_PROCESSING: didCompleteProcessing,\n        DID_START_ITEM_PROCESSING: restoreOverlay,\n        DID_REVERT_ITEM_PROCESSING: restoreOverlay\n      }, function (_ref15) {\n        var root = _ref15.root; // views on death row\n\n        var viewsToRemove = root.ref.imageViewBin.filter(function (imageView) {\n          return imageView.opacity === 0;\n        }); // views to retain\n\n        root.ref.imageViewBin = root.ref.imageViewBin.filter(function (imageView) {\n          return imageView.opacity > 0;\n        }); // remove these views\n\n        viewsToRemove.forEach(function (imageView) {\n          return removeImageView(root, imageView);\n        });\n        viewsToRemove.length = 0;\n      })\n    });\n  };\n  /**\n   * Image Preview Plugin\n   */\n\n\n  var plugin = function plugin(fpAPI) {\n    var addFilter = fpAPI.addFilter,\n        utils = fpAPI.utils;\n    var Type = utils.Type,\n        createRoute = utils.createRoute,\n        isFile = utils.isFile; // imagePreviewView\n\n    var imagePreviewView = createImageWrapperView(fpAPI); // called for each view that is created right after the 'create' method\n\n    addFilter('CREATE_VIEW', function (viewAPI) {\n      // get reference to created view\n      var is = viewAPI.is,\n          view = viewAPI.view,\n          query = viewAPI.query; // only hook up to item view and only if is enabled for this cropper\n\n      if (!is('file') || !query('GET_ALLOW_IMAGE_PREVIEW')) return; // create the image preview plugin, but only do so if the item is an image\n\n      var didLoadItem = function didLoadItem(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        var id = props.id;\n        var item = query('GET_ITEM', id); // item could theoretically have been removed in the mean time\n\n        if (!item || !isFile(item.file) || item.archived) return; // get the file object\n\n        var file = item.file; // exit if this is not an image\n\n        if (!isPreviewableImage(file)) return; // test if is filtered\n\n        if (!query('GET_IMAGE_PREVIEW_FILTER_ITEM')(item)) return; // exit if image size is too high and no createImageBitmap support\n        // this would simply bring the browser to its knees and that is not what we want\n\n        var supportsCreateImageBitmap = ('createImageBitmap' in (window || {}));\n        var maxPreviewFileSize = query('GET_IMAGE_PREVIEW_MAX_FILE_SIZE');\n        if (!supportsCreateImageBitmap && maxPreviewFileSize && file.size > maxPreviewFileSize) return; // set preview view\n\n        root.ref.imagePreview = view.appendChildView(view.createChildView(imagePreviewView, {\n          id: id\n        })); // update height if is fixed\n\n        var fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n\n        if (fixedPreviewHeight) {\n          root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n            id: item.id,\n            height: fixedPreviewHeight\n          });\n        } // now ready\n\n\n        var queue = !supportsCreateImageBitmap && file.size > query('GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE');\n        root.dispatch('DID_IMAGE_PREVIEW_CONTAINER_CREATE', {\n          id: id\n        }, queue);\n      };\n\n      var rescaleItem = function rescaleItem(root, props) {\n        if (!root.ref.imagePreview) return;\n        var id = props.id; // get item\n\n        var item = root.query('GET_ITEM', {\n          id: id\n        });\n        if (!item) return; // if is fixed height or panel has aspect ratio, exit here, height has already been defined\n\n        var panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var itemPanelAspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO');\n        var fixedHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        if (panelAspectRatio || itemPanelAspectRatio || fixedHeight) return; // no data!\n\n        var _root$ref = root.ref,\n            imageWidth = _root$ref.imageWidth,\n            imageHeight = _root$ref.imageHeight;\n        if (!imageWidth || !imageHeight) return; // get height min and max\n\n        var minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n        var maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT'); // orientation info\n\n        var exif = item.getMetadata('exif') || {};\n        var orientation = exif.orientation || -1; // get width and height from action, and swap of orientation is incorrect\n\n        if (orientation >= 5 && orientation <= 8) {\n          var _ref2 = [imageHeight, imageWidth];\n          imageWidth = _ref2[0];\n          imageHeight = _ref2[1];\n        } // scale up width and height when we're dealing with an SVG\n\n\n        if (!isBitmap(item.file) || root.query('GET_IMAGE_PREVIEW_UPSCALE')) {\n          var scalar = 2048 / imageWidth;\n          imageWidth *= scalar;\n          imageHeight *= scalar;\n        } // image aspect ratio\n\n\n        var imageAspectRatio = imageHeight / imageWidth; // we need the item to get to the crop size\n\n        var previewAspectRatio = (item.getMetadata('crop') || {}).aspectRatio || imageAspectRatio; // preview height range\n\n        var previewHeightMax = Math.max(minPreviewHeight, Math.min(imageHeight, maxPreviewHeight));\n        var itemWidth = root.rect.element.width;\n        var previewHeight = Math.min(itemWidth * previewAspectRatio, previewHeightMax); // request update to panel height\n\n        root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n          id: item.id,\n          height: previewHeight\n        });\n      };\n\n      var didResizeView = function didResizeView(_ref3) {\n        var root = _ref3.root; // actions in next write operation\n\n        root.ref.shouldRescale = true;\n      };\n\n      var didUpdateItemMetadata = function didUpdateItemMetadata(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        if (action.change.key !== 'crop') return; // actions in next write operation\n\n        root.ref.shouldRescale = true;\n      };\n\n      var didCalculatePreviewSize = function didCalculatePreviewSize(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action; // remember dimensions\n\n        root.ref.imageWidth = action.width;\n        root.ref.imageHeight = action.height; // actions in next write operation\n\n        root.ref.shouldRescale = true;\n        root.ref.shouldDrawPreview = true; // as image load could take a while and fire when draw loop is resting we need to give it a kick\n\n        root.dispatch('KICK');\n      }; // start writing\n\n\n      view.registerWriter(createRoute({\n        DID_RESIZE_ROOT: didResizeView,\n        DID_STOP_RESIZE: didResizeView,\n        DID_LOAD_ITEM: didLoadItem,\n        DID_IMAGE_PREVIEW_CALCULATE_SIZE: didCalculatePreviewSize,\n        DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata\n      }, function (_ref6) {\n        var root = _ref6.root,\n            props = _ref6.props; // no preview view attached\n\n        if (!root.ref.imagePreview) return; // don't do anything while hidden\n\n        if (root.rect.element.hidden) return; // resize the item panel\n\n        if (root.ref.shouldRescale) {\n          rescaleItem(root, props);\n          root.ref.shouldRescale = false;\n        }\n\n        if (root.ref.shouldDrawPreview) {\n          // queue till next frame so we're sure the height has been applied this forces the draw image call inside the wrapper view to use the correct height\n          requestAnimationFrame(function () {\n            root.dispatch('DID_FINISH_CALCULATE_PREVIEWSIZE', {\n              id: props.id\n            });\n          });\n          root.ref.shouldDrawPreview = false;\n        }\n      }));\n    }); // expose plugin\n\n    return {\n      options: {\n        // Enable or disable image preview\n        allowImagePreview: [true, Type.BOOLEAN],\n        // filters file items to determine which are shown as preview\n        imagePreviewFilterItem: [function () {\n          return true;\n        }, Type.FUNCTION],\n        // Fixed preview height\n        imagePreviewHeight: [null, Type.INT],\n        // Min image height\n        imagePreviewMinHeight: [44, Type.INT],\n        // Max image height\n        imagePreviewMaxHeight: [256, Type.INT],\n        // Max size of preview file for when createImageBitmap is not supported\n        imagePreviewMaxFileSize: [null, Type.INT],\n        // The amount of extra pixels added to the image preview to allow comfortable zooming\n        imagePreviewZoomFactor: [2, Type.INT],\n        // Should we upscale small images to fit the max bounding box of the preview area\n        imagePreviewUpscale: [false, Type.BOOLEAN],\n        // Max size of preview file that we allow to try to instant preview if createImageBitmap is not supported, else image is queued for loading\n        imagePreviewMaxInstantPreviewFileSize: [1000000, Type.INT],\n        // Style of the transparancy indicator used behind images\n        imagePreviewTransparencyIndicator: [null, Type.STRING],\n        // Enables or disables reading average image color\n        imagePreviewCalculateAverageImageColor: [false, Type.BOOLEAN],\n        // Enables or disables the previewing of markup\n        imagePreviewMarkupShow: [true, Type.BOOLEAN],\n        // Allows filtering of markup to only show certain shapes\n        imagePreviewMarkupFilter: [function () {\n          return true;\n        }, Type.FUNCTION]\n      }\n    };\n  }; // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n\n\n  var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n  if (isBrowser) {\n    document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', {\n      detail: plugin\n    }));\n  }\n\n  return plugin;\n});","/*!\n * FilePondPluginImageCrop 2.0.4\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.FilePondPluginImageCrop = factory());\n})(this, function () {\n  'use strict';\n\n  var isImage = function isImage(file) {\n    return /^image/.test(file.type);\n  };\n  /**\n   * Image Auto Crop Plugin\n   */\n\n\n  var plugin = function plugin(_ref) {\n    var addFilter = _ref.addFilter,\n        utils = _ref.utils;\n    var Type = utils.Type,\n        isFile = utils.isFile,\n        getNumericAspectRatioFromString = utils.getNumericAspectRatioFromString; // tests if crop is allowed on this item\n\n    var allowCrop = function allowCrop(item, query) {\n      return !(!isImage(item.file) || !query('GET_ALLOW_IMAGE_CROP'));\n    };\n\n    var isObject = function isObject(value) {\n      return typeof value === 'object';\n    };\n\n    var isNumber = function isNumber(value) {\n      return typeof value === 'number';\n    };\n\n    var updateCrop = function updateCrop(item, obj) {\n      return item.setMetadata('crop', Object.assign({}, item.getMetadata('crop'), obj));\n    }; // extend item methods\n\n\n    addFilter('DID_CREATE_ITEM', function (item, _ref2) {\n      var query = _ref2.query;\n      item.extend('setImageCrop', function (crop) {\n        if (!allowCrop(item, query) || !isObject(center)) return;\n        item.setMetadata('crop', crop);\n        return crop;\n      });\n      item.extend('setImageCropCenter', function (center) {\n        if (!allowCrop(item, query) || !isObject(center)) return;\n        return updateCrop(item, {\n          center: center\n        });\n      });\n      item.extend('setImageCropZoom', function (zoom) {\n        if (!allowCrop(item, query) || !isNumber(zoom)) return;\n        return updateCrop(item, {\n          zoom: Math.max(1, zoom)\n        });\n      });\n      item.extend('setImageCropRotation', function (rotation) {\n        if (!allowCrop(item, query) || !isNumber(rotation)) return;\n        return updateCrop(item, {\n          rotation: rotation\n        });\n      });\n      item.extend('setImageCropFlip', function (flip) {\n        if (!allowCrop(item, query) || !isObject(flip)) return;\n        return updateCrop(item, {\n          flip: flip\n        });\n      });\n      item.extend('setImageCropAspectRatio', function (newAspectRatio) {\n        if (!allowCrop(item, query) || typeof newAspectRatio === 'undefined') return;\n        var currentCrop = item.getMetadata('crop');\n        var aspectRatio = getNumericAspectRatioFromString(newAspectRatio);\n        var newCrop = {\n          center: {\n            x: 0.5,\n            y: 0.5\n          },\n          flip: currentCrop ? Object.assign({}, currentCrop.flip) : {\n            horizontal: false,\n            vertical: false\n          },\n          rotation: 0,\n          zoom: 1,\n          aspectRatio: aspectRatio\n        };\n        item.setMetadata('crop', newCrop);\n        return newCrop;\n      });\n    }); // subscribe to file transformations\n\n    addFilter('DID_LOAD_ITEM', function (item, _ref3) {\n      var query = _ref3.query;\n      return new Promise(function (resolve, reject) {\n        // get file reference\n        var file = item.file; // if this is not an image we do not have any business cropping it and we'll continue with the unaltered dataset\n\n        if (!isFile(file) || !isImage(file) || !query('GET_ALLOW_IMAGE_CROP')) {\n          return resolve(item);\n        } // already has crop metadata set?\n\n\n        var crop = item.getMetadata('crop');\n\n        if (crop) {\n          return resolve(item);\n        } // get the required aspect ratio and exit if it's not set\n\n\n        var humanAspectRatio = query('GET_IMAGE_CROP_ASPECT_RATIO'); // set default crop rectangle\n\n        item.setMetadata('crop', {\n          center: {\n            x: 0.5,\n            y: 0.5\n          },\n          flip: {\n            horizontal: false,\n            vertical: false\n          },\n          rotation: 0,\n          zoom: 1,\n          aspectRatio: humanAspectRatio ? getNumericAspectRatioFromString(humanAspectRatio) : null\n        }); // we done!\n\n        resolve(item);\n      });\n    }); // Expose plugin options\n\n    return {\n      options: {\n        // enable or disable image cropping\n        allowImageCrop: [true, Type.BOOLEAN],\n        // the aspect ratio of the crop ('1:1', '16:9', etc)\n        imageCropAspectRatio: [null, Type.STRING]\n      }\n    };\n  }; // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n\n\n  var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\n  if (isBrowser) {\n    document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', {\n      detail: plugin\n    }));\n  }\n\n  return plugin;\n});"],"sourceRoot":""}