{"version":3,"sources":["pages/changeEmail.js"],"names":["StyledLogin","styled","div","ChangeEmail","dotenv","config","inputRef","useRef","useState","emailValue","setEmailValue","passwordValue","setPasswordValue","show","setShow","dispatch","useDispatch","location","useLocation","history","useHistory","useSelector","state","userInfo","updateLoading","user","updateError","updated","search","split","redirect","useEffect","push","status","providedClassName","toPath","onSubmit","e","preventDefault","userUpdateAction","className","vibrating","visiblity","msg","includes","type","htmlFor","value","id","onChange","target","onClick","style","display","length","src","xSign","alt","ref","closedEye","draggable","current","focus","setTimeout","selectionStart","selectionEnd","eye"],"mappings":"+OAiIMA,EAAcC,IAAOC,IAAV,o3HAuLFC,UA3SK,WAClBC,IAAOC,SACP,IAAMC,EAAWC,iBAAO,MAFA,EAGYC,mBAAS,IAHrB,mBAGjBC,EAHiB,KAGLC,EAHK,OAIkBF,mBAAS,IAJ3B,mBAIjBG,EAJiB,KAIFC,EAJE,OAKAJ,oBAAS,GALT,mBAKjBK,EALiB,KAKXC,EALW,KAOlBC,EAAWC,cACXC,EAAWC,cACXC,EAAUC,cATQ,EAiB8BC,aACpD,SAACC,GAAD,OAAWA,EAAMC,YADXC,EAjBgB,EAiBhBA,cAAeC,EAjBC,EAiBDA,KAAMC,EAjBL,EAiBKA,YAAaC,EAjBlB,EAiBkBA,QAIpCC,EAASX,EAASW,OAAOC,MAAM,KAAK,GACpCC,EAAWF,GAAkB,IAWnC,OATAG,qBAAU,WACJJ,GAASR,EAAQa,KAAKF,KACzB,CAACH,EAASR,EAASW,IAEtBC,qBAAU,WACHN,GAAwB,YAAhBA,EAAKQ,QAChBd,EAAQa,KAAK,OAEd,CAACP,EAAMN,EAASW,IAEjB,qCACE,cAAC,IAAD,CAAQI,kBAAkB,gBAAgBC,OAAO,YACjD,cAACnC,EAAD,UACE,uBAAMoC,SA1BU,SAACC,GACrBA,EAAEC,iBAEFvB,EAASwB,YAAiB,KAAM9B,EAAYE,KAuBxC,UACE,qBAAK6B,UAAU,YAAf,SACE,gDAEF,cAAC,IAAD,CACEC,UAAU,OACVC,YAAWhB,EACXiB,IACEjB,EACIA,EAAYkB,SAAS,aACnB,gBACAlB,EAAYkB,SAAS,SACrB,eACAlB,EACF,KAENmB,KAAK,UAEP,sBAAKL,UAAU,QAAf,UACE,uBAAOM,QAAQ,QAAf,+BACA,uBACEC,MAAOtC,EACPuC,GAAG,QACHH,KAAK,OACLI,SAAU,SAACZ,GAAD,OAAO3B,EAAc2B,EAAEa,OAAOH,UAE1C,qBACEI,QAAS,kBAAMzC,EAAc,KAC7B0C,MAAO,CAAEC,QAAQ,GAAD,OAAK5C,EAAW6C,OAAS,QAAU,SACnDd,UAAU,SACVe,IAAKC,IACLC,IAAI,cAGR,sBAAKjB,UAAU,WAAf,UACE,uBAAOM,QAAQ,WAAf,sBACA,uBACEY,IAAKpD,EACLyC,MAAOpC,EACPqC,GAAG,WACHH,KAAI,UAAKhC,EAAO,OAAS,YACzBoC,SAAU,SAACZ,GAAD,OAAOzB,EAAiByB,EAAEa,OAAOH,UAE7C,qBACEK,MAAO,CAAEC,QAAQ,GAAD,OAAKxC,EAAO,OAAS,UACrC2B,UAAU,WACVe,IAAKI,IACLF,IAAI,YACJG,UAAU,QACVT,QAAS,WACP7C,EAASuD,QAAQC,QACjBhD,GAASD,GACTkD,YAAW,WACTzD,EAASuD,QAAQG,eAAiB1D,EAASuD,QAAQI,aAAe,MACjE,MAGP,qBACEb,MAAO,CAAEC,QAAQ,GAAD,OAAMxC,EAAgB,QAAT,SAC7B2B,UAAU,WACVe,IAAKW,IACLT,IAAI,MACJG,UAAU,QACVT,QAAS,WACP7C,EAASuD,QAAQC,QACjBhD,GAASD,GACTkD,YAAW,WACTzD,EAASuD,QAAQG,eAAiB1D,EAASuD,QAAQI,aAAe,MACjE,SAIT,yBAAQpB,KAAK,SAAb,oBAA8BrB,GAAiB,cAAC,IAAD","file":"static/js/13.d9733e1d.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport xSign from \"../img/xSign.svg\"\r\nimport closedEye from \"../img/closedEye.svg\"\r\nimport eye from \"../img/eye.svg\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport userUpdateAction from \"../actions/update\"\r\nimport Message from \"../components/message\"\r\nimport Loader from \"../components/loader\"\r\nimport { useHistory, useLocation } from \"react-router-dom\"\r\nimport dotenv from \"dotenv\"\r\nimport Goback from \"../components/Goback\"\r\n\r\nconst ChangeEmail = () => {\r\n  dotenv.config()\r\n  const inputRef = useRef(null)\r\n  const [emailValue, setEmailValue] = useState(\"\")\r\n  const [passwordValue, setPasswordValue] = useState(\"\")\r\n  const [show, setShow] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n\r\n    dispatch(userUpdateAction(null, emailValue, passwordValue))\r\n  }\r\n\r\n  const { updateLoading, user, updateError, updated } = useSelector(\r\n    (state) => state.userInfo\r\n  )\r\n\r\n  const search = location.search.split(\"=\")[1]\r\n  const redirect = search ? search : \"/\"\r\n\r\n  useEffect(() => {\r\n    if (updated) history.push(redirect)\r\n  }, [updated, history, redirect])\r\n\r\n  useEffect(() => {\r\n    if (!user || user.status !== \"pending\") {\r\n      history.push(\"/\")\r\n    }\r\n  }, [user, history, redirect])\r\n  return (\r\n    <>\r\n      <Goback providedClassName='gobackMessage' toPath='/verify' />\r\n      <StyledLogin>\r\n        <form onSubmit={submitHandler}>\r\n          <div className='signInDiv'>\r\n            <h1>Change Email</h1>\r\n          </div>\r\n          <Message\r\n            vibrating='true'\r\n            visiblity={updateError ? true : false}\r\n            msg={\r\n              updateError\r\n                ? updateError.includes(\"timed out\")\r\n                  ? \"Network Error\"\r\n                  : updateError.includes(\"mongo\")\r\n                  ? \"Server Error\"\r\n                  : updateError\r\n                : \"Ok\"\r\n            }\r\n            type='error'\r\n          />\r\n          <div className='email'>\r\n            <label htmlFor='email'>New Email Address</label>\r\n            <input\r\n              value={emailValue}\r\n              id='email'\r\n              type='text'\r\n              onChange={(e) => setEmailValue(e.target.value)}\r\n            />\r\n            <img\r\n              onClick={() => setEmailValue(\"\")}\r\n              style={{ display: `${emailValue.length ? \"block\" : \"none\"}` }}\r\n              className='xSign2'\r\n              src={xSign}\r\n              alt='X icon'\r\n            />\r\n          </div>\r\n          <div className='password'>\r\n            <label htmlFor='password'>Password</label>\r\n            <input\r\n              ref={inputRef}\r\n              value={passwordValue}\r\n              id='password'\r\n              type={`${show ? \"text\" : \"password\"}`}\r\n              onChange={(e) => setPasswordValue(e.target.value)}\r\n            />\r\n            <img\r\n              style={{ display: `${show ? \"none\" : \"block\"}` }}\r\n              className='eye eye1'\r\n              src={closedEye}\r\n              alt='closedEye'\r\n              draggable='false'\r\n              onClick={() => {\r\n                inputRef.current.focus()\r\n                setShow(!show)\r\n                setTimeout(function () {\r\n                  inputRef.current.selectionStart = inputRef.current.selectionEnd = 10000\r\n                }, 0)\r\n              }}\r\n            />\r\n            <img\r\n              style={{ display: `${!show ? \"none\" : \"block\"}` }}\r\n              className='eye eye2'\r\n              src={eye}\r\n              alt='eye'\r\n              draggable='false'\r\n              onClick={() => {\r\n                inputRef.current.focus()\r\n                setShow(!show)\r\n                setTimeout(function () {\r\n                  inputRef.current.selectionStart = inputRef.current.selectionEnd = 10000\r\n                }, 0)\r\n              }}\r\n            />\r\n          </div>\r\n          <button type='submit'>Update {updateLoading && <Loader />}</button>\r\n        </form>\r\n      </StyledLogin>\r\n    </>\r\n  )\r\n}\r\n\r\nconst StyledLogin = styled.div`\r\n  position: relative;\r\n  .googleBtn {\r\n    border-radius: 6px !important;\r\n    div:first-child {\r\n      display: flex;\r\n      margin-right: 0px !important;\r\n      padding-right: 8px !important;\r\n    }\r\n  }\r\n  .eye2 {\r\n    transform: translate(-50%, 8%) !important;\r\n  }\r\n  .xSign2 {\r\n    position: absolute;\r\n    right: 0%;\r\n    top: 50%;\r\n    transform: translate(-50%, -12%);\r\n    width: calc(0.75rem + 1vw);\r\n    cursor: pointer;\r\n    padding: 0.2rem;\r\n  }\r\n  .eye {\r\n    position: absolute;\r\n    right: 0%;\r\n    top: 50%;\r\n    transform: translate(-50%, -6%);\r\n    width: calc(1.8rem + 0.3vw);\r\n    cursor: pointer;\r\n  }\r\n  .mobile {\r\n    display: none;\r\n  }\r\n  .desktop {\r\n    display: block;\r\n  }\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  flex: 1 1 auto;\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    width: 35%;\r\n    justify-content: center;\r\n    margin-bottom: 1rem;\r\n    margin-top: calc(1.2rem + 1vh);\r\n    h1 {\r\n      color: #1a1a1a;\r\n      font-weight: 500;\r\n      font-size: calc(1.85rem + 1vw);\r\n      margin-bottom: 0.1rem;\r\n    }\r\n    .signInDiv {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      width: 100%;\r\n    }\r\n    .email,\r\n    .password {\r\n      position: relative;\r\n      width: 100%;\r\n      input {\r\n        background: #f3f3f3;\r\n        border: none;\r\n        padding: 0.5rem 1rem;\r\n        border-radius: 6px;\r\n        width: 100%;\r\n        font-size: calc(1rem + 0.3vw);\r\n      }\r\n      label {\r\n        font-size: calc(1rem + 0.3vw);\r\n        color: #343a40;\r\n      }\r\n    }\r\n    button {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      padding: 0.35rem 1.4rem;\r\n      border: none;\r\n      background: #00b2d8;\r\n      color: white;\r\n      border-radius: 6px;\r\n      font-size: calc(1.2rem + 0.3vw);\r\n      cursor: pointer;\r\n      transition: 0.1s;\r\n      &:hover {\r\n        background: #00a8ce;\r\n      }\r\n      #loader:first-child {\r\n        width: calc(0.9rem + 0.5vw);\r\n        height: calc(0.9rem + 0.5vw);\r\n        margin-left: 0.45rem;\r\n        #greybackground path {\r\n          stroke: white;\r\n        }\r\n      }\r\n    }\r\n    #email,\r\n    #password {\r\n      margin-bottom: 1rem;\r\n      margin-top: 0.3rem;\r\n      padding-right: 2.8rem;\r\n    }\r\n  }\r\n  .desktop,\r\n  .mobile {\r\n    font-size: calc(0.9rem + 0.2vw);\r\n    margin-top: 1rem;\r\n    span a {\r\n      color: #0084a0;\r\n      cursor: pointer;\r\n      transition: 0.1s;\r\n\r\n      &:hover {\r\n        color: #0094b6;\r\n      }\r\n    }\r\n  }\r\n  .message {\r\n    margin-bottom: 0.5rem;\r\n    margin-top: 0.1rem;\r\n    padding: 0.55rem 0.8rem !important;\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    .message {\r\n      padding: 0.5rem 0.7rem !important;\r\n    }\r\n    .eye {\r\n      position: absolute;\r\n      right: 0%;\r\n      top: 50%;\r\n      cursor: pointer;\r\n      padding: 0.6rem;\r\n      transform: translate(-18%, -36%);\r\n      width: calc(2.8rem + 1vw);\r\n    }\r\n    .eye2 {\r\n      transform: translate(-18%, -35%) !important;\r\n    }\r\n    .xSign2 {\r\n      transform: translate(-50%, -24%) !important;\r\n      width: calc(2rem + 1vw);\r\n      cursor: pointer;\r\n      padding: 0.6rem;\r\n      transform: translate(-12%, -36%) !important;\r\n    }\r\n    form {\r\n      width: 90%;\r\n      h1 {\r\n        font-size: calc(2rem + 1vw);\r\n      }\r\n      input {\r\n        font-size: calc(1.1rem + 0.3vw);\r\n      }\r\n      label {\r\n        font-size: calc(1.3rem + 0.3vw);\r\n      }\r\n      button {\r\n        font-size: calc(1.2rem + 0.3vw);\r\n        padding: 0.4rem 1.3rem;\r\n        border-radius: 6px;\r\n      }\r\n      #email,\r\n      #password {\r\n        margin-bottom: 1.3rem;\r\n      }\r\n    }\r\n    .mobile {\r\n      margin-bottom: 1.2rem;\r\n      display: block;\r\n      font-size: calc(1.1rem + 0.2vw);\r\n    }\r\n    .desktop {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport default ChangeEmail\r\n"],"sourceRoot":""}