{"version":3,"sources":["components/message.js","img/gobackArrow.svg","components/Goback.js","actions/cart.js","components/Rating.js","img/notAllowed.svg","components/QtySelector.js","components/CartProduct.js","actions/checkProducts.js","pages/Cart.js"],"names":["StyledMessage","styled","div","_templateObject","Object","C_development_Web_Development_Ecommerce_Project_frontend_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__","Message","_ref","msg","_ref$type","type","_ref$visiblity","visiblity","vibrating","_ref$hidden","hidden","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","concat","style","background","padding","borderRadius","border","opacity","pointerEvents","height","display","fontWeight","color","fontSize","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","__webpack_require__","d","__webpack_exports__","ForwardRef","_path","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgGobackArrow","svgRef","props","width","viewBox","fill","ref","forwardRef","p","StyledGo","Goback","linkValue","toPath","providedClassName","_ref$text","text","isBuyNow","useLocation","search","split","lastLocation","useLastLocation","pathname","includes","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","_svgr_webpack_svgo_ref_img_gobackArrow_svg__WEBPACK_IMPORTED_MODULE_2__","cartAction","id","qty","C_development_Web_Development_Ecommerce_Project_frontend_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","C_development_Web_Development_Ecommerce_Project_frontend_node_modules_react_scripts_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","mark","_callee","dispatch","getState","state","product","cancelToken","_yield$axios$get","data","cartItems","wrap","_context","prev","next","axios","CancelToken","get","token","sent","cart","find","_id","payload","name","image","price","rating","numReviews","countInStock","brand","qtyPerUser","tinyImage","freeShipping","localStorage","setItem","JSON","stringify","stop","_x","_x2","updateQtyAction","match","updateCart","_ref2","_callee2","updatedArr","_context2","each","map","C_development_Web_Development_Ecommerce_Project_frontend_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","_x3","_x4","removeAction","_ref3","_callee3","updatedCart","_context3","filter","_x5","_x6","Rating","ratingValue","numOfReviews","stars","push","getStars","SvgNotAllowed","StyledSelect","QtySelector","setQty","cartCount","setCartCount","useDispatch","_useState","useState","_useState2","C_development_Web_Development_Ecommerce_Project_frontend_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","toggle","setToggle","document","body","addEventListener","e","stopPropagation","classList","contains","dropmenuArr","_useState3","_useState4","chosenQtyValue","setChosenQtyValue","useEffect","Number","react__WEBPACK_IMPORTED_MODULE_2___default","onClick","_svgr_webpack_svgo_ref_img_gobackArrow_svg__WEBPACK_IMPORTED_MODULE_3__","innerText","chosenQty","dropmenu","StyledProduct","taggedTemplateLiteral","CartProduct","check","setRemovedProducts","removedProducts","slicedToArray","useSelector","str","soldOut","setSoldOut","_useState5","_useState6","removed","setRemoved","react_default","react_router_dom","smoothImgLoading","tiny","contWidth","contWidthMobile","src","alt","imgId","loaderId","substr","notAllowed","removed2","checkProduct","asyncToGenerator","regenerator_default","config","IDsArray","_yield$axios$post","productsData","headers","Content_Type","Authorization","post","products","objectSpread","Math","min","t0","response","message","StyledCart","Cart_templateObject","Cart","_useSelector","loadingCheck","checkError","checkProductsSuccess","user","userInfo","pricesArr","qtyArr","redirect","sold","forEach","toConsumableArray","reduce","acc","item","loader","Fragment","toFixed","flexGrow","components_CartProduct"],"mappings":"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","file":"static/js/13.a9cef6cf.chunk.js","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Message = ({\r\n  msg,\r\n  type = 'ok',\r\n  visiblity = true,\r\n  vibrating,\r\n  hidden = false,\r\n}) => {\r\n  const msgText = () => {\r\n    if (msg === 'returnTheThing') {\r\n      return (\r\n        <p>\r\n          Email isn't Verified{' '}\r\n          <Link to='/verify?redirect=/placeOrder'>Verify Email</Link>\r\n        </p>\r\n      )\r\n    }\r\n    if (msg === 'returnGoBack') {\r\n      return (\r\n        <p>\r\n          Sorry, Your Product have just Sold Out or Removed.{' '}\r\n          {<Link to='/'>Go Back</Link>}\r\n        </p>\r\n      )\r\n    } else {\r\n      return msg\r\n    }\r\n  }\r\n  return (\r\n    <StyledMessage\r\n      className={`message ${visiblity && vibrating ? 'active' : ''}`}\r\n      style={{\r\n        background: `${type === 'ok' ? '#DCF1F7' : '#F7DDDC'}`,\r\n        padding: '0.65rem 1.1rem',\r\n        borderRadius: '5px',\r\n        border: '1px solid rgba(56, 0, 0, 0.08)',\r\n        opacity: `${visiblity ? 1 : 0}`,\r\n        pointerEvents: `${visiblity ? 'all' : 'none'}`,\r\n        height: `${visiblity ? '100%' : '20px'}`,\r\n        display: `${hidden ? 'none' : 'inline-block'}`,\r\n      }}\r\n    >\r\n      <span\r\n        style={{\r\n          fontWeight: 500,\r\n          color: `${type === 'ok' ? '#306F83' : '#712B29'}`,\r\n          fontSize: 'calc(0.8rem + 0.5vw)',\r\n          display: `${hidden ? 'none' : 'block'}`,\r\n        }}\r\n      >\r\n        {msgText()}\r\n      </span>\r\n    </StyledMessage>\r\n  )\r\n}\r\nconst StyledMessage = styled.div`\r\n  span {\r\n    a {\r\n      color: #0084a0;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n  &.active {\r\n    animation: shake 0.6s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\r\n  }\r\n  @keyframes shake {\r\n    10%,\r\n    90% {\r\n      transform: translate3d(-1px, 0, 0);\r\n    }\r\n\r\n    20%,\r\n    80% {\r\n      transform: translate3d(2px, 0, 0);\r\n    }\r\n\r\n    30%,\r\n    50%,\r\n    70% {\r\n      transform: translate3d(-4px, 0, 0);\r\n    }\r\n\r\n    40%,\r\n    60% {\r\n      transform: translate3d(4px, 0, 0);\r\n    }\r\n  }\r\n`\r\n\r\nexport default Message\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgGobackArrow = function SvgGobackArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 20,\n    viewBox: \"0 0 12 20\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.11612 9.11612C0.627961 9.60427 0.627961 10.3957 1.11612 10.8839L9.07107 18.8388C9.55922 19.327 10.3507 19.327 10.8388 18.8388C11.327 18.3507 11.327 17.5592 10.8388 17.0711L3.76777 10L10.8388 2.92893C11.327 2.44078 11.327 1.64932 10.8388 1.16117C10.3507 0.673011 9.55922 0.67301 9.07107 1.16117L1.11612 9.11612ZM3 8.75L2 8.75L2 11.25L3 11.25L3 8.75Z\",\n    fill: \"#1A1A1A\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGobackArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/gobackArrow.7e6c7659.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport { ReactComponent as Arrow } from '../img/gobackArrow.svg'\r\nimport styled from 'styled-components'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { useLastLocation } from 'react-router-last-location'\r\n\r\nconst Goback = ({ toPath, providedClassName, text = 'Go back' }) => {\r\n  const location = useLocation()\r\n  const isBuyNow = location.search.split('=')[1] === 'buyNow'\r\n\r\n  const lastLocation = useLastLocation()\r\n  let linkValue\r\n  if (lastLocation && lastLocation.pathname.includes('dashboard')) {\r\n    const search = lastLocation\r\n      ? lastLocation.search\r\n        ? lastLocation.search\r\n        : ''\r\n      : ''\r\n    linkValue = lastLocation.pathname + search\r\n  } else if (toPath) {\r\n    linkValue = toPath\r\n  } else if (\r\n    lastLocation &&\r\n    !lastLocation.pathname.includes('product-description') &&\r\n    !lastLocation.pathname.includes('products')\r\n  ) {\r\n    linkValue = `${lastLocation.pathname}${isBuyNow ? '?order=buyNow' : ''}`\r\n  } else {\r\n    linkValue = '/'\r\n  }\r\n  return (\r\n    <StyledGo className={`${providedClassName ? providedClassName : ''}`}>\r\n      <Link to={linkValue} className='flexCont'>\r\n        <Arrow />\r\n        <h1>{text}</h1>\r\n      </Link>\r\n    </StyledGo>\r\n  )\r\n}\r\nconst StyledGo = styled.div`\r\n  display: inline-block;\r\n  margin-top: 1rem;\r\n  .flexCont {\r\n    cursor: pointer;\r\n    border-radius: 7px;\r\n    padding: 0.7rem 0.9rem;\r\n    display: flex;\r\n    background: #f4f4f4;\r\n    transition: all 0.2s ease;\r\n    display: inline-flex !important;\r\n    justify-content: center;\r\n    align-items: center;\r\n    &:hover {\r\n      background: #f6f6f6;\r\n    }\r\n    svg {\r\n      width: calc(0.28rem + 0.3vw);\r\n    }\r\n    h1 {\r\n      font-size: calc(0.7rem + 0.3vw);\r\n      font-weight: 400;\r\n      padding-left: 0.4rem;\r\n      color: #1a1a1a;\r\n    }\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    margin-top: 0.7rem;\r\n    .flexCont {\r\n      padding: 0.6rem 0.8rem;\r\n      h1 {\r\n        font-size: calc(0.75rem + 0.3vw);\r\n      }\r\n      img {\r\n        width: calc(0.35rem + 0.3vw);\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default Goback\r\n","import axios from 'axios'\r\n\r\nexport const cartAction = (id, qty) => async (dispatch, getState) => {\r\n  const state = getState().product.product\r\n  let product = state\r\n  if (Object.keys(product).length === 0) {\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const { data } = await axios.get(`/api/products/${id}`, {\r\n      cancelToken: source.token,\r\n    })\r\n    product = data\r\n  }\r\n  const exist = getState().cart.cartItems.find((product) => product._id === id)\r\n  if (!exist) {\r\n    dispatch({\r\n      type: 'ADD_ITEM_TO_CART',\r\n      payload: {\r\n        name: product.name,\r\n        qty,\r\n        image: product.image,\r\n        price: product.price,\r\n        _id: product._id,\r\n        rating: product.rating,\r\n        numReviews: product.numReviews,\r\n        countInStock: product.countInStock,\r\n        brand: product.brand,\r\n        qtyPerUser: product.qtyPerUser,\r\n        tinyImage: product.tinyImage,\r\n        freeShipping: product.freeShipping,\r\n      },\r\n    })\r\n  }\r\n  const { cartItems } = getState().cart\r\n  localStorage.setItem('sickCartProducts', JSON.stringify(cartItems))\r\n}\r\nexport const updateQtyAction = (match, qty, updateCart) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const { cartItems } = getState().cart\r\n  const matchedWithTheCart = cartItems.find((each) => each._id === match._id)\r\n  if (matchedWithTheCart.qty !== qty) {\r\n    const updatedArr = cartItems.map((each) => {\r\n      if (each._id === match._id) return { ...each, qty }\r\n      return each\r\n    })\r\n\r\n    dispatch({ type: 'UPDATE_ITEM_QTY', payload: updatedArr })\r\n    localStorage.setItem('sickCartProducts', JSON.stringify(updatedArr))\r\n  }\r\n}\r\nexport const removeAction = (match) => async (dispatch, getState) => {\r\n  const { cartItems } = getState().cart\r\n  const updatedCart = cartItems.filter((each) => each._id !== match._id)\r\n  dispatch({\r\n    type: 'REMOVE_ITEM',\r\n    payload: updatedCart,\r\n  })\r\n  localStorage.setItem('sickCartProducts', JSON.stringify(updatedCart))\r\n}\r\n","import React from 'react'\r\n\r\nconst Rating = ({ ratingValue, numOfReviews }) => {\r\n  const getStars = () => {\r\n    const stars = []\r\n\r\n    for (let i = 1; i <= 5; i++) {\r\n      if (i <= ratingValue) {\r\n        stars.push(<i key={`star${i}`} className='fas fa-star'></i>)\r\n      } else if (i - 0.5 <= ratingValue) {\r\n        stars.push(<i key={`star${i}`} className='fas fa-star-half-alt'></i>)\r\n      } else {\r\n        stars.push(<i key={`star${i}`} className='far fa-star'></i>)\r\n      }\r\n    }\r\n\r\n    return stars\r\n  }\r\n\r\n  return (\r\n    <div className='starsRating'>\r\n      {getStars()}\r\n      <div className='ratingCount'>\r\n        <span>({numOfReviews})</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Rating\r\n","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgNotAllowed = function SvgNotAllowed(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.9999 0C11.1875 0 0 11.1875 0 24.9999C0 38.8124 11.1875 49.9999 24.9999 49.9999C38.8124 49.9999 50 38.8125 50 24.9999C50 11.1874 38.8125 0 24.9999 0ZM5.00004 24.9999C5.00004 13.95 13.95 4.99992 25.0001 4.99992C29.6251 4.99992 33.8626 6.58746 37.25 9.21245L9.21245 37.25C6.58746 33.8625 5.00004 29.625 5.00004 24.9999ZM24.9999 45C20.3749 45 16.1374 43.4124 12.75 40.7874L40.7874 12.75C43.4124 16.1375 45 20.375 45 24.9999C45 36.05 36.05 45 24.9999 45Z\",\n    fill: \"white\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNotAllowed, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/notAllowed.95705eef.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect } from 'react'\r\nimport { ReactComponent as Arrow } from '../img/gobackArrow.svg'\r\nimport styled from 'styled-components'\r\nimport { useDispatch } from 'react-redux'\r\nimport { updateQtyAction } from '../actions/cart'\r\n\r\nconst QtySelector = ({\r\n  product,\r\n  cartItems,\r\n  qty,\r\n  setQty,\r\n  cartCount,\r\n  setCartCount,\r\n  className,\r\n}) => {\r\n  const match = cartItems\r\n    ? cartItems.find((each) => each._id === product._id)\r\n    : false\r\n  const dispatch = useDispatch()\r\n\r\n  const [toggle, setToggle] = useState(false)\r\n  document.body.addEventListener('click', (e) => {\r\n    e.stopPropagation()\r\n    if (\r\n      !e.target.classList.contains('selectValue') &&\r\n      !e.target.classList.contains('select') &&\r\n      !e.target.classList.contains('arrowImg') &&\r\n      !e.target.classList.contains('drop-menu') &&\r\n      !e.target.classList.contains('option')\r\n    ) {\r\n      if (toggle) {\r\n        setToggle(false)\r\n      }\r\n    }\r\n  })\r\n  const [chosenQtyValue, setChosenQtyValue] = useState(qty)\r\n\r\n  let dropmenuArr\r\n  const dropmenu = () => {\r\n    dropmenuArr = []\r\n    for (let i = 1; i < product.qtyPerUser + 1; i++) {\r\n      if (product.countInStock >= i) {\r\n        dropmenuArr.push(\r\n          <p\r\n            className={`option ${chosenQtyValue === i ? 'active' : ''}`}\r\n            key={`selectOption${dropmenuArr.length}`}\r\n            onClick={(e) => {\r\n              setQty(e.target.innerText)\r\n              setChosenQtyValue(Number(e.target.innerText))\r\n\r\n              if (match) {\r\n                const chosenQty = Number(e.target.innerText)\r\n                if (chosenQty <= match.qty) {\r\n                  setCartCount(cartCount - (match.qty - chosenQty))\r\n                } else {\r\n                  setCartCount(cartCount + (chosenQty - match.qty))\r\n                }\r\n              }\r\n            }}\r\n          >\r\n            {i}\r\n          </p>\r\n        )\r\n      } else {\r\n        break\r\n      }\r\n    }\r\n    return dropmenuArr\r\n  }\r\n  useEffect(() => {\r\n    if (cartItems) {\r\n      if (match) {\r\n        dispatch(updateQtyAction(match, Number(qty)))\r\n      }\r\n    }\r\n  }, [qty, cartItems, dispatch, match])\r\n\r\n  return (\r\n    <StyledSelect className={`${className ? className : ''}`}>\r\n      <div className='select' onClick={() => setToggle(!toggle)}>\r\n        <h1 className='selectValue'>{qty}</h1>\r\n        <Arrow className='arrowImg' />\r\n        <div className={`drop-menu ${toggle ? 'active' : ''}`}>\r\n          {dropmenu()}\r\n        </div>\r\n      </div>\r\n    </StyledSelect>\r\n  )\r\n}\r\n\r\nconst StyledSelect = styled.div`\r\n  .select {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 0.25rem 1.2rem;\r\n    background: #f4f4f4;\r\n    position: relative;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    h1 {\r\n      font-weight: 400;\r\n      color: #1a1a1a;\r\n    }\r\n    .drop-menu {\r\n      z-index: 2;\r\n      padding-top: 0.2rem;\r\n      box-shadow: 0 0 6px rgba(0, 0, 0, 0.16);\r\n      border: 1px solid rgba(52, 58, 64, 0.16);\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: 0;\r\n      transform: translate(0, 100%);\r\n      display: none;\r\n      background: #ffff;\r\n      width: 120%;\r\n      max-height: 140px;\r\n      height: max-content !important;\r\n      overflow-y: auto;\r\n      border-radius: 5px;\r\n      border-top-left-radius: 3px;\r\n      border-top-right-radius: 3px;\r\n      &.active {\r\n        display: block;\r\n      }\r\n      p {\r\n        font-size: calc(0.9rem + 0.3vw);\r\n        padding: 0.3rem 0;\r\n        padding-left: 1rem;\r\n        border-radius: 4px;\r\n        margin: 0.2rem;\r\n        color: #253858;\r\n        border-bottom: unset !important;\r\n        &:last-child {\r\n          margin-bottom: 0;\r\n          margin-bottom: 0.2rem;\r\n        }\r\n        &:hover {\r\n          background: rgba(222, 235, 255, 0.5);\r\n        }\r\n        &.active {\r\n          background: #00b2d8;\r\n          color: white;\r\n        }\r\n      }\r\n    }\r\n    .arrowImg {\r\n      transform: rotate(270deg);\r\n      height: 14px;\r\n      pointer-events: none;\r\n    }\r\n    h1 {\r\n      margin-right: 0.55rem;\r\n      font-size: calc(1rem + 0.3vw) !important;\r\n    }\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    .select {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      padding: 0.32rem 1.4rem;\r\n      background: #f4f4f4;\r\n      position: relative;\r\n      border-radius: 5px;\r\n\r\n      cursor: pointer;\r\n      .drop-menu {\r\n        padding-top: 0.2rem;\r\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\r\n        border: 1px solid rgba(52, 58, 64, 0.2);\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        transform: translate(-20%, -100%);\r\n        display: none;\r\n        background: #ffff;\r\n        width: 120%;\r\n        max-height: 140px;\r\n        height: max-content !important;\r\n        overflow-y: auto;\r\n        border-radius: 5px;\r\n        border-bottom-left-radius: 0;\r\n        border-bottom-right-radius: 0;\r\n        &.active {\r\n          display: block;\r\n        }\r\n        p {\r\n          font-size: calc(0.9rem + 0.3vw);\r\n          padding: 0.35rem 0;\r\n          padding-left: 1rem;\r\n          margin-bottom: 0.2rem;\r\n          border-bottom: 0.2px solid rgba(0, 0, 0, 0.15);\r\n          &:last-child {\r\n            margin-bottom: 0;\r\n            margin-bottom: 0.2rem;\r\n            border-bottom: unset;\r\n          }\r\n          &:hover {\r\n            background: #f5f5f5;\r\n          }\r\n        }\r\n      }\r\n      img {\r\n        transform: rotate(270deg);\r\n        width: 6px !important;\r\n        height: unset !important;\r\n      }\r\n      h1 {\r\n        margin-right: 0.7rem;\r\n        font-size: calc(1rem + 0.3vw) !important;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default QtySelector\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Rating from './Rating'\r\nimport QtySelector from './QtySelector'\r\nimport { removeAction } from '../actions/cart'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport SmoothImg from './smoothImgLoading'\r\nimport { ReactComponent as NotAllowed } from '../img/notAllowed.svg'\r\n\r\nconst CartProduct = ({\r\n  product,\r\n  cartCount,\r\n  setCartCount,\r\n  check,\r\n  setRemovedProducts,\r\n  removedProducts,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const [qty, setQty] = useState(product.qty)\r\n  const { cartItems } = useSelector((state) => state.cart)\r\n\r\n  function truncate(str) {\r\n    return str.length > 30 ? str.substr(0, 30 - 1) + '...' : str\r\n  }\r\n  const [soldOut, setSoldOut] = useState(null)\r\n  const [removed, setRemoved] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (check) {\r\n      setRemoved(check.removed.find((e) => e === product._id))\r\n      setSoldOut(check.soldOut.find((e) => e === product._id))\r\n    }\r\n  }, [check])\r\n\r\n  return (\r\n    <StyledProduct>\r\n      {removed && <div className='wrapper'> </div>}\r\n      {soldOut && <div className='wrapper2'> </div>}\r\n      <Link\r\n        className='imgLink'\r\n        to={`/products/${product._id}?redirect=cart`}\r\n        onClick={() => dispatch({ type: 'PRODUCT_DETAIL_REQUEST' })}\r\n      >\r\n        <SmoothImg\r\n          key={product._id}\r\n          tiny={`/api/products/${product._id}/tiny`}\r\n          contWidth={'10vw'}\r\n          contWidthMobile={'20vw'}\r\n          width={'100%'}\r\n          height={'120%'}\r\n          className='productImg'\r\n          src={product.image}\r\n          alt='product'\r\n          imgId='productImg'\r\n          loaderId='productImgLoader'\r\n        />\r\n      </Link>\r\n      <div className='desc'>\r\n        <p>Brand: {product.brand}</p>\r\n        <Link\r\n          className='descLink'\r\n          to={`/products/${product._id}?redirect=cart`}\r\n          onClick={() => dispatch({ type: 'PRODUCT_DETAIL_REQUEST' })}\r\n        >\r\n          {truncate(product.name)}\r\n        </Link>\r\n        <Rating\r\n          ratingValue={product.rating}\r\n          numOfReviews={product.numReviews}\r\n        />\r\n      </div>\r\n      <div className='priceQtyAndRemove'>\r\n        {!removed && !soldOut ? (\r\n          <h1>\r\n            {product.price}\r\n            <span className='currency'>EGP</span>\r\n          </h1>\r\n        ) : (\r\n          <div className='removed'>\r\n            <NotAllowed />\r\n            <h1>{removed ? 'Not Available' : soldOut ? 'Sold Out' : ''}</h1>\r\n          </div>\r\n        )}\r\n\r\n        <div className='removeAndQty'>\r\n          <QtySelector\r\n            className={removed || soldOut ? 'qtySelect' : null}\r\n            qty={qty}\r\n            setQty={setQty}\r\n            product={product}\r\n            cartItems={cartItems}\r\n            cartCount={cartCount}\r\n            setCartCount={setCartCount}\r\n          />\r\n          <div\r\n            className='removeBtn'\r\n            onClick={() => {\r\n              dispatch(removeAction(product))\r\n              if (!product.removed && !product.removed2)\r\n                setCartCount(Number(cartCount) - Number(qty))\r\n              else\r\n                setRemovedProducts(\r\n                  removedProducts.filter((e) => e !== product._id)\r\n                )\r\n            }}\r\n          >\r\n            <i className='fas fa-trash'></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </StyledProduct>\r\n  )\r\n}\r\nconst StyledProduct = styled.div`\r\n  .wrapper,\r\n  .wrapper2 {\r\n    z-index: 2;\r\n    background: rgba(255, 255, 255, 0.3);\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .wrapper2 {\r\n    pointer-events: none;\r\n  }\r\n\r\n  position: relative;\r\n\r\n  .qtySelect {\r\n    pointer-events: none;\r\n    opacity: 0;\r\n  }\r\n  .imgLink {\r\n    height: calc(10vw * 0.796875) !important;\r\n  }\r\n  .removed {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    h1 {\r\n      pointer-events: none;\r\n      font-size: calc(0.7rem + 0.3vw) !important;\r\n      color: white !important;\r\n      font-weight: 500 !important;\r\n      user-select: none;\r\n    }\r\n\r\n    padding: 0.55rem 0.75rem;\r\n    background: #ff6969;\r\n    border-radius: 5px;\r\n    svg {\r\n      width: 18px;\r\n      height: 18px;\r\n      margin-right: 0.25rem;\r\n      pointer-events: none;\r\n      user-select: none;\r\n    }\r\n  }\r\n  .ratingCount {\r\n    display: none !important;\r\n  }\r\n  .imgLink,\r\n  .descLink {\r\n    width: max-content;\r\n    display: flex;\r\n  }\r\n  padding: 0.5rem 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 12.5%);\r\n  &:last-child {\r\n    border-bottom: unset;\r\n  }\r\n  #productImg,\r\n  #productImgLoader {\r\n    border-radius: 5px;\r\n    max-width: 10vw;\r\n    object-fit: cover;\r\n  }\r\n  display: flex;\r\n  #productImg,\r\n  #productImgLoader,\r\n  .desc {\r\n    flex-grow: 1;\r\n  }\r\n  .desc {\r\n    padding: 0 calc(1rem + 0.3vw);\r\n    p {\r\n      color: #00667b;\r\n      font-size: calc(0.7rem + 0.4vw);\r\n    }\r\n    a {\r\n      display: block;\r\n      font-size: calc(1rem + 0.4vw);\r\n      font-weight: 400;\r\n      color: #1a1a1a;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n    .starsRating {\r\n      margin-top: 0.35rem;\r\n    }\r\n  }\r\n  .priceQtyAndRemove {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    align-items: flex-end;\r\n    h1 {\r\n      font-size: calc(1rem + 0.4vw);\r\n      font-weight: 400;\r\n      color: #1a1a1a;\r\n      .currency {\r\n        margin-left: 0.15rem;\r\n        font-size: calc(0.7rem + 0.4vw);\r\n      }\r\n    }\r\n    .removeAndQty .select .drop-menu {\r\n      top: 0;\r\n      bottom: unset;\r\n      max-height: 130px;\r\n      transform: translate(-17%, -100%);\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 1050px) {\r\n    .imgLink {\r\n      height: calc(20vw * 0.796875) !important;\r\n    }\r\n    .removed {\r\n      padding: 0.25rem 0.3rem;\r\n      border-radius: 4px;\r\n      h1 {\r\n        font-size: calc(0.4rem + 0.3vw) !important;\r\n      }\r\n      svg {\r\n        width: 8px;\r\n        height: 8px;\r\n        margin-right: 0.15rem;\r\n      }\r\n    }\r\n    .starsRating {\r\n      margin: 0 !important;\r\n      margin-top: 0.2rem !important;\r\n      .far,\r\n      .fas {\r\n        font-size: calc(0.7rem + 0.3vw) !important;\r\n      }\r\n    }\r\n    #productImg,\r\n    #productImgLoader {\r\n      max-width: 13vw;\r\n    }\r\n    .priceQtyAndRemove {\r\n      justify-content: space-between !important;\r\n      h1 {\r\n        font-size: calc(0.8rem + 0.4vw);\r\n      }\r\n      .currency {\r\n        margin-left: 0.15rem;\r\n        font-size: calc(0.6rem + 0.4vw) !important;\r\n      }\r\n      .removeAndQty {\r\n        .removeBtn {\r\n          padding: 0 0.62rem;\r\n          i {\r\n            font-size: calc(0.8rem + 0.3vw);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .desc {\r\n      padding-right: 0;\r\n      padding-left: calc(0.7rem + 0.2vw);\r\n      p {\r\n        font-size: calc(0.6rem + 0.4vw);\r\n      }\r\n      a {\r\n        font-size: calc(0.55rem + 1vw);\r\n      }\r\n      .starsRating {\r\n        display: none;\r\n      }\r\n    }\r\n    .select {\r\n      padding: 0.3rem 0.9rem;\r\n      h1 {\r\n        font-size: calc(0.8rem + 0.3vw) !important;\r\n        margin-right: 0.45rem;\r\n      }\r\n      svg {\r\n        width: 5px !important;\r\n      }\r\n      .drop-menu {\r\n        max-height: 110px !important;\r\n        width: 150% !important;\r\n        transform: translate(-34%, -100%) !important;\r\n        p {\r\n          font-size: calc(0.8rem + 0.3vw) !important;\r\n        }\r\n      }\r\n    }\r\n    .removeBtn {\r\n      margin-left: 0.7rem;\r\n    }\r\n  }\r\n  .priceQtyAndRemove {\r\n    z-index: 2 !important;\r\n  }\r\n  @media screen and (max-width: 550px) {\r\n    #productImg,\r\n    #productImgLoader {\r\n      max-width: 20vw;\r\n    }\r\n  }\r\n  @media screen and (max-width: 339px) {\r\n    .desc {\r\n      p {\r\n        font-size: calc(0.45rem + 0.4vw);\r\n      }\r\n      a {\r\n        font-size: calc(0.45rem + 1vw);\r\n      }\r\n    }\r\n    .priceQtyAndRemove {\r\n      h1 {\r\n        font-size: calc(0.65rem + 0.4vw);\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default CartProduct\r\n","import axios from 'axios'\r\n\r\nconst checkProduct = (token) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: 'CHECK_PRODUCTS_REQUEST' })\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      headers: {\r\n        Content_Type: 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n    const { cartItems } = getState().cart\r\n\r\n    const IDsArray = cartItems.map((e) => e._id)\r\n\r\n    const { data } = await axios.post(\r\n      '/api/products/check',\r\n      { products: IDsArray },\r\n      config\r\n    )\r\n\r\n    const productsData = data.products.map((product) => {\r\n      return {\r\n        ...product,\r\n        qty: product._id\r\n          ? Math.min(\r\n              Math.min(\r\n                cartItems.find((e) => e._id === product._id).qty,\r\n                product.qtyPerUser\r\n              ),\r\n              product.countInStock\r\n            )\r\n          : 0,\r\n        removed: data.soldOut.find((e) => e === product._id) ? true : null,\r\n      }\r\n    })\r\n    dispatch({\r\n      type: 'CHECK_PRODUCTS_SUCCESS',\r\n      payload: {\r\n        check: { soldOut: data.soldOut, removed: data.removed },\r\n        products: productsData,\r\n      },\r\n    })\r\n    localStorage.setItem('sickCartProducts', JSON.stringify(productsData))\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'CHECK_PRODUCTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default checkProduct\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Message from '../components/message'\r\nimport Goback from '../components/Goback'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport CartProduct from '../components/CartProduct'\r\nimport { Link } from 'react-router-dom'\r\nimport checkProduct from '../actions/checkProducts'\r\nimport { useEffect } from 'react'\r\nimport Loader from '../components/loader'\r\n\r\nconst Cart = ({ cartCount, setCartCount }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { cartItems, check, loadingCheck, checkError, checkProductsSuccess } =\r\n    useSelector((state) => state.cart)\r\n  const { user } = useSelector((state) => state.userInfo)\r\n  const pricesArr = cartItems.map((each) => {\r\n    if (!each.removed) return each.price * each.qty\r\n    else return 0\r\n  })\r\n  const qtyArr = cartItems.map((each) => {\r\n    if (!each.removed) return each.qty\r\n    else return 0\r\n  })\r\n\r\n  const redirect = user.name ? '/shipping' : '/login?redirect=shipping'\r\n\r\n  const [removedProducts, setRemovedProducts] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (check) {\r\n      const removed = []\r\n      const sold = []\r\n      cartItems.forEach((product) => {\r\n        removed.push(...check.removed.filter((e) => e === product._id))\r\n        sold.push(...check.soldOut.filter((e) => e === product._id))\r\n      })\r\n      setRemovedProducts([...removed, ...sold])\r\n    }\r\n  }, [check])\r\n\r\n  useEffect(() => {\r\n    if (cartItems.length) {\r\n      dispatch(checkProduct(user.token))\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (checkProductsSuccess)\r\n      setCartCount(qtyArr.length ? qtyArr.reduce((acc, item) => acc + item) : 0)\r\n  }, [checkProductsSuccess])\r\n  return (\r\n    <StyledCart>\r\n      <Goback />\r\n      <h1 className='title'>Shopping Cart</h1>\r\n      {loadingCheck && cartItems.length > 0 && <Loader />}\r\n      {cartItems.length === 0 && loadingCheck && (\r\n        <Message msg='Your cart is empty' />\r\n      )}\r\n      {checkError && <Message msg={checkError} type='error' />}\r\n      {!loadingCheck && !checkError ? (\r\n        <>\r\n          {cartItems.length > 0 && (\r\n            <>\r\n              <div className='subtotal-mobile'>\r\n                <h3>\r\n                  Subtotal ({qtyArr.reduce((acc, item) => acc + item)} items):\r\n                </h3>\r\n                <h4>\r\n                  {pricesArr.reduce((acc, price) => acc + price).toFixed(2)}\r\n                  <span className='currency'>EGP</span>\r\n                </h4>\r\n              </div>\r\n              {pricesArr.reduce((acc, price) => acc + price) >= 2000 && (\r\n                <li className='mobileLi'>\r\n                  Free Shipping is applied for carts above 2000EGP.\r\n                </li>\r\n              )}\r\n              {pricesArr.reduce((acc, price) => acc + price) < 2000 && (\r\n                <li className='removeMargin'></li>\r\n              )}\r\n              <Link\r\n                id={`${\r\n                  cartItems.length - removedProducts.length <= 0\r\n                    ? 'disabled'\r\n                    : ''\r\n                }`}\r\n                to={redirect}\r\n                className='proceed-btn-mobile'\r\n              >\r\n                <h3>Proceed to checkout</h3>\r\n              </Link>\r\n              <div className='line'></div>\r\n            </>\r\n          )}\r\n          <div className='cart-container'>\r\n            <div\r\n              className='products'\r\n              style={{ flexGrow: `${cartItems.length ? 3 : 'unset'}` }}\r\n            >\r\n              {cartItems.length ? (\r\n                cartItems.map((product) => (\r\n                  <CartProduct\r\n                    check={check}\r\n                    product={product}\r\n                    key={product._id}\r\n                    cartCount={cartCount}\r\n                    setCartCount={setCartCount}\r\n                    setRemovedProducts={setRemovedProducts}\r\n                    removedProducts={removedProducts}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <Message msg='Your cart is empty' />\r\n              )}\r\n            </div>\r\n            {cartItems.length !== 0 && (\r\n              <div className='table-total'>\r\n                <div className='container'>\r\n                  <div className='subtotal'>\r\n                    <h3>\r\n                      Subtotal ({qtyArr.reduce((acc, item) => acc + item)}{' '}\r\n                      items)\r\n                    </h3>\r\n                    <h4>\r\n                      {pricesArr.reduce((acc, price) => acc + price).toFixed(2)}\r\n                      <span className='currency'>EGP</span>\r\n                    </h4>\r\n                    {pricesArr.reduce((acc, price) => acc + price) > 2000 && (\r\n                      <li>\r\n                        Free Shipping is applied\r\n                        <br />\r\n                        for carts above 2000EGP.\r\n                      </li>\r\n                    )}\r\n                  </div>\r\n\r\n                  <Link\r\n                    id={`${\r\n                      cartItems.length - removedProducts.length <= 0\r\n                        ? 'disabled'\r\n                        : ''\r\n                    }`}\r\n                    to={redirect}\r\n                    className='proceed-btn'\r\n                  >\r\n                    <h3>Proceed to checkout</h3>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </StyledCart>\r\n  )\r\n}\r\nconst StyledCart = styled.div`\r\n  .mobileLi {\r\n    display: none;\r\n  }\r\n  #disabled {\r\n    pointer-events: none !important;\r\n    filter: grayscale(1);\r\n  }\r\n  .providedLoader {\r\n    align-self: center;\r\n    padding-top: 0.5rem;\r\n  }\r\n  .message {\r\n    margin-top: 0.5rem;\r\n  }\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  .goBackBtn {\r\n    margin-top: 0.7rem;\r\n  }\r\n  .title {\r\n    margin-top: 0.7rem;\r\n    color: #1a1a1a;\r\n    font-weight: 500;\r\n    font-size: calc(1.5rem + 1vw);\r\n    margin-bottom: 0.5rem;\r\n    width: 60%;\r\n  }\r\n  .products {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  .subtotal-mobile {\r\n    width: 100%;\r\n    display: none;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n\r\n    h3,\r\n    h4 {\r\n      color: #1a1a1a;\r\n    }\r\n    h3 {\r\n      font-weight: 400;\r\n      font-size: calc(1.05rem + 0.3vw);\r\n    }\r\n    h4 {\r\n      font-weight: 400;\r\n      margin: 0.5rem 0;\r\n      font-size: calc(1.05rem + 0.3vw);\r\n      .currency {\r\n        margin-left: 0.15rem;\r\n        display: inline-block;\r\n        font-size: calc(0.8rem + 0.4vw);\r\n      }\r\n    }\r\n  }\r\n  li {\r\n    opacity: 0.8;\r\n    margin-bottom: 0.5rem;\r\n    padding-bottom: calc(0.25rem + 0.3vw);\r\n    border: 1px solid #00000012;\r\n    border-radius: 5px;\r\n    padding: 0.6rem 0.8rem;\r\n    list-style: none;\r\n    font-size: calc(0.7rem + 0.3vw);\r\n  }\r\n\r\n  .removeMargin {\r\n    list-style-type: none;\r\n    margin-bottom: 0;\r\n    border: unset;\r\n    padding: 0 !important;\r\n    height: calc(0.25rem + 0.3vw);\r\n  }\r\n  .table-total {\r\n    flex-grow: 1;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    .container {\r\n      border: 1px solid rgba(0, 0, 0, 12.5%);\r\n      align-self: flex-start;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      align-items: flex-start;\r\n      border-radius: 7px;\r\n      border: 1px solid rgba(0, 0, 0, 12.5%);\r\n      .subtotal {\r\n        border-bottom: 1px solid rgba(0, 0, 0, 12.5%);\r\n        padding: calc(1rem + 0.3vw);\r\n        padding-bottom: calc(0.25rem + 0.3vw);\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        li {\r\n          opacity: 0.8;\r\n          list-style: none;\r\n        }\r\n\r\n        h3,\r\n        h4 {\r\n          color: #1a1a1a;\r\n        }\r\n        h3 {\r\n          font-weight: 400;\r\n          font-size: calc(1.5rem + 0.3vw);\r\n        }\r\n        h4 {\r\n          font-weight: 200;\r\n          margin: 0.5rem 0;\r\n          font-size: calc(1.3rem + 0.3vw);\r\n          .currency {\r\n            display: inline-block;\r\n            font-size: calc(0.8rem + 0.4vw);\r\n            margin-left: 0.2rem;\r\n          }\r\n        }\r\n      }\r\n      .proceed-btn {\r\n        align-self: stretch;\r\n        cursor: pointer;\r\n        margin: calc(0.85rem + 0.3vw) calc(1rem + 0.3vw);\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        padding: calc(0.6rem + 0.1vw) calc(1.2rem + 0.1vw);\r\n        background: #00b2d8;\r\n        color: white;\r\n        border-radius: 7px;\r\n        h3 {\r\n          font-size: calc(1rem + 0.3vw);\r\n          font-weight: 400;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .proceed-btn-mobile {\r\n    margin-bottom: calc(0.25rem + 0.3vw);\r\n    cursor: pointer;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-self: stretch;\r\n    padding: calc(0.7rem + 0.1vw) calc(1.2rem + 0.1vw);\r\n    background: #00b2d8;\r\n    color: white;\r\n    border-radius: 7px;\r\n\r\n    display: none;\r\n    h3 {\r\n      font-size: calc(1.2rem + 0.3vw);\r\n      font-weight: 400;\r\n    }\r\n  }\r\n  .cart-container {\r\n    display: flex;\r\n    width: 100%;\r\n    gap: calc(1rem + 0.3vw);\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  .removeAndQty {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: stretch;\r\n  }\r\n  .removeBtn {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 0 0.75rem;\r\n    background: rgba(26, 26, 26, 0.5);\r\n    color: white;\r\n    border-radius: 5px;\r\n    margin-left: 1rem;\r\n    cursor: pointer;\r\n    &:hover {\r\n      background: rgba(26, 26, 26, 0.6);\r\n    }\r\n  }\r\n  @media screen and (max-width: 1105px) {\r\n    .table-total {\r\n      .container {\r\n        .subtotal {\r\n          h3 {\r\n            font-size: calc(1.2rem + 0.3vw);\r\n          }\r\n          h4 {\r\n            font-size: calc(1.1rem + 0.3vw);\r\n          }\r\n        }\r\n        .proceed-btn {\r\n          h3 {\r\n            font-size: calc(0.8rem + 0.3vw);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    .mobileLi {\r\n      display: block;\r\n    }\r\n    .line {\r\n      border-radius: 1px;\r\n      width: 45%;\r\n      height: 2px;\r\n      background: rgba(0, 176, 216, 62%);\r\n      margin: 0.8rem auto;\r\n    }\r\n    .subtotal-mobile,\r\n    .proceed-btn-mobile {\r\n      display: flex;\r\n    }\r\n    .table-total {\r\n      display: none;\r\n    }\r\n    .title {\r\n      font-size: calc(1.5rem + 1vw) !important;\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nexport default Cart\r\n"],"sourceRoot":""}