{"version":3,"sources":["components/message.js","img/danger.svg","actions/verifyEmail.js","actions/newCode.js","pages/Verify.js"],"names":["StyledMessage","styled","div","_templateObject","Object","C_development_Web_Development_Ecommerce_Project_frontend_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__","Message","_ref","msg","_ref$type","type","_ref$visiblity","visiblity","vibrating","_ref$hidden","hidden","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","concat","style","background","padding","borderRadius","border","opacity","pointerEvents","height","display","fontWeight","color","fontSize","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","_path","_rect","_path2","_circle","verifyEmailAction","enteredCode","asyncToGenerator","regenerator_default","mark","_callee","dispatch","getState","userInfo","cancelToken","source","config","wrap","_context","prev","next","token","user","status","axios","CancelToken","headers","Content_Type","Authorization","post","code","Number","localStorage","setItem","JSON","stringify","t0","payload","response","data","message","stop","_x","_x2","apply","this","arguments","_extends","assign","target","i","length","key","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","danger_SvgDanger","svgRef","props","react_default","width","viewBox","fill","ref","d","x","y","cx","cy","r","ForwardRef","forwardRef","__webpack_require__","p","newCodeAction","get","StyledVerify","taggedTemplateLiteral","Verify","_useState","useState","_useState2","slicedToArray","setCode","_useState3","_useState4","codeError","setCodeError","_useSelector","useSelector","state","verificationError","verifyLoading","newCodeError","newCodeLoading","_useState5","_useState6","timer","setTimer","_useState7","_useState8","startTimer","setStartTimer","_useState9","getItem","parse","timerSeconds","location","useLocation","useEffect","setTimeout","prevTime","removeItem","useDispatch","history","useHistory","redirect","search","split","order","name","error","push","includes","onSubmit","e","preventDefault","email","react_router_dom","maxLength","value","onChange","id","placeholder","loader","onClick"],"mappings":"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","file":"static/js/24.77376c58.chunk.js","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Message = ({\r\n  msg,\r\n  type = 'ok',\r\n  visiblity = true,\r\n  vibrating,\r\n  hidden = false,\r\n}) => {\r\n  const msgText = () => {\r\n    if (msg === 'returnTheThing') {\r\n      return (\r\n        <p>\r\n          Email isn't Verified{' '}\r\n          <Link to='/verify?redirect=/placeOrder'>Verify Email</Link>\r\n        </p>\r\n      )\r\n    }\r\n    if (msg === 'returnGoBack') {\r\n      return (\r\n        <p>\r\n          Sorry, Your Product have just Sold Out or Removed.{' '}\r\n          {<Link to='/'>Go Back</Link>}\r\n        </p>\r\n      )\r\n    } else {\r\n      return msg\r\n    }\r\n  }\r\n  return (\r\n    <StyledMessage\r\n      className={`message ${visiblity && vibrating ? 'active' : ''}`}\r\n      style={{\r\n        background: `${type === 'ok' ? '#DCF1F7' : '#F7DDDC'}`,\r\n        padding: '0.65rem 1.1rem',\r\n        borderRadius: '5px',\r\n        border: '1px solid rgba(56, 0, 0, 0.08)',\r\n        opacity: `${visiblity ? 1 : 0}`,\r\n        pointerEvents: `${visiblity ? 'all' : 'none'}`,\r\n        height: `${visiblity ? '100%' : '20px'}`,\r\n        display: `${hidden ? 'none' : 'inline-block'}`,\r\n      }}\r\n    >\r\n      <span\r\n        style={{\r\n          fontWeight: 500,\r\n          color: `${type === 'ok' ? '#306F83' : '#712B29'}`,\r\n          fontSize: 'calc(0.8rem + 0.5vw)',\r\n          display: `${hidden ? 'none' : 'block'}`,\r\n        }}\r\n      >\r\n        {msgText()}\r\n      </span>\r\n    </StyledMessage>\r\n  )\r\n}\r\nconst StyledMessage = styled.div`\r\n  span {\r\n    a {\r\n      color: #0084a0;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n  &.active {\r\n    animation: shake 0.6s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\r\n  }\r\n  @keyframes shake {\r\n    10%,\r\n    90% {\r\n      transform: translate3d(-1px, 0, 0);\r\n    }\r\n\r\n    20%,\r\n    80% {\r\n      transform: translate3d(2px, 0, 0);\r\n    }\r\n\r\n    30%,\r\n    50%,\r\n    70% {\r\n      transform: translate3d(-4px, 0, 0);\r\n    }\r\n\r\n    40%,\r\n    60% {\r\n      transform: translate3d(4px, 0, 0);\r\n    }\r\n  }\r\n`\r\n\r\nexport default Message\r\n","var _path, _rect, _path2, _circle;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgDanger = function SvgDanger(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 21,\n    viewBox: \"0 0 22 21\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 3.82892L18.9118 18.3333H3.08825L11 3.82892ZM11 0L0 20.1667H22L11 0ZM10.0833 8.25H11.9167V13.75H10.0833V8.25ZM11 17.1875C10.3684 17.1875 9.85417 16.6742 9.85417 16.0417C9.85417 15.4092 10.3684 14.8958 11 14.8958C11.6316 14.8958 12.1458 15.4092 12.1458 16.0417C12.1458 16.6742 11.6316 17.1875 11 17.1875Z\",\n    fill: \"#715100\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 9.16602,\n    y: 7.33334,\n    width: 3.66667,\n    height: 10.0833,\n    fill: \"#FFFBD6\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5 14.2308H11.5769C11.8531 14.2308 12.0769 14.007 12.0769 13.7308V8.50004C12.0769 8.2239 11.8531 8.00004 11.5769 8.00004H10.5C10.2239 8.00004 10 8.2239 10 8.50004V13.7308C10 14.0069 10.2239 14.2308 10.5 14.2308Z\",\n    fill: \"#715100\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 11.0385,\n    cy: 15.9616,\n    r: 1.03846,\n    fill: \"#715100\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDanger, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/danger.32e20194.svg\";\nexport { ForwardRef as ReactComponent };","import axios from 'axios'\r\n\r\nexport const verifyEmailAction = (enteredCode) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch({ type: 'VERIFY_REQUEST' })\r\n  const userInfo = getState().userInfo\r\n  if (userInfo.token && userInfo.user.status === 'pending') {\r\n    try {\r\n      const cancelToken = axios.CancelToken\r\n      const source = cancelToken.source()\r\n\r\n      const config = {\r\n        headers: {\r\n          Content_Type: 'application/json',\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n        cancelToken: source.token,\r\n      }\r\n      await axios.post(\r\n        '/api/users/getSecurityCode',\r\n        { code: Number(enteredCode) },\r\n        config\r\n      )\r\n      dispatch({ type: 'VERIFY_SUCCESS' })\r\n\r\n      localStorage.setItem(\r\n        'sickUserInfo',\r\n        JSON.stringify({\r\n          user: getState().userInfo.user,\r\n          token: getState().userInfo.token,\r\n        })\r\n      )\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'VERIFY_FAIL',\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      })\r\n    }\r\n  }\r\n}\r\nexport default verifyEmailAction\r\n","import axios from 'axios'\r\n\r\nexport const newCodeAction = () => async (dispatch, getState) => {\r\n  dispatch({ type: 'NEW_VERIFY_CODE_REQUEST' })\r\n  const userInfo = getState().userInfo\r\n  if (userInfo.token && userInfo.user.status === 'pending') {\r\n    try {\r\n      const cancelToken = axios.CancelToken\r\n      const source = cancelToken.source()\r\n      const config = {\r\n        headers: {\r\n          Content_Type: 'application/json',\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n        cancelToken: source.token,\r\n      }\r\n      await axios.get('/api/users/getNewSecurityCode', config)\r\n      dispatch({ type: 'NEW_VERIFY_CODE_SUCCESS' })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'NEW_VERIFY_CODE_FAIL',\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      })\r\n    }\r\n  }\r\n}\r\nexport default newCodeAction\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport verifyEmailAction from '../actions/verifyEmail'\r\nimport { ReactComponent as Danger } from '../img/danger.svg'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/message'\r\nimport Loader from '../components/loader'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\nimport newCodeAction from '../actions/newCode'\r\n\r\nconst Verify = () => {\r\n  const [code, setCode] = useState('')\r\n  const [codeError, setCodeError] = useState('')\r\n  const {\r\n    verificationError,\r\n    verifyLoading,\r\n    user,\r\n    newCodeError,\r\n    newCodeLoading,\r\n  } = useSelector((state) => state.userInfo)\r\n  const [timer, setTimer] = useState(0)\r\n  const [startTimer, setStartTimer] = useState(false)\r\n  const status = user ? user.status : ''\r\n\r\n  const [timerSeconds] = useState(\r\n    localStorage.getItem('sickTimerSeconds')\r\n      ? JSON.parse(localStorage.getItem('sickTimerSeconds'))\r\n      : 60\r\n  )\r\n\r\n  const location = useLocation()\r\n  useEffect(() => {\r\n    if (startTimer) {\r\n      setTimeout(() => {\r\n        if (timer > 0) {\r\n          setTimer((prevTime) => prevTime - 1)\r\n          localStorage.setItem('sickTimerSeconds', timer)\r\n        } else {\r\n          setStartTimer(false)\r\n          localStorage.removeItem('sickTimerSeconds')\r\n        }\r\n      }, 1000)\r\n    }\r\n  }, [startTimer, timer])\r\n\r\n  const dispatch = useDispatch()\r\n  const verifyHandler = (e) => {\r\n    setCodeError('')\r\n    e.preventDefault()\r\n\r\n    if (code.length === 4) {\r\n      dispatch(verifyEmailAction(Number(code)))\r\n    } else {\r\n      setCodeError('Code must be 4 Digits')\r\n    }\r\n  }\r\n  const sendAgainHandler = () => {\r\n    if (!startTimer) {\r\n      setTimer(60)\r\n      setStartTimer(true)\r\n    }\r\n\r\n    dispatch(newCodeAction())\r\n  }\r\n\r\n  const history = useHistory()\r\n\r\n  const redirect = location.search.split('=')[1]\r\n    ? location.search.split('=')[1]\r\n    : '/'\r\n\r\n  const order = useSelector((state) => state.order)\r\n  useEffect(() => {\r\n    if (user.name) {\r\n      if (status === 'Verified') {\r\n        order.error = null\r\n        history.push(redirect)\r\n      }\r\n    } else {\r\n      history.push('/login')\r\n    }\r\n  }, [status, user, history])\r\n\r\n  useEffect(() => {\r\n    dispatch(newCodeAction())\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (!startTimer && newCodeError) {\r\n      setTimer(timerSeconds)\r\n      setStartTimer(true)\r\n    }\r\n  }, [newCodeError, startTimer, timerSeconds])\r\n\r\n  useEffect(() => {\r\n    if (newCodeLoading === false && !newCodeError) {\r\n      setTimer(60)\r\n      if (!startTimer) setStartTimer(true)\r\n    } else if (newCodeError === 'Email already Verified') {\r\n      history.push(redirect)\r\n    }\r\n  }, [newCodeLoading, history, newCodeError, startTimer])\r\n\r\n  return (\r\n    <StyledVerify>\r\n      <div className='modelBox'>\r\n        <div className='danger'>\r\n          <div className='danger-text'>\r\n            <Danger />\r\n            <p>\r\n              If you didn’t find the email in your Inbox, maybe It’s in your\r\n              Spam box\r\n            </p>\r\n          </div>\r\n          <div className='theRest'>\r\n            <h1>Enter Code to Verify</h1>\r\n            <Message\r\n              hidden='true'\r\n              vibrating='true'\r\n              visiblity={\r\n                codeError.length\r\n                  ? codeError\r\n                  : verificationError && !verifyLoading\r\n                  ? true\r\n                  : false\r\n              }\r\n              msg={\r\n                codeError.length\r\n                  ? codeError\r\n                  : verificationError\r\n                  ? verificationError.includes('timed out')\r\n                    ? 'Network Error'\r\n                    : verificationError.includes('mongo')\r\n                    ? 'Server Error'\r\n                    : verificationError\r\n                  : 'Ok'\r\n              }\r\n              type='error'\r\n            />\r\n            <form className='verifyBtns' onSubmit={verifyHandler}>\r\n              {user && newCodeLoading === false && !newCodeError && (\r\n                <p className='emailSentMessage'>\r\n                  Email Sent to '{user.email}'{' '}\r\n                  <Link to='/changeEmail?redirect=verify'>Change Email</Link>\r\n                </p>\r\n              )}\r\n              <input\r\n                maxLength={4}\r\n                value={code}\r\n                onChange={(e) => setCode(e.target.value)}\r\n                type='number'\r\n                id='code'\r\n                placeholder='4 Digits Code'\r\n              />\r\n              <div className='btns'>\r\n                <button type='submit'>\r\n                  Verify {verifyLoading && <Loader />}\r\n                </button>\r\n                <p\r\n                  className={`${startTimer ? 'waitActive' : ''}`}\r\n                  onClick={sendAgainHandler}\r\n                >\r\n                  {timer ? `Send again(${timer})` : 'Send again'}\r\n                </p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </StyledVerify>\r\n  )\r\n}\r\nconst StyledVerify = styled.div`\r\n  .emailSentMessage {\r\n    margin: 0.35rem 0;\r\n    margin-bottom: 0.5rem;\r\n    color: #3e3e3e;\r\n    font-size: calc(1rem + 0.2vw);\r\n    a {\r\n      color: #0084a0;\r\n    }\r\n  }\r\n  .waitActive {\r\n    filter: grayscale(0.2);\r\n    opacity: 0.7;\r\n    pointer-events: none;\r\n  }\r\n  .message {\r\n    align-self: flex-start;\r\n    margin-bottom: 0rem;\r\n  }\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1 1 auto;\r\n  .modelBox {\r\n    border-radius: 12px;\r\n    box-shadow: -2px 4px 10px rgba(0, 0, 0, 0.2);\r\n    overflow: hidden;\r\n    display: flex;\r\n    justify-content: stretch;\r\n    align-items: stretch;\r\n  }\r\n\r\n  .danger {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    width: 100%;\r\n\r\n    .danger-text {\r\n      padding: 0.9rem calc(1.5rem + 1vw);\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background: #fffbd6;\r\n      width: 100%;\r\n      img {\r\n        width: calc(1.4rem + 0.05vw);\r\n        height: calc(1.4rem + 0.05vw);\r\n        margin-right: 0.4rem;\r\n      }\r\n      p {\r\n        font-size: calc(0.85rem + 0.3vw);\r\n        color: #715100;\r\n      }\r\n    }\r\n  }\r\n  .theRest {\r\n    padding: calc(1.5rem + 1vw);\r\n    flex: 1 1 auto;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    h1 {\r\n      color: #1a1a1a;\r\n      font-weight: 500;\r\n      font-size: calc(2.2rem + 0.3vw);\r\n      align-self: flex-start;\r\n      margin-bottom: calc(1rem + 0.3vh);\r\n    }\r\n    input {\r\n      background: #f3f3f3;\r\n      border: none;\r\n      border-radius: 5px;\r\n      font-size: calc(1.1rem + 0.3vw);\r\n      padding: 0.5rem 1rem;\r\n      margin-bottom: calc(1.4rem + 0.3vh);\r\n    }\r\n    .verifyBtns {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n      button {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 0.4rem 1.3rem;\r\n        border: none;\r\n        color: white;\r\n        background: #00b2d8;\r\n        border-radius: 6px;\r\n        font-size: calc(1.2rem + 0.3vw);\r\n        cursor: pointer;\r\n        transition: 0.1s ease;\r\n        &:hover {\r\n          background: #00bde7;\r\n        }\r\n        #loader:first-child {\r\n          width: calc(0.9rem + 0.5vw);\r\n          height: calc(0.9rem + 0.5vw);\r\n          margin-left: 0.45rem;\r\n          #greybackground path {\r\n            stroke: white;\r\n          }\r\n        }\r\n      }\r\n      .btns {\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: flex-end;\r\n        p {\r\n          font-size: calc(0.9rem + 0.2vw);\r\n          cursor: pointer;\r\n          color: #0084a0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    .emailSentMessage {\r\n      font-size: calc(0.8rem + 0.2vw);\r\n    }\r\n    .message {\r\n      span {\r\n        font-size: calc(0.7rem + 0.1vw) !important;\r\n      }\r\n    }\r\n    margin-top: calc(2rem + 0.3vh);\r\n    align-items: flex-start;\r\n    .danger {\r\n      .danger-text {\r\n        padding: 0.9rem calc(1rem + 1vw);\r\n        img {\r\n          width: calc(1.3rem + 0.05vw);\r\n          height: calc(1.3rem + 0.05vw);\r\n          margin-right: 0.55rem;\r\n        }\r\n        p {\r\n          font-size: calc(0.7rem + 0.3vw);\r\n        }\r\n      }\r\n    }\r\n    .theRest {\r\n      padding: calc(0.85rem + 1vw) calc(1rem + 1vw) calc(1rem + 1vw)\r\n        calc(1rem + 1vw);\r\n      h1 {\r\n        font-size: calc(1.6rem + 0.3vw);\r\n        margin-bottom: calc(0.7rem + 0.3vh);\r\n      }\r\n      input {\r\n        margin-bottom: calc(1rem + 0.3vh);\r\n      }\r\n    }\r\n    .modelBox {\r\n      width: 90%;\r\n      border: unset;\r\n      border-radius: 12px;\r\n      box-shadow: -2px 4px 10px rgba(0, 0, 0, 0.2);\r\n    }\r\n    .verifyBtns {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nexport default Verify\r\n"],"sourceRoot":""}