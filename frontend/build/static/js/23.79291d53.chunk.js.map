{"version":3,"sources":["img/danger.svg","actions/verifyEmail.js","actions/newCode.js","pages/Verify.js"],"names":["_path","_rect","_path2","_circle","verifyEmailAction","enteredCode","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","getState","userInfo","cancelToken","source","config","wrap","_context","prev","next","type","token","user","status","axios","CancelToken","headers","Content_Type","Authorization","concat","post","code","Number","localStorage","setItem","JSON","stringify","t0","payload","response","data","message","stop","_x","_x2","apply","this","arguments","_excluded","_extends","assign","target","i","length","key","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","danger_SvgDanger","svgRef","props","react_default","createElement","width","height","viewBox","fill","ref","d","x","y","cx","cy","r","ForwardRef","forwardRef","__webpack_require__","p","newCodeAction","get","StyledVerify","styled","div","_templateObject","taggedTemplateLiteral","Verify","_useState","useState","_useState2","slicedToArray","setCode","_useState3","_useState4","codeError","setCodeError","_useSelector","useSelector","state","verificationError","verifyLoading","newCodeError","newCodeLoading","_useState5","_useState6","timer","setTimer","_useState7","_useState8","startTimer","setStartTimer","_useState9","getItem","parse","timerSeconds","location","useLocation","useEffect","setTimeout","prevTime","removeItem","useDispatch","history","useHistory","redirect","search","split","order","name","error","push","className","hidden","vibrating","visiblity","msg","includes","onSubmit","e","preventDefault","email","react_router_dom","to","maxLength","value","onChange","id","placeholder","loader","onClick"],"mappings":"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","file":"static/js/23.79291d53.chunk.js","sourcesContent":["var _path, _rect, _path2, _circle;\n\nvar _excluded = [\"svgRef\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgDanger = function SvgDanger(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 22,\n    height: 21,\n    viewBox: \"0 0 22 21\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11 3.82892L18.9118 18.3333H3.08825L11 3.82892ZM11 0L0 20.1667H22L11 0ZM10.0833 8.25H11.9167V13.75H10.0833V8.25ZM11 17.1875C10.3684 17.1875 9.85417 16.6742 9.85417 16.0417C9.85417 15.4092 10.3684 14.8958 11 14.8958C11.6316 14.8958 12.1458 15.4092 12.1458 16.0417C12.1458 16.6742 11.6316 17.1875 11 17.1875Z\",\n    fill: \"#715100\"\n  })), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 9.16602,\n    y: 7.33334,\n    width: 3.66667,\n    height: 10.0833,\n    fill: \"#FFFBD6\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5 14.2308H11.5769C11.8531 14.2308 12.0769 14.007 12.0769 13.7308V8.50004C12.0769 8.2239 11.8531 8.00004 11.5769 8.00004H10.5C10.2239 8.00004 10 8.2239 10 8.50004V13.7308C10 14.0069 10.2239 14.2308 10.5 14.2308Z\",\n    fill: \"#715100\"\n  })), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 11.0385,\n    cy: 15.9616,\n    r: 1.03846,\n    fill: \"#715100\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDanger, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/danger.32e20194.svg\";\nexport { ForwardRef as ReactComponent };","import axios from 'axios'\r\n\r\nexport const verifyEmailAction = (enteredCode) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch({ type: 'VERIFY_REQUEST' })\r\n  const userInfo = getState().userInfo\r\n  if (userInfo.token && userInfo.user.status === 'pending') {\r\n    try {\r\n      const cancelToken = axios.CancelToken\r\n      const source = cancelToken.source()\r\n\r\n      const config = {\r\n        headers: {\r\n          Content_Type: 'application/json',\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n        cancelToken: source.token,\r\n      }\r\n      await axios.post(\r\n        '/api/users/getSecurityCode',\r\n        { code: Number(enteredCode) },\r\n        config\r\n      )\r\n      dispatch({ type: 'VERIFY_SUCCESS' })\r\n\r\n      localStorage.setItem(\r\n        'sickUserInfo',\r\n        JSON.stringify({\r\n          user: getState().userInfo.user,\r\n          token: getState().userInfo.token,\r\n        })\r\n      )\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'VERIFY_FAIL',\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      })\r\n    }\r\n  }\r\n}\r\nexport default verifyEmailAction\r\n","import axios from 'axios'\r\n\r\nexport const newCodeAction = () => async (dispatch, getState) => {\r\n  dispatch({ type: 'NEW_VERIFY_CODE_REQUEST' })\r\n  const userInfo = getState().userInfo\r\n  if (userInfo.token && userInfo.user.status === 'pending') {\r\n    try {\r\n      const cancelToken = axios.CancelToken\r\n      const source = cancelToken.source()\r\n      const config = {\r\n        headers: {\r\n          Content_Type: 'application/json',\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n        cancelToken: source.token,\r\n      }\r\n      await axios.get('/api/users/getNewSecurityCode', config)\r\n      dispatch({ type: 'NEW_VERIFY_CODE_SUCCESS' })\r\n    } catch (error) {\r\n      dispatch({\r\n        type: 'NEW_VERIFY_CODE_FAIL',\r\n        payload:\r\n          error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n      })\r\n    }\r\n  }\r\n}\r\nexport default newCodeAction\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport verifyEmailAction from '../actions/verifyEmail'\r\nimport { ReactComponent as Danger } from '../img/danger.svg'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/message'\r\nimport Loader from '../components/loader'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\nimport newCodeAction from '../actions/newCode'\r\n\r\nconst Verify = () => {\r\n  const [code, setCode] = useState('')\r\n  const [codeError, setCodeError] = useState('')\r\n  const {\r\n    verificationError,\r\n    verifyLoading,\r\n    user,\r\n    newCodeError,\r\n    newCodeLoading,\r\n  } = useSelector((state) => state.userInfo)\r\n  const [timer, setTimer] = useState(0)\r\n  const [startTimer, setStartTimer] = useState(false)\r\n  const status = user ? user.status : ''\r\n\r\n  const [timerSeconds] = useState(\r\n    localStorage.getItem('sickTimerSeconds')\r\n      ? JSON.parse(localStorage.getItem('sickTimerSeconds'))\r\n      : 60\r\n  )\r\n\r\n  const location = useLocation()\r\n  useEffect(() => {\r\n    if (startTimer) {\r\n      setTimeout(() => {\r\n        if (timer > 0) {\r\n          setTimer((prevTime) => prevTime - 1)\r\n          localStorage.setItem('sickTimerSeconds', timer)\r\n        } else {\r\n          setStartTimer(false)\r\n          localStorage.removeItem('sickTimerSeconds')\r\n        }\r\n      }, 1000)\r\n    }\r\n  }, [startTimer, timer])\r\n\r\n  const dispatch = useDispatch()\r\n  const verifyHandler = (e) => {\r\n    setCodeError('')\r\n    e.preventDefault()\r\n\r\n    if (code.length === 4) {\r\n      dispatch(verifyEmailAction(Number(code)))\r\n    } else {\r\n      setCodeError('Code must be 4 Digits')\r\n    }\r\n  }\r\n  const sendAgainHandler = () => {\r\n    if (!startTimer) {\r\n      setTimer(60)\r\n      setStartTimer(true)\r\n    }\r\n\r\n    dispatch(newCodeAction())\r\n  }\r\n\r\n  const history = useHistory()\r\n\r\n  const redirect = location.search.split('=')[1]\r\n    ? location.search.split('=')[1]\r\n    : '/'\r\n\r\n  const order = useSelector((state) => state.order)\r\n  useEffect(() => {\r\n    if (user.name) {\r\n      if (status === 'Verified') {\r\n        order.error = null\r\n        history.push(redirect)\r\n      }\r\n    } else {\r\n      history.push('/login')\r\n    }\r\n  }, [status, user, history])\r\n\r\n  useEffect(() => {\r\n    dispatch(newCodeAction())\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (!startTimer && newCodeError) {\r\n      setTimer(timerSeconds)\r\n      setStartTimer(true)\r\n    }\r\n  }, [newCodeError, startTimer, timerSeconds])\r\n\r\n  useEffect(() => {\r\n    if (newCodeLoading === false && !newCodeError) {\r\n      setTimer(60)\r\n      if (!startTimer) setStartTimer(true)\r\n    } else if (newCodeError === 'Email already Verified') {\r\n      history.push(redirect)\r\n    }\r\n  }, [newCodeLoading, history, newCodeError, startTimer])\r\n\r\n  return (\r\n    <StyledVerify>\r\n      <div className='modelBox'>\r\n        <div className='danger'>\r\n          <div className='danger-text'>\r\n            <Danger />\r\n            <p>\r\n              If you didn’t find the email in your Inbox, maybe It’s in your\r\n              Spam box\r\n            </p>\r\n          </div>\r\n          <div className='theRest'>\r\n            <h1>Enter Code to Verify</h1>\r\n            <Message\r\n              hidden='true'\r\n              vibrating='true'\r\n              visiblity={\r\n                codeError.length\r\n                  ? codeError\r\n                  : verificationError && !verifyLoading\r\n                  ? true\r\n                  : false\r\n              }\r\n              msg={\r\n                codeError.length\r\n                  ? codeError\r\n                  : verificationError\r\n                  ? verificationError.includes('timed out')\r\n                    ? 'Network Error'\r\n                    : verificationError.includes('mongo')\r\n                    ? 'Server Error'\r\n                    : verificationError\r\n                  : 'Ok'\r\n              }\r\n              type='error'\r\n            />\r\n            <form className='verifyBtns' onSubmit={verifyHandler}>\r\n              {user && newCodeLoading === false && !newCodeError && (\r\n                <p className='emailSentMessage'>\r\n                  Email Sent to '{user.email}'{' '}\r\n                  <Link to='/changeEmail?redirect=verify'>Change Email</Link>\r\n                </p>\r\n              )}\r\n              <input\r\n                maxLength={4}\r\n                value={code}\r\n                onChange={(e) => setCode(e.target.value)}\r\n                type='number'\r\n                id='code'\r\n                placeholder='4 Digits Code'\r\n              />\r\n              <div className='btns'>\r\n                <button type='submit'>\r\n                  Verify {verifyLoading && <Loader />}\r\n                </button>\r\n                <p\r\n                  className={`${startTimer ? 'waitActive' : ''}`}\r\n                  onClick={sendAgainHandler}\r\n                >\r\n                  {timer ? `Send again(${timer})` : 'Send again'}\r\n                </p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </StyledVerify>\r\n  )\r\n}\r\nconst StyledVerify = styled.div`\r\n  .emailSentMessage {\r\n    margin: 0.35rem 0;\r\n    margin-bottom: 0.5rem;\r\n    color: #3e3e3e;\r\n    font-size: calc(1rem + 0.2vw);\r\n    a {\r\n      color: #0084a0;\r\n    }\r\n  }\r\n  .waitActive {\r\n    filter: grayscale(0.2);\r\n    opacity: 0.7;\r\n    pointer-events: none;\r\n  }\r\n  .message {\r\n    align-self: flex-start;\r\n    margin-bottom: 0rem;\r\n  }\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1 1 auto;\r\n  .modelBox {\r\n    border-radius: 12px;\r\n    box-shadow: -2px 4px 10px rgba(0, 0, 0, 0.2);\r\n    overflow: hidden;\r\n    display: flex;\r\n    justify-content: stretch;\r\n    align-items: stretch;\r\n  }\r\n\r\n  .danger {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    width: 100%;\r\n\r\n    .danger-text {\r\n      padding: 0.9rem calc(1.5rem + 1vw);\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background: #fffbd6;\r\n      width: 100%;\r\n      img {\r\n        width: calc(1.4rem + 0.05vw);\r\n        height: calc(1.4rem + 0.05vw);\r\n        margin-right: 0.4rem;\r\n      }\r\n      p {\r\n        font-size: calc(0.85rem + 0.3vw);\r\n        color: #715100;\r\n      }\r\n    }\r\n  }\r\n  .theRest {\r\n    padding: calc(1.5rem + 1vw);\r\n    flex: 1 1 auto;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    h1 {\r\n      color: #1a1a1a;\r\n      font-weight: 500;\r\n      font-size: calc(2.2rem + 0.3vw);\r\n      align-self: flex-start;\r\n      margin-bottom: calc(1rem + 0.3vh);\r\n    }\r\n    input {\r\n      background: #f3f3f3;\r\n      border: none;\r\n      border-radius: 5px;\r\n      font-size: calc(1.1rem + 0.3vw);\r\n      padding: 0.5rem 1rem;\r\n      margin-bottom: calc(1.4rem + 0.3vh);\r\n    }\r\n    .verifyBtns {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n      button {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding: 0.4rem 1.3rem;\r\n        border: none;\r\n        color: white;\r\n        background: #00b2d8;\r\n        border-radius: 6px;\r\n        font-size: calc(1.2rem + 0.3vw);\r\n        cursor: pointer;\r\n        transition: 0.1s ease;\r\n        &:hover {\r\n          background: #00bde7;\r\n        }\r\n        #loader:first-child {\r\n          width: calc(0.9rem + 0.5vw);\r\n          height: calc(0.9rem + 0.5vw);\r\n          margin-left: 0.45rem;\r\n          #greybackground path {\r\n            stroke: white;\r\n          }\r\n        }\r\n      }\r\n      .btns {\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: flex-end;\r\n        p {\r\n          font-size: calc(0.9rem + 0.2vw);\r\n          cursor: pointer;\r\n          color: #0084a0;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    .emailSentMessage {\r\n      font-size: calc(0.8rem + 0.2vw);\r\n    }\r\n    .message {\r\n      span {\r\n        font-size: calc(0.7rem + 0.1vw) !important;\r\n      }\r\n    }\r\n    margin-top: calc(2rem + 0.3vh);\r\n    align-items: flex-start;\r\n    .danger {\r\n      .danger-text {\r\n        padding: 0.9rem calc(1rem + 1vw);\r\n        img {\r\n          width: calc(1.3rem + 0.05vw);\r\n          height: calc(1.3rem + 0.05vw);\r\n          margin-right: 0.55rem;\r\n        }\r\n        p {\r\n          font-size: calc(0.7rem + 0.3vw);\r\n        }\r\n      }\r\n    }\r\n    .theRest {\r\n      padding: calc(0.85rem + 1vw) calc(1rem + 1vw) calc(1rem + 1vw)\r\n        calc(1rem + 1vw);\r\n      h1 {\r\n        font-size: calc(1.6rem + 0.3vw);\r\n        margin-bottom: calc(0.7rem + 0.3vh);\r\n      }\r\n      input {\r\n        margin-bottom: calc(1rem + 0.3vh);\r\n      }\r\n    }\r\n    .modelBox {\r\n      width: 90%;\r\n      border: unset;\r\n      border-radius: 12px;\r\n      box-shadow: -2px 4px 10px rgba(0, 0, 0, 0.2);\r\n    }\r\n    .verifyBtns {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n    }\r\n  }\r\n`\r\n\r\nexport default Verify\r\n"],"sourceRoot":""}