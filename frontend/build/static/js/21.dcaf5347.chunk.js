(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{113:function(n,e,t){n.exports=t.p+"static/media/false.c4c362c6.svg"},121:function(n,e,t){"use strict";var a,r=t(13),o=t(0),c=t.n(o),i=t(14),s=t(18),l=i.b.div(a||(a=Object(r.a)(["\n  .circle1 {\n    pointer-events: none !important;\n  }\n  h1 {\n    font-weight: 300;\n    font-size: calc(0.9rem + 0.2vw);\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    white-space: nowrap;\n    transform: translate(-50%, -154%);\n    a {\n      color: #343a40;\n    }\n  }\n  margin-top: 3.3rem;\n  .journeyLine {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .line {\n    width: calc(4rem + 4vw);\n    height: 4px;\n    background: #e4e4e4;\n    &.active {\n      background: #00b2d8;\n    }\n  }\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  .circle {\n    position: relative;\n    border-radius: 50%;\n    width: 21px;\n    height: 21px;\n    background: #e4e4e4;\n    pointer-events: none;\n    h1 a {\n      color: #b4b4b4;\n    }\n    &.active {\n      background: #00b2d8;\n      pointer-events: all;\n      h1 a {\n        font-weight: 400;\n        color: #343a40;\n      }\n    }\n  }\n  .current {\n    border: 2.7px solid #00b2d8;\n    background: transparent !important;\n    animation: pulse-blue 1s ease infinite;\n  }\n\n  @keyframes pulse-blue {\n    0% {\n      box-shadow: 0 0 0 0 rgba(52, 172, 224, 0.7);\n    }\n\n    70% {\n      box-shadow: 0 0 0 8px rgba(52, 172, 224, 0);\n    }\n\n    100% {\n      box-shadow: 0 0 0 0 rgba(52, 172, 224, 0);\n    }\n  }\n  @media screen and (max-width: 1050px) {\n    margin-top: 2.7rem;\n    .circle {\n      width: 17px;\n      height: 17px;\n    }\n    h1 {\n      font-size: calc(0.78rem + 0.2vw);\n      transform: translate(-50%, -157%);\n    }\n    .line {\n      width: calc(3.2rem + 4vw);\n      height: 2.5px;\n    }\n    .current {\n      border: 1.7px solid #00b2d8;\n    }\n    @keyframes pulse-blue {\n      0% {\n        box-shadow: 0 0 0 0 rgba(52, 172, 224, 0.7);\n      }\n\n      70% {\n        box-shadow: 0 0 0 6px rgba(52, 172, 224, 0);\n      }\n\n      100% {\n        box-shadow: 0 0 0 0 rgba(52, 172, 224, 0);\n      }\n    }\n  }\n"])));e.a=function(n){var e=n.step1,t=n.step2,a=n.step3,r=n.step4,o=n.current;return c.a.createElement(l,null,c.a.createElement("div",{className:"journeyLine"},c.a.createElement("div",{className:"circle circle1 ".concat(e?"active":""," ").concat("step1"===o?"current":"")},c.a.createElement("h1",null,c.a.createElement(s.Link,{to:"/login"},"Sign In"))),c.a.createElement("div",{className:"line ".concat(t?"active":"")}),c.a.createElement(s.Link,{id:"RouterNavLink",to:"/shipping",className:"circle circle2 ".concat(t?"active":""," ").concat("step2"===o?"current":"")},c.a.createElement("h1",null,c.a.createElement(s.Link,{to:"/shipping"},"Shipping"))),c.a.createElement("div",{className:"line ".concat(a?"active":"")}),c.a.createElement(s.Link,{id:"RouterNavLink",to:"/payment",className:"circle circle3 ".concat(a?"active":""," ").concat("step3"===o?"current":"")},c.a.createElement("h1",null,c.a.createElement(s.Link,{to:"/payment"},"Payment"))),c.a.createElement("div",{className:"line ".concat(r?"active":"")}),c.a.createElement(s.Link,{id:"RouterNavLink",to:"/place-order",className:"circle circle4 ".concat(r?"active":"","  ").concat("step4"===o?"current":"")},c.a.createElement("h1",null,c.a.createElement(s.Link,{to:"/place-order"},"Place Order")))))}},335:function(n,e,t){"use strict";t.r(e);var a,r=t(13),o=t(20),c=t(0),i=t.n(c),s=t(14),l=t(121),u=t(93),p=t.n(u),d=t(113),m=t.n(d),b=t(19),f=t.n(b),h=t(28),g=t(12),v=t(3),y=t(21),w=t.n(y),x=function(n){return function(){var e=Object(h.a)(f.a.mark(function e(t,a){var r,o,c,i,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().userInfo.token,t({type:"COUPON_REQUEST"}),e.prev=2,o=w.a.CancelToken,c=o.source(),i={headers:{Content_Type:"application/json",Authorization:"Bearer ".concat(r)},cancelToken:c.token},e.next=8,w.a.post("/api/coupons/use",{code:n},i);case 8:s=e.sent,t({type:"COUPON_SUCCESS",payload:s.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t({type:"COUPON_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}},e,null,[[2,12]])}));return function(n,t){return e.apply(this,arguments)}}()},k=t(29),E=s.b.div(a||(a=Object(r.a)(["\n  .haveaCoupon {\n    margin-bottom: 0.5rem;\n    color: #0084a0;\n    cursor: pointer;\n    display: inline-block;\n    transition: 0.1s ease;\n    font-size: calc(0.82rem + 0.3vw);\n    &:hover {\n      color: #0093b4;\n    }\n  }\n  .couponCont {\n    position: relative;\n    display: inline-block;\n    width: 55%;\n    margin-bottom: 0.5rem;\n\n    .inputError {\n      position: absolute;\n      right: 0%;\n      top: 50%;\n      transform: translate(110%, -50%);\n      color: #ff6969;\n      font-size: calc(0.8rem + 0.3vw);\n      font-weight: 500;\n      &.ok {\n        color: #22cb84;\n      }\n    }\n    .CouponInput {\n      background: #f3f3f3;\n      border: none;\n      padding: 0.5rem 1rem;\n      border-radius: 6px;\n      width: 100%;\n      font-size: calc(0.9rem + 0.3vw);\n      display: inline-block;\n      padding-right: calc(3% + 0.5rem + 25px);\n    }\n    .Indication {\n      outline: none;\n      border: none;\n      position: absolute;\n      right: 4%;\n      top: 50%;\n      transform: translate(0, -50%);\n      width: 25px;\n      height: 25px;\n      background: url(",");\n      background-size: cover;\n      cursor: pointer;\n      border-radius: 50%;\n      &.idle {\n        background: rgba(71, 79, 87, 0.95);\n      }\n      &.error {\n        background: url(",');\n        background-size: cover;\n      }\n      #loader:first-child {\n        position: absolute;\n        right: 0%;\n        top: 0%;\n        transform: translate(0, -50%);\n        width: 25px;\n        height: 25px;\n        #greybackground path {\n          stroke: #25da8e;\n        }\n      }\n    }\n  }\n\n  .explaningWhy {\n    color: #e65959;\n    font-size: calc(0.7rem + 0.3vw);\n    font-weight: 500;\n  }\n  .disabled {\n    pointer-events: none;\n    opacity: 0.5;\n  }\n  .align {\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    flex-direction: column;\n    width: 52%;\n  }\n  width: 90%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin-top: 1.8rem;\n  .methods {\n    margin-left: 0.7rem;\n  }\n  .select {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    flex-direction: column;\n    padding-left: 43px;\n    margin-bottom: 1.2rem;\n    border-left: 2px solid #dfdfdf;\n    input {\n      display: none;\n    }\n    label {\n      margin-bottom: 0.7rem;\n      position: relative;\n      font-size: calc(0.61rem + 1vw);\n      font-weight: 400;\n      cursor: pointer;\n      color: #1a1a1a;\n      &:last-child {\n        margin-bottom: unset;\n      }\n      &::before {\n        content: "";\n        display: block;\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        box-shadow: inset 0px 0px 0px 2px #343a40;\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translate(-120%, -50%);\n      }\n      &.active::before {\n        box-shadow: unset;\n        background: url(',');\n        background-size: cover;\n      }\n    }\n  }\n  .continue {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.45rem 0.9rem;\n    border: none;\n    background: #00b2d8;\n    color: white;\n    border-radius: 6px;\n    font-size: calc(1.1rem + 0.3vw);\n    cursor: pointer;\n    transition: 0.1s;\n    &:hover {\n      background: #00a8ce;\n    }\n  }\n  h1 {\n    color: #1a1a1a;\n    font-weight: 500;\n    font-size: calc(2rem + 1vw);\n    margin-bottom: 1.2rem;\n  }\n  @media screen and (max-width: 1050px) {\n    h1 {\n      font-size: calc(1.74rem + 1vw);\n    }\n    .continue {\n      font-size: calc(1.15rem + 0.3vw);\n      border-radius: 6px;\n      padding: 0.5rem 0.9rem;\n    }\n    .align {\n      width: 100%;\n    }\n    .select {\n      margin-bottom: 1.05rem;\n      padding-left: 33px;\n      label {\n        margin-bottom: 0.85rem;\n        font-size: calc(0.7rem + 1vw);\n\n        &::before {\n          content: "";\n          width: 18px;\n          height: 18px;\n          box-shadow: inset 0px 0px 0px 1.5px #343a40;\n        }\n        &.active::before {\n          box-shadow: unset;\n          background: url(',");\n          background-size: cover;\n        }\n      }\n    }\n  }\n"])),function(n){return n.img},function(n){return n.img2},function(n){return n.img},function(n){return n.img});e.default=function(){var n=Object(v.l)(),e="buyNow"===n.search.split("=")[1],t=Object(g.c)(function(n){return n.cart}),a=t.paymentMethod,r=t.address,s=t.cartItems,u=t.discount,d=t.loadingCoupon,b=t.errorCoupon,y=Object(g.c)(function(n){return n.buyNowProduct}).product,w=e?y.price*y.qty:s.map(function(n){return n.price*n.qty}),N=e?w:w.length?w.reduce(function(n,e){return n+e}):null,O=Object(g.c)(function(n){return n.userInfo}).user,C=Object(c.useState)(a&&a.length?a:"PayPal or Credit & Debit Cards"),j=Object(o.a)(C,2),P=j[0],z=j[1],S=Object(g.b)(),L=Object(v.k)();Object(c.useEffect)(function(){s.length||y.name||L.push("/cart")},[s]),Object(c.useEffect)(function(){"payment"!==n.pathname.split("/")[1]||O.name||L.push("buyNow"===n.search.split("=")[1]?"/login?redirect=payment":"/login?redirect=payment?order=buyNow")},[L,n,O]),Object(c.useEffect)(function(){r.city||L.push("buyNow"===n.search.split("=")[1]?"/shipping?order=buyNow":"/shipping")},[L,n,O]);var D=Object(c.useState)(!!u),I=Object(o.a)(D,2),F=I[0],T=I[1],_=Object(c.useState)(!1),M=Object(o.a)(_,2),U=M[0],A=M[1],J=Object(c.useState)(u?u.code.code:""),R=Object(o.a)(J,2),W=R[0],Y=R[1];return Object(c.useEffect)(function(){u&&(S(function(n){return Object(h.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),n&&localStorage.setItem("sickDiscount",JSON.stringify(n));case 2:case"end":return e.stop()}},e)}))}(u)),A(u.code.amount+"% OFF"))},[u]),Object(c.useEffect)(function(){b&&A(b)},[b]),i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{step1:!0,step2:!0,step3:!0,current:"step3"}),i.a.createElement(E,{img:p.a,img2:m.a},i.a.createElement("div",{className:"align"},i.a.createElement("h1",null,"Payment Method"),i.a.createElement("div",{className:"methods"},i.a.createElement("div",{className:"select"},i.a.createElement("input",{type:"radio",id:"credit"}),i.a.createElement("label",{className:"".concat("PayPal or Credit & Debit Cards"===P?"active":""),htmlFor:"credit",onClick:function(){return z("PayPal or Credit & Debit Cards")}},"PayPal or Credit & Debit Cards"),i.a.createElement("input",{type:"radio",id:"delivery"}),i.a.createElement("label",{className:"".concat("Cash on Delivery"===P?"active":""," ").concat(N<20||N>17e3?"disabled":""),htmlFor:"Cash on Delivery",onClick:function(){(!N<20||N>17e3)&&z("Cash on Delivery")}},"Cash on Delivery"),N<20&&i.a.createElement("li",{className:"explaningWhy"},"Your order is less than 20 EGP"),N>17e3&&i.a.createElement("li",{className:"explaningWhy"},"Your total cart value is above EGP 17,000")),!F&&i.a.createElement("p",{className:"haveaCoupon",onClick:function(){return T(!0)}},"Have a coupon or a voucher?"),F&&i.a.createElement("form",{className:"couponCont",onSubmit:function(n){n.preventDefault(),S(x(W))}},i.a.createElement("input",{placeholder:"Enter Code",className:"CouponInput",type:"text",value:W,onChange:function(n){return Y(n.target.value)}}),i.a.createElement("button",{type:"submit",className:"Indication ".concat(b&&!d?"error":""," ").concat(!b&&!u||d?"idle":"")},d&&i.a.createElement(k.a,null)),i.a.createElement("div",{className:"inputError ".concat(b?"":"ok")},i.a.createElement("span",null,U))),i.a.createElement("button",{className:"continue",onClick:function(){var e;S((e=N<20||N>17e3?"PayPal or Credit & Debit Cards":P,function(){var n=Object(h.a)(f.a.mark(function n(t){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t({type:"SAVE_PAYMENT_METHOD",payload:e}),localStorage.setItem("sickPaymentMethod",JSON.stringify(e));case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())),L.push("buyNow"===n.search.split("=")[1]?"/placeOrder?order=buyNow":"/placeOrder")}},"Continue")))))}},93:function(n,e,t){n.exports=t.p+"static/media/true.4dd9c503.svg"}}]);
//# sourceMappingURL=21.dcaf5347.chunk.js.map