{"version":3,"sources":["components/CheckoutSteps.js","actions/addCouponCode.js","pages/Payment.js","actions/savePaymentMethod.js"],"names":["StyledSteps","styled","div","_templateObject","Object","C_development_Web_Development_Ecommerce_Project_frontend_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__","CheckoutSteps","_ref","step1","step2","step3","step4","current","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","concat","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","id","addCouponAction","code","asyncToGenerator","regenerator_default","mark","_callee","dispatch","getState","token","cancelToken","source","config","codeResponse","wrap","_context","prev","next","userInfo","type","axios","CancelToken","headers","Content_Type","Authorization","post","sent","payload","data","t0","response","message","stop","_x","_x2","apply","this","arguments","StyledPayment","taggedTemplateLiteral","props","img","img2","Payment","location","useLocation","isBuyNow","search","split","_useSelector","useSelector","state","cart","paymentMethod","address","cartItems","discount","loadingCoupon","errorCoupon","product","buyNowProduct","pricesArr","price","qty","map","each","totalPrice","length","reduce","acc","item","user","_useState","useState","_useState2","slicedToArray","method","setMethod","useDispatch","history","useHistory","useEffect","name","push","pathname","city","_useState3","_useState4","couponInput","setCouponInput","_useState5","_useState6","discount2","setDiscount2","_useState7","_useState8","setCode","_callee2","_context2","localStorage","setItem","JSON","stringify","savePromoCode","amount","react_default","Fragment","htmlFor","onClick","img_true","class","onSubmit","e","preventDefault","placeholder","value","onChange","target","img_false","loader"],"mappings":"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","file":"static/js/22.2c160ce2.chunk.js","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4, current }) => {\r\n  return (\r\n    <StyledSteps>\r\n      <div className='journeyLine'>\r\n        <div\r\n          className={`circle circle1 ${step1 ? 'active' : ''} ${\r\n            current === 'step1' ? 'current' : ''\r\n          }`}\r\n        >\r\n          <h1>\r\n            <Link to='/login'>Sign In</Link>\r\n          </h1>\r\n        </div>\r\n        <div className={`line ${step2 ? 'active' : ''}`}></div>\r\n        <Link\r\n          id='RouterNavLink'\r\n          to='/shipping'\r\n          className={`circle circle2 ${step2 ? 'active' : ''} ${\r\n            current === 'step2' ? 'current' : ''\r\n          }`}\r\n        >\r\n          <h1>\r\n            <Link to='/shipping'>Shipping</Link>\r\n          </h1>\r\n        </Link>\r\n        <div className={`line ${step3 ? 'active' : ''}`}></div>\r\n        <Link\r\n          id='RouterNavLink'\r\n          to='/payment'\r\n          className={`circle circle3 ${step3 ? 'active' : ''} ${\r\n            current === 'step3' ? 'current' : ''\r\n          }`}\r\n        >\r\n          <h1>\r\n            <Link to='/payment'>Payment</Link>\r\n          </h1>\r\n        </Link>\r\n        <div className={`line ${step4 ? 'active' : ''}`}></div>\r\n        <Link\r\n          id='RouterNavLink'\r\n          to='/placeOrder'\r\n          className={`circle circle4 ${step4 ? 'active' : ''}  ${\r\n            current === 'step4' ? 'current' : ''\r\n          }`}\r\n        >\r\n          <h1>\r\n            <Link to='/placeOrder'>Place Order</Link>\r\n          </h1>\r\n        </Link>\r\n      </div>\r\n    </StyledSteps>\r\n  )\r\n}\r\nconst StyledSteps = styled.div`\r\n  .circle1 {\r\n    pointer-events: none !important;\r\n  }\r\n  h1 {\r\n    font-weight: 300;\r\n    font-size: calc(0.9rem + 0.2vw);\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    white-space: nowrap;\r\n    transform: translate(-50%, -154%);\r\n    a {\r\n      color: #343a40;\r\n    }\r\n  }\r\n  margin-top: 3.3rem;\r\n  .journeyLine {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .line {\r\n    width: calc(4rem + 4vw);\r\n    height: 4px;\r\n    background: #e4e4e4;\r\n    &.active {\r\n      background: #00b2d8;\r\n    }\r\n  }\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  .circle {\r\n    position: relative;\r\n    border-radius: 50%;\r\n    width: 21px;\r\n    height: 21px;\r\n    background: #e4e4e4;\r\n    pointer-events: none;\r\n    h1 a {\r\n      color: #b4b4b4;\r\n    }\r\n    &.active {\r\n      background: #00b2d8;\r\n      pointer-events: all;\r\n      h1 a {\r\n        font-weight: 400;\r\n        color: #343a40;\r\n      }\r\n    }\r\n  }\r\n  .current {\r\n    border: 2.7px solid #00b2d8;\r\n    background: transparent !important;\r\n    animation: pulse-blue 1s ease infinite;\r\n  }\r\n\r\n  @keyframes pulse-blue {\r\n    0% {\r\n      box-shadow: 0 0 0 0 rgba(52, 172, 224, 0.7);\r\n    }\r\n\r\n    70% {\r\n      box-shadow: 0 0 0 8px rgba(52, 172, 224, 0);\r\n    }\r\n\r\n    100% {\r\n      box-shadow: 0 0 0 0 rgba(52, 172, 224, 0);\r\n    }\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    margin-top: 2.7rem;\r\n    .circle {\r\n      width: 17px;\r\n      height: 17px;\r\n    }\r\n    h1 {\r\n      font-size: calc(0.78rem + 0.2vw);\r\n      transform: translate(-50%, -157%);\r\n    }\r\n    .line {\r\n      width: calc(3.2rem + 4vw);\r\n      height: 2.5px;\r\n    }\r\n    .current {\r\n      border: 1.7px solid #00b2d8;\r\n    }\r\n    @keyframes pulse-blue {\r\n      0% {\r\n        box-shadow: 0 0 0 0 rgba(52, 172, 224, 0.7);\r\n      }\r\n\r\n      70% {\r\n        box-shadow: 0 0 0 6px rgba(52, 172, 224, 0);\r\n      }\r\n\r\n      100% {\r\n        box-shadow: 0 0 0 0 rgba(52, 172, 224, 0);\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default CheckoutSteps\r\n","import axios from 'axios'\r\n\r\nconst addCouponAction = (code) => async (dispatch, getState) => {\r\n  const { token } = getState().userInfo\r\n  dispatch({ type: 'COUPON_REQUEST' })\r\n  try {\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      headers: {\r\n        Content_Type: 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    const codeResponse = await axios.post('/api/coupons/use', { code }, config)\r\n    dispatch({\r\n      type: 'COUPON_SUCCESS',\r\n      payload: codeResponse.data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'COUPON_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\nexport default addCouponAction\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { ReactComponent as FalseSVG } from '../img/false.svg'\r\nimport { ReactComponent as TrueSVG } from '../img/true.svg'\r\nimport { userSavePayment, savePromoCode } from '../actions/savePaymentMethod'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport addCouponAction from '../actions/addCouponCode'\r\nimport Loader from '../components/loader'\r\n\r\nconst Payment = () => {\r\n  const location = useLocation()\r\n  const isBuyNow = location.search.split('=')[1] === 'buyNow'\r\n\r\n  const {\r\n    paymentMethod,\r\n    address,\r\n    cartItems,\r\n    discount,\r\n    loadingCoupon,\r\n    errorCoupon,\r\n  } = useSelector((state) => state.cart)\r\n  const { product } = useSelector((state) => state.buyNowProduct)\r\n\r\n  const pricesArr = !isBuyNow\r\n    ? cartItems.map((each) => each.price * each.qty)\r\n    : product.price * product.qty\r\n\r\n  const totalPrice = !isBuyNow\r\n    ? pricesArr.length\r\n      ? pricesArr.reduce((acc, item) => acc + item)\r\n      : null\r\n    : pricesArr\r\n\r\n  const { user } = useSelector((state) => state.userInfo)\r\n\r\n  const [method, setMethod] = useState(\r\n    paymentMethod\r\n      ? paymentMethod.length\r\n        ? paymentMethod\r\n        : 'PayPal or Credit & Debit Cards'\r\n      : 'PayPal or Credit & Debit Cards'\r\n  )\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n\r\n  const continueHandler = () => {\r\n    dispatch(\r\n      userSavePayment(\r\n        totalPrice < 20 || totalPrice > 17000\r\n          ? 'PayPal or Credit & Debit Cards'\r\n          : method\r\n      )\r\n    )\r\n    const pushedLink = () => {\r\n      if (location.search.split('=')[1] === 'buyNow') {\r\n        return '/placeOrder?order=buyNow'\r\n      } else {\r\n        return '/placeOrder'\r\n      }\r\n    }\r\n    history.push(pushedLink())\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!cartItems.length && !product.name) {\r\n      history.push('/cart')\r\n    }\r\n  }, [cartItems])\r\n\r\n  useEffect(() => {\r\n    const pushedLink = () => {\r\n      if (location.search.split('=')[1] === 'buyNow') {\r\n        return '/login?redirect=payment'\r\n      } else {\r\n        return '/login?redirect=payment?order=buyNow'\r\n      }\r\n    }\r\n    if (location.pathname.split('/')[1] === 'payment' && !user.name) {\r\n      history.push(pushedLink())\r\n    }\r\n  }, [history, location, user])\r\n\r\n  useEffect(() => {\r\n    const pushedLink = () => {\r\n      if (location.search.split('=')[1] === 'buyNow') {\r\n        return '/shipping?order=buyNow'\r\n      } else {\r\n        return '/shipping'\r\n      }\r\n    }\r\n    if (!address.city) {\r\n      history.push(pushedLink())\r\n    }\r\n  }, [history, location, user])\r\n\r\n  const [couponInput, setCouponInput] = useState(discount ? true : false)\r\n  const [discount2, setDiscount2] = useState(false)\r\n  const [code, setCode] = useState(discount ? discount.code.code : '')\r\n\r\n  const applyCodeHandler = (e) => {\r\n    e.preventDefault()\r\n    dispatch(addCouponAction(code))\r\n  }\r\n  useEffect(() => {\r\n    if (discount) {\r\n      dispatch(savePromoCode(discount))\r\n      setDiscount2(discount.code.amount + '% OFF')\r\n    }\r\n  }, [discount])\r\n\r\n  useEffect(() => {\r\n    if (errorCoupon) {\r\n      setDiscount2(errorCoupon)\r\n    }\r\n  }, [errorCoupon])\r\n  return (\r\n    <>\r\n      <CheckoutSteps step1 step2 step3 current='step3' />\r\n      <StyledPayment>\r\n        <div className='align'>\r\n          <h1>Payment Method</h1>\r\n          <div className='methods'>\r\n            <div className='select'>\r\n              <input type='radio' id='credit' />\r\n              <div className='labelCont'>\r\n                <label\r\n                  className={`${\r\n                    method === 'PayPal or Credit & Debit Cards' ? 'active' : ''\r\n                  }`}\r\n                  htmlFor='credit'\r\n                  onClick={() => setMethod('PayPal or Credit & Debit Cards')}\r\n                >\r\n                  PayPal or Credit & Debit Cards\r\n                </label>\r\n                {method === 'PayPal or Credit & Debit Cards' ? (\r\n                  <TrueSVG className='activeSelect' />\r\n                ) : (\r\n                  <div className='selectOption'></div>\r\n                )}\r\n              </div>\r\n              <input type='radio' id='delivery' />\r\n              <div className='labelCont'>\r\n                <label\r\n                  className={`${\r\n                    method === 'Cash on Delivery' ? 'active' : ''\r\n                  } ${totalPrice < 20 || totalPrice > 17000 ? 'disabled' : ''}`}\r\n                  htmlFor='Cash on Delivery'\r\n                  onClick={() => {\r\n                    if (!totalPrice < 20 || totalPrice > 17000)\r\n                      setMethod('Cash on Delivery')\r\n                  }}\r\n                >\r\n                  Cash on Delivery\r\n                </label>\r\n                {method === 'Cash on Delivery' ? (\r\n                  <TrueSVG class='activeSelect' />\r\n                ) : (\r\n                  <div\r\n                    className={`selectOption ${\r\n                      totalPrice < 20 || totalPrice > 17000 ? 'disabled' : ''\r\n                    }`}\r\n                  ></div>\r\n                )}\r\n              </div>\r\n\r\n              {totalPrice < 20 && (\r\n                <li className='explaningWhy'>Your order is less than 20 EGP</li>\r\n              )}\r\n              {totalPrice > 17000 && (\r\n                <li className='explaningWhy'>\r\n                  Your total cart value is above EGP 17,000\r\n                </li>\r\n              )}\r\n            </div>\r\n            {!couponInput && (\r\n              <p className='haveaCoupon' onClick={() => setCouponInput(true)}>\r\n                Have a coupon or a voucher?\r\n              </p>\r\n            )}\r\n            {couponInput && (\r\n              <form className='couponCont' onSubmit={applyCodeHandler}>\r\n                <input\r\n                  placeholder='Enter Code'\r\n                  className='CouponInput'\r\n                  type='text'\r\n                  value={code}\r\n                  onChange={(e) => setCode(e.target.value)}\r\n                />\r\n                <button\r\n                  type='submit'\r\n                  className={`Indication ${\r\n                    errorCoupon && !loadingCoupon ? 'error' : ''\r\n                  } ${\r\n                    (!errorCoupon && !discount) || loadingCoupon ? 'idle' : ''\r\n                  }`}\r\n                >\r\n                  {!loadingCoupon &&\r\n                    !errorCoupon &&\r\n                    !loadingCoupon &&\r\n                    discount && <TrueSVG className='couponIcons' />}\r\n                  {errorCoupon && !loadingCoupon && (\r\n                    <FalseSVG className='couponIcons' />\r\n                  )}\r\n                  {loadingCoupon && <Loader />}\r\n                </button>\r\n                <div className={`inputError ${!errorCoupon ? 'ok' : ''}`}>\r\n                  <span>{discount2}</span>\r\n                </div>\r\n              </form>\r\n            )}\r\n\r\n            <button className='continue' onClick={continueHandler}>\r\n              Continue\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </StyledPayment>\r\n    </>\r\n  )\r\n}\r\n\r\nconst StyledPayment = styled.div`\r\n  .haveaCoupon {\r\n    margin-bottom: 0.5rem;\r\n    color: #0084a0;\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    transition: 0.1s ease;\r\n    font-size: calc(0.82rem + 0.3vw);\r\n    &:hover {\r\n      color: #0093b4;\r\n    }\r\n  }\r\n  .couponCont {\r\n    position: relative;\r\n    display: inline-block;\r\n    width: 55%;\r\n    margin-bottom: 0.5rem;\r\n\r\n    .inputError {\r\n      position: absolute;\r\n      right: 0%;\r\n      top: 50%;\r\n      transform: translate(110%, -50%);\r\n      color: #ff6969;\r\n      font-size: calc(0.8rem + 0.3vw);\r\n      font-weight: 500;\r\n      &.ok {\r\n        color: #22cb84;\r\n      }\r\n    }\r\n    .CouponInput {\r\n      background: #f3f3f3;\r\n      border: none;\r\n      padding: 0.5rem 1rem;\r\n      border-radius: 6px;\r\n      width: 100%;\r\n      font-size: calc(0.9rem + 0.3vw);\r\n      display: inline-block;\r\n      padding-right: calc(3% + 0.5rem + 25px);\r\n    }\r\n    .Indication {\r\n      outline: none;\r\n      border: none;\r\n      position: absolute;\r\n      right: 4%;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      width: 25px;\r\n      height: 25px;\r\n      background: url(${(props) => props.img});\r\n      background-size: cover;\r\n      cursor: pointer;\r\n      border-radius: 50%;\r\n      &.idle {\r\n        background: rgba(71, 79, 87, 0.95);\r\n      }\r\n      &.error {\r\n        background: url(${(props) => props.img2});\r\n        background-size: cover;\r\n      }\r\n      #loader:first-child {\r\n        position: absolute;\r\n        right: 0%;\r\n        top: 0%;\r\n        transform: translate(0, -50%);\r\n        width: 25px;\r\n        height: 25px;\r\n        #greybackground path {\r\n          stroke: #25da8e;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .explaningWhy {\r\n    color: #e65959;\r\n    font-size: calc(0.7rem + 0.3vw);\r\n    font-weight: 500;\r\n  }\r\n  .disabled {\r\n    pointer-events: none;\r\n    opacity: 0.5;\r\n  }\r\n  .align {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n    width: 52%;\r\n  }\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  margin-top: 1.8rem;\r\n  .methods {\r\n    margin-left: 0.7rem;\r\n  }\r\n  .couponIcons {\r\n    width: 24px;\r\n    height: 24px;\r\n    border-radius: 50%;\r\n  }\r\n  .select {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n    padding-left: 43px;\r\n    margin-bottom: 1.2rem;\r\n    border-left: 2px solid #dfdfdf61;\r\n    input {\r\n      display: none;\r\n    }\r\n    .labelCont {\r\n      margin-bottom: 0.7rem;\r\n      position: relative;\r\n      .selectOption {\r\n        display: block;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        box-shadow: inset 0px 0px 0px 2px #343a40;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 50%;\r\n        transform: translate(-120%, -50%);\r\n        &.disabled {\r\n          pointer-events: none;\r\n          opacity: 0.5;\r\n        }\r\n      }\r\n      .activeSelect {\r\n        display: block;\r\n        width: 24px;\r\n        height: 24px;\r\n        border-radius: 50%;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 50%;\r\n        transform: translate(-120%, -50%);\r\n      }\r\n    }\r\n    label {\r\n      font-size: calc(0.61rem + 1vw);\r\n      font-weight: 400;\r\n      cursor: pointer;\r\n      color: #1a1a1a;\r\n      &:last-child {\r\n        margin-bottom: unset;\r\n      }\r\n\r\n      &.active::before {\r\n        box-shadow: unset;\r\n        background: url(${(props) => props.img});\r\n        background-size: cover;\r\n      }\r\n    }\r\n  }\r\n  .continue {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0.45rem 0.9rem;\r\n    border: none;\r\n    background: #00b2d8;\r\n    color: white;\r\n    border-radius: 6px;\r\n    font-size: calc(1.1rem + 0.3vw);\r\n    cursor: pointer;\r\n    transition: 0.1s;\r\n    &:hover {\r\n      background: #00a8ce;\r\n    }\r\n  }\r\n  h1 {\r\n    color: #1a1a1a;\r\n    font-weight: 500;\r\n    font-size: calc(2rem + 1vw);\r\n    margin-bottom: 1.2rem;\r\n  }\r\n  @media screen and (max-width: 1050px) {\r\n    .explaningWhy {\r\n      transform: translateX(-2%) !important;\r\n    }\r\n    h1 {\r\n      font-size: calc(1.74rem + 1vw);\r\n    }\r\n    .continue {\r\n      font-size: calc(1.15rem + 0.3vw);\r\n      border-radius: 6px;\r\n      padding: 0.5rem 0.9rem;\r\n    }\r\n    .align {\r\n      width: 100%;\r\n    }\r\n    .select {\r\n      margin-bottom: 1.05rem;\r\n      padding-left: 33px;\r\n      label {\r\n        margin-bottom: 0.85rem;\r\n        font-size: calc(0.7rem + 1vw);\r\n\r\n        &::before {\r\n          content: '';\r\n          width: 18px;\r\n          height: 18px;\r\n          box-shadow: inset 0px 0px 0px 1.5px #343a40;\r\n        }\r\n        &.active::before {\r\n          box-shadow: unset;\r\n          background: url(${(props) => props.img});\r\n          background-size: cover;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default Payment\r\n","const userSavePayment = (data) => async (dispatch) => {\r\n  dispatch({\r\n    type: 'SAVE_PAYMENT_METHOD',\r\n    payload: data,\r\n  })\r\n  localStorage.setItem('sickPaymentMethod', JSON.stringify(data))\r\n}\r\nconst savePromoCode = (discount) => async () => {\r\n  if (discount) localStorage.setItem('sickDiscount', JSON.stringify(discount))\r\n}\r\nexport { userSavePayment, savePromoCode }\r\n"],"sourceRoot":""}