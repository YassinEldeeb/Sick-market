(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[14],{197:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var r,c=t(0);function i(){return(i=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function a(n,e){if(null==n)return{};var t,r,c=function(n,e){if(null==n)return{};var t,r,c={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(c[t]=n[t]);return c}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(c[t]=n[t])}return c}function o(n,e){var t=n.title,o=n.titleId,s=a(n,["title","titleId"]);return c.createElement("svg",i({width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":o},s),t?c.createElement("title",{id:o},t):null,r||(r=c.createElement("path",{d:"M24.9999 0C11.1875 0 0 11.1875 0 24.9999C0 38.8124 11.1875 49.9999 24.9999 49.9999C38.8124 49.9999 50 38.8125 50 24.9999C50 11.1874 38.8125 0 24.9999 0ZM5.00004 24.9999C5.00004 13.95 13.95 4.99992 25.0001 4.99992C29.6251 4.99992 33.8626 6.58746 37.25 9.21245L9.21245 37.25C6.58746 33.8625 5.00004 29.625 5.00004 24.9999ZM24.9999 45C20.3749 45 16.1374 43.4124 12.75 40.7874L40.7874 12.75C43.4124 16.1375 45 20.375 45 24.9999C45 36.05 36.05 45 24.9999 45Z",fill:"white"})))}var s=c.forwardRef(o);t.p},395:function(n,e,t){"use strict";t.r(e);var r,c,i=t(4),a=t(15),o=t(8),s=t(0),l=t(5),d=t(48),m=t(72),p=t(7),u=t(46),f=t(65),b=t(44),h=t(10),g=t(31),j=t(197),v=t(1),x=l.b.div(r||(r=Object(i.a)(["\n  .wrapper,\n  .wrapper2 {\n    z-index: 2;\n    background: rgba(255, 255, 255, 0.3);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n  }\n  .wrapper2 {\n    pointer-events: none;\n  }\n\n  position: relative;\n\n  .qtySelect {\n    pointer-events: none;\n    opacity: 0;\n  }\n  .imgLink {\n    height: calc(10vw * 0.796875) !important;\n  }\n  .removed {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    h1 {\n      pointer-events: none;\n      font-size: calc(0.7rem + 0.3vw) !important;\n      color: white !important;\n      font-weight: 500 !important;\n      user-select: none;\n    }\n\n    padding: 0.55rem 0.75rem;\n    background: #ff6969;\n    border-radius: 5px;\n    svg {\n      width: 18px;\n      height: 18px;\n      margin-right: 0.25rem;\n      pointer-events: none;\n      user-select: none;\n    }\n  }\n  .ratingCount {\n    display: none !important;\n  }\n  .imgLink,\n  .descLink {\n    width: max-content;\n    display: flex;\n  }\n  padding: 0.5rem 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 12.5%);\n  &:last-child {\n    border-bottom: unset;\n  }\n  #productImg,\n  #productImgLoader {\n    border-radius: 5px;\n    max-width: 10vw;\n    object-fit: cover;\n  }\n  display: flex;\n  #productImg,\n  #productImgLoader,\n  .desc {\n    flex-grow: 1;\n  }\n  .desc {\n    padding: 0 calc(1rem + 0.3vw);\n    p {\n      color: #00667b;\n      font-size: calc(0.7rem + 0.4vw);\n    }\n    a {\n      display: block;\n      font-size: calc(1rem + 0.4vw);\n      font-weight: 400;\n      color: #1a1a1a;\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n    .starsRating {\n      margin-top: 0.35rem;\n    }\n  }\n  .priceQtyAndRemove {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: flex-end;\n    h1 {\n      font-size: calc(1rem + 0.4vw);\n      font-weight: 400;\n      color: #1a1a1a;\n      .currency {\n        margin-left: 0.15rem;\n        font-size: calc(0.7rem + 0.4vw);\n      }\n    }\n    .removeAndQty .select .drop-menu {\n      top: 0;\n      bottom: unset;\n      max-height: 130px;\n      transform: translate(-17%, -100%);\n    }\n  }\n\n  @media screen and (max-width: 1050px) {\n    .imgLink {\n      height: calc(20vw * 0.796875) !important;\n    }\n    .removed {\n      padding: 0.25rem 0.3rem;\n      border-radius: 4px;\n      h1 {\n        font-size: calc(0.4rem + 0.3vw) !important;\n      }\n      svg {\n        width: 8px;\n        height: 8px;\n        margin-right: 0.15rem;\n      }\n    }\n    .starsRating {\n      margin: 0 !important;\n      margin-top: 0.2rem !important;\n      .far,\n      .fas {\n        font-size: calc(0.7rem + 0.3vw) !important;\n      }\n    }\n    #productImg,\n    #productImgLoader {\n      max-width: 13vw;\n    }\n    .priceQtyAndRemove {\n      justify-content: space-between !important;\n      h1 {\n        font-size: calc(0.8rem + 0.4vw);\n      }\n      .currency {\n        margin-left: 0.15rem;\n        font-size: calc(0.6rem + 0.4vw) !important;\n      }\n      .removeAndQty {\n        .removeBtn {\n          padding: 0 0.62rem;\n          i {\n            font-size: calc(0.8rem + 0.3vw);\n          }\n        }\n      }\n    }\n    .desc {\n      padding-right: 0;\n      padding-left: calc(0.7rem + 0.2vw);\n      p {\n        font-size: calc(0.6rem + 0.4vw);\n      }\n      a {\n        font-size: calc(0.55rem + 1vw);\n      }\n      .starsRating {\n        display: none;\n      }\n    }\n    .select {\n      padding: 0.3rem 0.9rem;\n      h1 {\n        font-size: calc(0.8rem + 0.3vw) !important;\n        margin-right: 0.45rem;\n      }\n      svg {\n        width: 5px !important;\n      }\n      .drop-menu {\n        max-height: 110px !important;\n        width: 150% !important;\n        transform: translate(-34%, -100%) !important;\n        p {\n          font-size: calc(0.8rem + 0.3vw) !important;\n        }\n      }\n    }\n    .removeBtn {\n      margin-left: 0.7rem;\n    }\n  }\n  .priceQtyAndRemove {\n    z-index: 2 !important;\n  }\n  @media screen and (max-width: 550px) {\n    #productImg,\n    #productImgLoader {\n      max-width: 20vw;\n    }\n  }\n  @media screen and (max-width: 339px) {\n    .desc {\n      p {\n        font-size: calc(0.45rem + 0.4vw);\n      }\n      a {\n        font-size: calc(0.45rem + 1vw);\n      }\n    }\n    .priceQtyAndRemove {\n      h1 {\n        font-size: calc(0.65rem + 0.4vw);\n      }\n    }\n  }\n"]))),w=function(n){var e=n.product,t=n.cartCount,r=n.setCartCount,c=n.check,i=n.setRemovedProducts,a=n.removedProducts,l=Object(p.b)(),d=Object(s.useState)(e.qty),m=Object(o.a)(d,2),w=m[0],O=m[1],y=Object(p.c)((function(n){return n.cart})).cartItems;var k,C=Object(s.useState)(null),z=Object(o.a)(C,2),N=z[0],E=z[1],S=Object(s.useState)(null),I=Object(o.a)(S,2),_=I[0],L=I[1];return Object(s.useEffect)((function(){c&&(L(c.removed.find((function(n){return n===e._id}))),E(c.soldOut.find((function(n){return n===e._id}))))}),[c]),Object(v.jsxs)(x,{children:[_&&Object(v.jsx)("div",{className:"wrapper",children:" "}),N&&Object(v.jsx)("div",{className:"wrapper2",children:" "}),Object(v.jsx)(h.Link,{className:"imgLink",to:"/products/".concat(e._id,"?redirect=cart"),onClick:function(){return l({type:"PRODUCT_DETAIL_REQUEST"})},children:Object(v.jsx)(g.a,{tiny:"/api/products/".concat(e._id,"/tiny"),contWidth:"10vw",contWidthMobile:"20vw",width:"100%",height:"120%",className:"productImg",src:e.image,alt:"product",imgId:"productImg",loaderId:"productImgLoader"},e._id)}),Object(v.jsxs)("div",{className:"desc",children:[Object(v.jsxs)("p",{children:["Brand: ",e.brand]}),Object(v.jsx)(h.Link,{className:"descLink",to:"/products/".concat(e._id,"?redirect=cart"),onClick:function(){return l({type:"PRODUCT_DETAIL_REQUEST"})},children:(k=e.name,k.length>30?k.substr(0,29)+"...":k)}),Object(v.jsx)(u.a,{ratingValue:e.rating,numOfReviews:e.numReviews})]}),Object(v.jsxs)("div",{className:"priceQtyAndRemove",children:[_||N?Object(v.jsxs)("div",{className:"removed",children:[Object(v.jsx)(j.a,{}),Object(v.jsx)("h1",{children:_?"Not Available":N?"Sold Out":""})]}):Object(v.jsxs)("h1",{children:[e.price,Object(v.jsx)("span",{className:"currency",children:"EGP"})]}),Object(v.jsxs)("div",{className:"removeAndQty",children:[Object(v.jsx)(f.a,{className:_||N?"qtySelect":null,qty:w,setQty:O,product:e,cartItems:y,cartCount:t,setCartCount:r}),Object(v.jsx)("div",{className:"removeBtn",onClick:function(){l(Object(b.b)(e)),e.removed||e.removed2?i(a.filter((function(n){return n!==e._id}))):r(Number(t)-Number(w))},children:Object(v.jsx)("i",{className:"fas fa-trash"})})]})]})]})},O=t(9),y=t.n(O),k=t(2),C=t(14),z=t(13),N=t.n(z),E=function(n){return function(){var e=Object(C.a)(y.a.mark((function e(t,r){var c,i,a,o,s,l,d,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"CHECK_PRODUCTS_REQUEST"}),c=N.a.CancelToken,i=c.source(),a={headers:{Content_Type:"application/json",Authorization:"Bearer ".concat(n)},cancelToken:i.token},o=r().cart.cartItems,s=o.map((function(n){return n._id})),e.next=9,N.a.post("/api/products/check",{products:s},a);case 9:l=e.sent,d=l.data,m=d.products.map((function(n){return Object(k.a)(Object(k.a)({},n),{},{qty:n._id?Math.min(Math.min(o.find((function(e){return e._id===n._id})).qty,n.qtyPerUser),n.countInStock):0,removed:!!d.soldOut.find((function(e){return e===n._id}))||null})})),t({type:"CHECK_PRODUCTS_SUCCESS",payload:{check:{soldOut:d.soldOut,removed:d.removed},products:m}}),localStorage.setItem("sickCartProducts",JSON.stringify(m)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),t({type:"CHECK_PRODUCTS_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(n,t){return e.apply(this,arguments)}}()},S=t(36),I=l.b.div(c||(c=Object(i.a)(["\n  .mobileLi {\n    display: none;\n  }\n  #disabled {\n    pointer-events: none !important;\n    filter: grayscale(1);\n  }\n  .providedLoader {\n    align-self: center;\n    padding-top: 0.5rem;\n  }\n  .message {\n    margin-top: 0.5rem;\n  }\n  width: 90%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  .goBackBtn {\n    margin-top: 0.7rem;\n  }\n  .title {\n    margin-top: 0.7rem;\n    color: #1a1a1a;\n    font-weight: 500;\n    font-size: calc(1.5rem + 1vw);\n    margin-bottom: 0.5rem;\n    width: 60%;\n  }\n  .products {\n    display: flex;\n    flex-direction: column;\n  }\n  .subtotal-mobile {\n    width: 100%;\n    display: none;\n    align-items: center;\n    justify-content: space-between;\n\n    h3,\n    h4 {\n      color: #1a1a1a;\n    }\n    h3 {\n      font-weight: 400;\n      font-size: calc(1.05rem + 0.3vw);\n    }\n    h4 {\n      font-weight: 400;\n      margin: 0.5rem 0;\n      font-size: calc(1.05rem + 0.3vw);\n      .currency {\n        margin-left: 0.15rem;\n        display: inline-block;\n        font-size: calc(0.8rem + 0.4vw);\n      }\n    }\n  }\n  li {\n    opacity: 0.8;\n    margin-bottom: 0.5rem;\n    padding-bottom: calc(0.25rem + 0.3vw);\n    border: 1px solid #00000012;\n    border-radius: 5px;\n    padding: 0.6rem 0.8rem;\n    list-style: none;\n    font-size: calc(0.7rem + 0.3vw);\n  }\n\n  .removeMargin {\n    list-style-type: none;\n    margin-bottom: 0;\n    border: unset;\n    padding: 0 !important;\n    height: calc(0.25rem + 0.3vw);\n  }\n  .table-total {\n    flex-grow: 1;\n    display: flex;\n    justify-content: flex-end;\n    .container {\n      border: 1px solid rgba(0, 0, 0, 12.5%);\n      align-self: flex-start;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: flex-start;\n      border-radius: 7px;\n      border: 1px solid rgba(0, 0, 0, 12.5%);\n      .subtotal {\n        border-bottom: 1px solid rgba(0, 0, 0, 12.5%);\n        padding: calc(1rem + 0.3vw);\n        padding-bottom: calc(0.25rem + 0.3vw);\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        li {\n          opacity: 0.8;\n          list-style: none;\n        }\n\n        h3,\n        h4 {\n          color: #1a1a1a;\n        }\n        h3 {\n          font-weight: 400;\n          font-size: calc(1.5rem + 0.3vw);\n        }\n        h4 {\n          font-weight: 200;\n          margin: 0.5rem 0;\n          font-size: calc(1.3rem + 0.3vw);\n          .currency {\n            display: inline-block;\n            font-size: calc(0.8rem + 0.4vw);\n            margin-left: 0.2rem;\n          }\n        }\n      }\n      .proceed-btn {\n        align-self: stretch;\n        cursor: pointer;\n        margin: calc(0.85rem + 0.3vw) calc(1rem + 0.3vw);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: calc(0.6rem + 0.1vw) calc(1.2rem + 0.1vw);\n        background: #00b2d8;\n        color: white;\n        border-radius: 7px;\n        h3 {\n          font-size: calc(1rem + 0.3vw);\n          font-weight: 400;\n        }\n      }\n    }\n  }\n  .proceed-btn-mobile {\n    margin-bottom: calc(0.25rem + 0.3vw);\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-self: stretch;\n    padding: calc(0.7rem + 0.1vw) calc(1.2rem + 0.1vw);\n    background: #00b2d8;\n    color: white;\n    border-radius: 7px;\n\n    display: none;\n    h3 {\n      font-size: calc(1.2rem + 0.3vw);\n      font-weight: 400;\n    }\n  }\n  .cart-container {\n    display: flex;\n    width: 100%;\n    gap: calc(1rem + 0.3vw);\n    margin-bottom: 0.5rem;\n  }\n  .removeAndQty {\n    display: flex;\n    justify-content: center;\n    align-items: stretch;\n  }\n  .removeBtn {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0 0.75rem;\n    background: rgba(26, 26, 26, 0.5);\n    color: white;\n    border-radius: 5px;\n    margin-left: 1rem;\n    cursor: pointer;\n    &:hover {\n      background: rgba(26, 26, 26, 0.6);\n    }\n  }\n  @media screen and (max-width: 1105px) {\n    .table-total {\n      .container {\n        .subtotal {\n          h3 {\n            font-size: calc(1.2rem + 0.3vw);\n          }\n          h4 {\n            font-size: calc(1.1rem + 0.3vw);\n          }\n        }\n        .proceed-btn {\n          h3 {\n            font-size: calc(0.8rem + 0.3vw);\n          }\n        }\n      }\n    }\n  }\n  @media screen and (max-width: 1050px) {\n    .mobileLi {\n      display: block;\n    }\n    .line {\n      border-radius: 1px;\n      width: 45%;\n      height: 2px;\n      background: rgba(0, 176, 216, 62%);\n      margin: 0.8rem auto;\n    }\n    .subtotal-mobile,\n    .proceed-btn-mobile {\n      display: flex;\n    }\n    .table-total {\n      display: none;\n    }\n    .title {\n      font-size: calc(1.5rem + 1vw) !important;\n      width: 100%;\n    }\n  }\n"])));e.default=function(n){var e=n.cartCount,t=n.setCartCount,r=Object(p.b)(),c=Object(p.c)((function(n){return n.cart})),i=c.cartItems,l=c.check,u=c.loadingCheck,f=c.checkError,b=c.checkProductsSuccess,g=Object(p.c)((function(n){return n.userInfo})).user,j=i.map((function(n){return n.removed?0:n.price*n.qty})),x=i.map((function(n){return n.removed?0:n.qty})),O=g.name?"/shipping":"/login?redirect=shipping",y=Object(s.useState)([]),k=Object(o.a)(y,2),C=k[0],z=k[1];return Object(s.useEffect)((function(){if(l){var n=[],e=[];i.forEach((function(t){n.push.apply(n,Object(a.a)(l.removed.filter((function(n){return n===t._id})))),e.push.apply(e,Object(a.a)(l.soldOut.filter((function(n){return n===t._id}))))})),z([].concat(n,e))}}),[l]),Object(s.useEffect)((function(){r(E(g.token))}),[]),Object(s.useEffect)((function(){b&&t(x.length?x.reduce((function(n,e){return n+e})):0)}),[b]),Object(v.jsxs)(I,{children:[Object(v.jsx)(m.a,{}),Object(v.jsx)("h1",{className:"title",children:"Shopping Cart"}),u&&Object(v.jsx)(S.a,{}),f&&Object(v.jsx)(d.a,{msg:f,type:"error"}),u||f?"":Object(v.jsxs)(v.Fragment,{children:[i.length>0&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"subtotal-mobile",children:[Object(v.jsxs)("h3",{children:["Subtotal (",x.reduce((function(n,e){return n+e}))," items):"]}),Object(v.jsxs)("h4",{children:[j.reduce((function(n,e){return n+e})).toFixed(2),Object(v.jsx)("span",{className:"currency",children:"EGP"})]})]}),j.reduce((function(n,e){return n+e}))>=2e3&&Object(v.jsx)("li",{className:"mobileLi",children:"Free Shipping is applied for carts above 2000EGP."}),j.reduce((function(n,e){return n+e}))<2e3&&Object(v.jsx)("li",{className:"removeMargin"}),Object(v.jsx)(h.Link,{id:"".concat(i.length-C.length<=0?"disabled":""),to:O,className:"proceed-btn-mobile",children:Object(v.jsx)("h3",{children:"Proceed to checkout"})}),Object(v.jsx)("div",{className:"line"})]}),Object(v.jsxs)("div",{className:"cart-container",children:[Object(v.jsx)("div",{className:"products",style:{flexGrow:"".concat(i.length?3:"unset")},children:i.length?i.map((function(n){return Object(v.jsx)(w,{check:l,product:n,cartCount:e,setCartCount:t,setRemovedProducts:z,removedProducts:C},n._id)})):Object(v.jsx)(d.a,{msg:"Your cart is empty"})}),0!==i.length&&Object(v.jsx)("div",{className:"table-total",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)("div",{className:"subtotal",children:[Object(v.jsxs)("h3",{children:["Subtotal (",x.reduce((function(n,e){return n+e}))," ","items)"]}),Object(v.jsxs)("h4",{children:[j.reduce((function(n,e){return n+e})).toFixed(2),Object(v.jsx)("span",{className:"currency",children:"EGP"})]}),j.reduce((function(n,e){return n+e}))>2e3&&Object(v.jsxs)("li",{children:["Free Shipping is applied",Object(v.jsx)("br",{}),"for carts above 2000EGP."]})]}),Object(v.jsx)(h.Link,{id:"".concat(i.length-C.length<=0?"disabled":""),to:O,className:"proceed-btn",children:Object(v.jsx)("h3",{children:"Proceed to checkout"})})]})})]})]})]})}}}]);
//# sourceMappingURL=14.ba2d4bba.chunk.js.map