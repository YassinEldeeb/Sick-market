{"version":3,"sources":["img/statistics.svg","img/cartD.svg","img/categories.svg","img/world.svg","img/products.svg","img/discounts.svg","img/employees.svg","img/customers.svg","img/chat.svg","img/emails.svg","img/home.svg","components/DashboardTab.js","actions/getDashboardUsers.js","actions/searchUser.js","img/gear.svg","components/userDashboard.js","components/DashboardError.js","img/searchIcon.svg","img/smallX.svg","actions/userActions.js","actions/canOrder.js","actions/canReview.js","actions/deleteUser.js","img/verified.svg","actions/editRank.js","pages/DashboardUserAction.js","actions/infiniteScrollUsers.js","actions/infiniteScrollSearchedUsers.js","components/confirmPopup.js","img/sort.svg","pages/DashboardCustomers.js","img/pen.svg","img/trash.svg","img/eyeSee.svg","components/ProductDashboard.js","actions/deleteProduct.js","components/DashboardInput.js","img/choose.svg","components/CropImg.js","pages/DashboardNewProduct.js","actions/addProduct.js","actions/editProduct.js","img/noImage.svg","components/EditCropImg.js","img/info.svg","pages/DashboardEditProduct.js","img/connect.svg","img/addIcon.svg","actions/searchProduct.js","actions/infiniteScrollProducts.js","actions/infiniteScrollSearchedProducts.js","pages/DashboardProducts.js","pages/Dashboard.js"],"names":["DashboardTab","memo","text","icon","providedClassName","location","useLocation","newUsers","useSelector","state","dashboardUsers","newProducts","productList","page","pathname","split","useEffect","console","log","Tab","to","toLowerCase","className","src","alt","pre","next","styled","Link","getDashboardUsersAction","filterValue","dispatch","getState","a","type","userInfo","cancelToken","axios","CancelToken","source","config","headers","Authorization","token","get","data","payload","response","message","searchDashboardUsersAction","search","post","StyledUser","motion","div","UserDashboard","user","useState","equal","nameValue","reactStringReplace","name","match","emailValue","email","actionLoading","userActions","loading","clicked","setClicked","ReactTooltip","rebuild","variants","popup","id","effect","delayHide","delayShow","data-for","data-tip","_id","substr","length","tiny","contWidth","width","height","loaderId","profilePicLink","format","parseISO","joinedIn","onClick","gear","StyledDashboard","DashboardError","error","history","useHistory","rank","localStorage","setItem","JSON","stringify","push","dashboardSearchUsers","users","sUsers","condition2","condition","targetUser","find","each","toString","payloadData","canOrderAction","value","canOrder","canReviewAction","canReview","deleteUserAction","delete","filter","count","StyledUserAction","DashboardUserAction","setRankValue","rankValue","lastLocation","useLastLocation","useDispatch","userActionsInfo","review","setReview","ordering","setOrdering","setTimeout","orderingLoading","orderingSuccess","success","reviewLoading","reviewSuccess","deleteUser","deleteLoading","deleteSuccess","deleteConfirm","confirm","editRank","rankLoading","rankSuccess","e","setE","e2","setE2","add","selectOpen","setSelectOpen","target","classList","contains","AnimatePresence","popup2","initial","animate","exit","status","verified","totalPaidOrders","viewBox","fill","xmlns","d","label","map","offColor","onColor","checked","onChange","reviewChange","orderChange","infiniteScrollUsersAction","skip","infiniteScrollSearchUsersAction","StyledCart","ConfirmPopup","action","resetValue","slidePopup","passedType","StyledOrders","DashboardCustomers","filterStoredValue","getItem","setFilterValue","changed","setChanged","setSkip","skip2","setSkip2","searchUser","searchedUsers","searchLoading","searchedCount","searchedError","infiniteLoading","end","searchValue","setSearchValue","isSearch","setIsSearch","lastLocationValue","lastSearch","setLastSearch","SearchDashboardCustomers","scrolled","setScrolled","container","document","querySelector","addEventListener","throttle","scrollTop","remove","cardCont","querySelectorAll","forEach","style","top","ref","reset","asking","deleteAsking","changeFilterHandler","innerText","openFilter","setOpenFilter","lastSearchValue","sortRef","useRef","handleClickOutside","event","current","removeEventListener","searches","qs","parse","ignoreQueryPrefix","useInView","element","inView","onSubmit","preventDefault","arrow","uuid","placeholder","smallX","hide","keyId","refElement","ProductDashboard","product","setClickedForDelete","actionsInfo","setDashboardScrollPosition","deleteProduct","newStock","countInStock","price","category","brand","span","realtimeStockCounter","baseURL","Object","keys","editURL","pen","view","eye","trash","products","searchedProducts","productSearch","StyledInput","Input","setValue","input","required","randomId","htmlFor","class","maxLength","props","CropImg","completedCrop","setCompletedCrop","previewCanvasRef","crop","setCrop","image","setImage","imageType","setImageType","formData","setFormData","imgRef","canvas","scaleX","naturalWidth","scaleY","naturalHeight","ctx","getContext","setTransform","imageSmoothingQuality","imageSmoothingEnabled","drawImage","x","y","window","cont","contDiv","motionCont","show","transformTemplate","popup3","onImageLoaded","img","newCrop","onComplete","c","accept","onDrop","file","reader","FileReader","result","readAsDataURL","uploadFileHandler","over","overDocument","FormData","aspect","unit","toBlob","blob","append","DashboardNewProduct","freeShipping","setFreeShipping","scrollableContent","setScrollableContent","firstChild","thirdChild","display","setName","setPrice","oldPrice","setOldPrice","setBrand","stock","setStock","setCategory","description","setDescription","qtyPerUser","setQtyPerUser","newLoading","newError","scroll","left","behavior","returnHandler","hide5","xSign","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","renderView","productData","dataObj","button","Product","numReviews","editProduct","patch","finalArr","EditCropImg","noImage","setNoImage","productImg","DashboardEditProduct","dashboardProduct","editError","loaded","setLoaded","scrollbarThumb","editLoading","editSuccess","setAddedImage","addedImage","openInfo","setOpenInfo","DashboardProductDetailAction","editProductHandler","onLoad","info","popupLeft","ul","li","layout","toFixed","createdAt","lastUpdated","edit","searchProducts","infiniteScrollProducts","filterType","StyledDashboardProducts","DashboardProducts","dashboardScrollPosition","scrollRef","size","obj","key","hasOwnProperty","filtering","productListAction","overflowY","animCondition","clickedForDelete","sortValueFromSearch","sortTypeFromSearch","charAt","toUpperCase","slice","sortValue","setSortValue","sortType","setSortType","sortValues","sortValueTypes","setSortValueTypes","openType","setOpenType","openValue","setOpenValue","changedValue","setChangedValue","useOutsideAlerter","filterRef","valueRef","typeRef","cardScrolled","setCardScrolled","cardScrolled2","setCardScrolled2","actionsInfoStorage","setActionsInfo","filterHandler","capitalizeFirstLetter","string","acutalSortType","brandValue","categoryValue","setData","socket","on","infiniteScrollProductsSearched","clip-path","sort","connect","main","i","statistics","orders","categories","GeoMap","Products","discounts","employees","customers","communicate","chat","emails","Dashboard","content","dashboardTabs","home","marginWidth","marginHeight","path","Meta","ogTitle","title"],"mappings":"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","file":"static/js/7.8f3c26f9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/statistics.c19a0be9.svg\";","export default __webpack_public_path__ + \"static/media/cartD.1554d025.svg\";","export default __webpack_public_path__ + \"static/media/categories.e3002796.svg\";","export default __webpack_public_path__ + \"static/media/world.3d5c2a78.svg\";","export default __webpack_public_path__ + \"static/media/products.9e7d8d15.svg\";","export default __webpack_public_path__ + \"static/media/discounts.803e76ca.svg\";","export default __webpack_public_path__ + \"static/media/employees.a3b753a1.svg\";","export default __webpack_public_path__ + \"static/media/customers.32d75ac5.svg\";","export default __webpack_public_path__ + \"static/media/chat.4ed27a96.svg\";","export default __webpack_public_path__ + \"static/media/emails.9a1baab5.svg\";","export default __webpack_public_path__ + \"static/media/home.dd88a8c4.svg\";","import React, { memo } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\nimport { useEffect } from 'react'\r\n\r\nconst DashboardTab = memo(\r\n  ({ text, icon, providedClassName }) => {\r\n    const location = useLocation()\r\n    const { newUsers } = useSelector((state) => state.dashboardUsers)\r\n    const { newProducts } = useSelector((state) => state.productList)\r\n    const page = location.pathname.split('/')[2]\r\n\r\n    useEffect(() => {\r\n      console.log('Tab is Rendered!')\r\n    }, [])\r\n    return (\r\n      <Tab\r\n        to={providedClassName ? '/' : `/dashboard/${text.toLowerCase()}`}\r\n        className={`${page === text.toLowerCase() ? 'active' : ''} ${\r\n          providedClassName ? providedClassName : ''\r\n        }`}\r\n      >\r\n        <img src={icon} alt='icon' />\r\n        <h4>{text}</h4>\r\n        {text === 'Customers' && newUsers > 0 && (\r\n          <h6 className='counter'>{newUsers}</h6>\r\n        )}\r\n        {text === 'Products' && newProducts > 0 && (\r\n          <h6 className='counter'>{newProducts}</h6>\r\n        )}\r\n      </Tab>\r\n    )\r\n  },\r\n  (pre, next) => {\r\n    if (pre.text !== next.text) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n)\r\n\r\nconst Tab = styled(Link)`\r\n  .counter {\r\n    position: absolute;\r\n    right: 0%;\r\n    top: 50%;\r\n    background: #2fa3e3;\r\n    padding: 0.3rem;\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    border-radius: 50%;\r\n    font-size: 0.7rem;\r\n    font-weight: 500;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  padding: calc(0.5rem + 0.3vw) calc(2.25rem + 0.3vw);\r\n  padding-right: calc(6rem + 0.3vw);\r\n  border-top-right-radius: 10px;\r\n  border-bottom-right-radius: 10px;\r\n  cursor: pointer;\r\n  margin: 0.2rem 0;\r\n  width: 89%;\r\n  &.active {\r\n    background: #3e3f6f;\r\n  }\r\n  img {\r\n    width: 26px;\r\n    height: 26px;\r\n  }\r\n  transition: 0.2s ease;\r\n  &:not(.active):hover {\r\n    background: rgba(62, 63, 111, 0.3);\r\n  }\r\n  h4 {\r\n    font-weight: 500;\r\n    padding-left: 0.6rem;\r\n    font-size: calc(0.85rem + 0.3vw);\r\n  }\r\n  &:last-child {\r\n    padding-bottom: calc(1.3rem + 0.3vw);\r\n  }\r\n`\r\n\r\nexport default DashboardTab\r\n","import axios from 'axios'\r\n\r\nconst getDashboardUsersAction = (filterValue) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: 'GET_DASHBOARD_USERS_REQUEST',\r\n    })\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n    const { data } = await axios.get(\r\n      `/api/users?limit=10&sort=${\r\n        filterValue === 'top paid' ? 'topPaid' : filterValue\r\n      }`,\r\n      config\r\n    )\r\n    dispatch({\r\n      type: 'GET_DASHBOARD_USERS_SUCCESS',\r\n      payload: data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'GET_DASHBOARD_USERS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\nexport default getDashboardUsersAction\r\n","import axios from 'axios'\r\n\r\nconst searchDashboardUsersAction = (search) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: 'SEARCH_DASHBOARD_USERS_REQUEST',\r\n    })\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n    const { data } = await axios.post(\r\n      '/api/users/search?limit=10',\r\n      { search },\r\n      config\r\n    )\r\n    dispatch({\r\n      type: 'SEARCH_DASHBOARD_USERS_SUCCESS',\r\n      payload: data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'SEARCH_DASHBOARD_USERS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\nexport default searchDashboardUsersAction\r\n","export default __webpack_public_path__ + \"static/media/gear.38f05504.svg\";","import React, { useEffect, useRef, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { parseISO, format } from 'date-fns'\r\nimport gear from '../img/gear.svg'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { motion } from 'framer-motion'\r\nimport { popup } from '../animations'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport reactStringReplace from 'react-string-replace'\r\nimport Loader from '../components/loader'\r\nimport { useSelector } from 'react-redux'\r\nimport SmoothImg from '../components/smoothImgLoading'\r\n\r\nconst UserDashboard = ({ user }) => {\r\n  const location = useLocation()\r\n  const [equal] = useState(\r\n    location.search.split('=')[1] ? location.search.split('=')[1] : false\r\n  )\r\n\r\n  const imgSrcCondition = () => {\r\n    if (user.profilePicLink && user.profilePicLink !== 'cleared') {\r\n      return user.profilePicLink\r\n    } else {\r\n      return `/api/users/profilePic/${user._id}`\r\n    }\r\n  }\r\n\r\n  const nameValue = equal\r\n    ? reactStringReplace(user.name, equal, (match) => (\r\n        <span className='highlightSearch'>{match}</span>\r\n      ))\r\n    : user.name\r\n  const emailValue = equal\r\n    ? reactStringReplace(user.email, equal, (match) => (\r\n        <span className='highlightSearch'>{match}</span>\r\n      ))\r\n    : user.email\r\n  const { loading: actionLoading } = useSelector((state) => state.userActions)\r\n  const [clicked, setClicked] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (!actionLoading) {\r\n      setClicked(false)\r\n    }\r\n  }, [actionLoading])\r\n\r\n  useEffect(() => {\r\n    ReactTooltip.rebuild()\r\n  }, [])\r\n  return (\r\n    <StyledUser variants={popup}>\r\n      <ReactTooltip\r\n        id='user-tooltip'\r\n        effect='solid'\r\n        delayHide={100}\r\n        delayShow={400}\r\n      />\r\n      <div className='id'>\r\n        <p data-for='user-tooltip' data-tip={'#' + user._id}>\r\n          #{user._id.substr(user._id.length - 4)}\r\n        </p>\r\n      </div>\r\n      <div className='name'>\r\n        <SmoothImg\r\n          providedClassName='profileImgContLazy'\r\n          tiny={`/api/users/profilePic/tiny/${user._id}`}\r\n          contWidth={`max-content`}\r\n          width={'100%'}\r\n          height={'100%'}\r\n          loaderId='loaderImg'\r\n          providedClassName='pic'\r\n          src={imgSrcCondition()}\r\n          alt=''\r\n        />\r\n        <p data-for='user-tooltip' data-tip={user.name}>\r\n          {nameValue}\r\n        </p>\r\n      </div>\r\n      <div className='email'>\r\n        <p data-for='user-tooltip' data-tip={user.email}>\r\n          {emailValue}\r\n        </p>\r\n      </div>\r\n      <div className='joinedIn'>\r\n        <p\r\n          data-for='user-tooltip'\r\n          data-tip={format(parseISO(user.joinedIn), 'yyyy-MM-dd')}\r\n        >\r\n          {format(parseISO(user.joinedIn), 'yyyy-MM-dd')}\r\n        </p>\r\n      </div>\r\n      <div className='gearCont'>\r\n        <Link\r\n          to={`/dashboard/customers/${user._id}`}\r\n          onClick={() => setClicked(true)}\r\n          className='gear'\r\n        >\r\n          {actionLoading && clicked ? (\r\n            <Loader />\r\n          ) : (\r\n            <img className='gearImg' src={gear} alt='' />\r\n          )}\r\n        </Link>\r\n      </div>\r\n    </StyledUser>\r\n  )\r\n}\r\n\r\nconst StyledUser = styled(motion.div)`\r\n  .pic {\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    min-width: 50px !important;\r\n  }\r\n\r\n  #loaderImg {\r\n    border-radius: 50%;\r\n    height: 50px !important;\r\n    width: 50px !important;\r\n  }\r\n  .providedLoader {\r\n    #greybackground path {\r\n      stroke: white !important;\r\n    }\r\n  }\r\n  #loader {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n  .highlightSearch {\r\n    background: #232647a1;\r\n  }\r\n  .__react_component_tooltip {\r\n    background: #1e203e;\r\n    border-radius: 5px;\r\n    &::after {\r\n      border-top-color: #1e203e !important;\r\n    }\r\n  }\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  background: #373864;\r\n  padding: 0.65rem 2.1rem;\r\n  margin-bottom: 1rem;\r\n  &:last-child {\r\n    margin-bottom: 1rem;\r\n  }\r\n  border-radius: 10px;\r\n  overflow-x: auto;\r\n  width: 100%;\r\n  .name {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    min-width: 23%;\r\n    p {\r\n      color: white !important;\r\n      margin-left: 0.7rem;\r\n    }\r\n  }\r\n  .gearCont {\r\n    min-width: 6%;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n  }\r\n  .gear {\r\n    padding: 0.65rem;\r\n    border-radius: 10px;\r\n    background: rgba(254, 254, 254, 0.1);\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    position: relative;\r\n\r\n    &:hover {\r\n      background: rgba(254, 254, 254, 0.07);\r\n    }\r\n  }\r\n  .id,\r\n  .email,\r\n  .joinedIn,\r\n  .name,\r\n  .gear {\r\n    padding-right: 3vw;\r\n    display: flex;\r\n  }\r\n  .gear {\r\n    padding-right: 0.65rem !important;\r\n  }\r\n  .gearImg {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n  .id,\r\n  .email,\r\n  .joinedIn,\r\n  .name {\r\n    p {\r\n      color: white !important;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n  .id {\r\n    min-width: 12%;\r\n  }\r\n  .email {\r\n    min-width: 39%;\r\n  }\r\n  .joinedIn {\r\n    min-width: 20%;\r\n  }\r\n  .gear {\r\n    margin-right: 0;\r\n  }\r\n  .name {\r\n    p {\r\n      width: max-content;\r\n    }\r\n  }\r\n  .email {\r\n    p {\r\n      width: max-content;\r\n    }\r\n  }\r\n  img {\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n  }\r\n`\r\n\r\nexport default UserDashboard\r\n","import React, { useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useSelector } from \"react-redux\"\r\n\r\nconst DashboardError = ({ error }) => {\r\n  const userInfo = useSelector((state) => state.userInfo)\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    if (error === \"Not an Admin!\") {\r\n      userInfo.user.rank = \"user\"\r\n      localStorage.setItem(\"sickUserInfo\", JSON.stringify(userInfo))\r\n      history.push(\"/\")\r\n    }\r\n  }, [error])\r\n  return (\r\n    <StyledDashboard>\r\n      <p className='error'>{error}</p>\r\n    </StyledDashboard>\r\n  )\r\n}\r\n\r\nconst StyledDashboard = styled.div`\r\n  padding: 1rem;\r\n  background: rgba(250, 111, 98, 0.4);\r\n  border-radius: 12px;\r\n  border-bottom-left-radius: 0;\r\n  width: max-content;\r\n  max-width: 60%;\r\n  margin-bottom: 0.5rem;\r\n  p.error {\r\n    font-weight: 500;\r\n    color: rgba(255, 255, 255, 0.9) !important;\r\n  }\r\n`\r\n\r\nexport default DashboardError\r\n","export default __webpack_public_path__ + \"static/media/searchIcon.f6c87065.svg\";","export default __webpack_public_path__ + \"static/media/smallX.fcb8076b.svg\";","import axios from 'axios'\r\n\r\nconst userActions = (id, search) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: 'USERS_ACTIONS_REQUEST',\r\n    })\r\n\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const { dashboardUsers } = getState((state) => state.dashboardUsers)\r\n    const { dashboardSearchUsers } = getState(\r\n      (state) => state.dashboardSearchUsers\r\n    )\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const users = dashboardUsers.users\r\n    const sUsers = dashboardSearchUsers.users\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    let targetUser\r\n    const condition = () => {\r\n      if (!search && users) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    const condition2 = () => {\r\n      if (search && sUsers) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    if (condition()) {\r\n      targetUser = users.find((each) => each._id.toString() === id.toString())\r\n    } else if (condition2()) {\r\n      targetUser = sUsers.find((each) => each._id.toString() === id.toString())\r\n    }\r\n    let payloadData\r\n    if (!targetUser) {\r\n      const { data } = await axios.get(`/api/users/${id}`, config)\r\n      payloadData = data\r\n    } else {\r\n      payloadData = targetUser\r\n    }\r\n\r\n    dispatch({\r\n      type: 'USERS_ACTIONS_SUCCESS',\r\n      payload: payloadData,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'USERS_ACTIONS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default userActions\r\n","import axios from \"axios\"\r\n\r\nconst canOrderAction = (id, value, search) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: \"CAN_ORDER_REQUEST\",\r\n    })\r\n\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const { dashboardUsers } = getState((state) => state.dashboardUsers)\r\n    const { dashboardSearchUsers } = getState(\r\n      (state) => state.dashboardSearchUsers\r\n    )\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const users = dashboardUsers.users\r\n\r\n    const sUsers = dashboardSearchUsers.users\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    let targetUser\r\n    const condition = () => {\r\n      if (!search && users) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    const condition2 = () => {\r\n      if (search && sUsers) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    if (condition()) {\r\n      targetUser = users.find((each) => each._id.toString() === id.toString())\r\n    } else if (condition2()) {\r\n      targetUser = sUsers.find((each) => each._id.toString() === id.toString())\r\n    }\r\n\r\n    await axios.post(`/api/users/canOrder/${id}`, { canOrder: value }, config)\r\n    if (targetUser) targetUser.canOrder = value\r\n\r\n    dispatch({\r\n      type: \"CAN_ORDER_SUCCESS\",\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: \"CAN_ORDER_FAIL\",\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default canOrderAction\r\n","import axios from \"axios\"\r\n\r\nconst canReviewAction = (id, value, search) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: \"CAN_REVIEW_REQUEST\",\r\n    })\r\n\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const { dashboardUsers } = getState((state) => state.dashboardUsers)\r\n    const { dashboardSearchUsers } = getState(\r\n      (state) => state.dashboardSearchUsers\r\n    )\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const users = dashboardUsers.users\r\n\r\n    const sUsers = dashboardSearchUsers.users\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    let targetUser\r\n    const condition = () => {\r\n      if (!search && users) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    const condition2 = () => {\r\n      if (search && sUsers) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    if (condition()) {\r\n      targetUser = users.find((each) => each._id.toString() === id.toString())\r\n    } else if (condition2()) {\r\n      targetUser = sUsers.find((each) => each._id.toString() === id.toString())\r\n    }\r\n\r\n    await axios.post(`/api/users/canReview/${id}`, { canReview: value }, config)\r\n    if (targetUser) targetUser.canReview = value\r\n\r\n    dispatch({\r\n      type: \"CAN_REVIEW_SUCCESS\",\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: \"CAN_REVIEW_FAIL\",\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default canReviewAction\r\n","import axios from \"axios\"\r\n\r\nconst deleteUserAction = (id, search) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: \"DELETE_USER_REQUEST\",\r\n    })\r\n\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const { dashboardUsers } = getState((state) => state.dashboardUsers)\r\n    const { dashboardSearchUsers } = getState(\r\n      (state) => state.dashboardSearchUsers\r\n    )\r\n\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const users = dashboardUsers\r\n\r\n    const sUsers = dashboardSearchUsers.users\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    const condition = () => {\r\n      if (!search && users.users) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    const condition2 = () => {\r\n      if (search && sUsers) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    await axios.delete(`/api/users/${id}`, config)\r\n\r\n    if (condition()) {\r\n      users.users = users.users.filter(\r\n        (each) => each._id.toString() !== id.toString()\r\n      )\r\n      users.count -= 1\r\n    } else if (condition2()) {\r\n      dashboardSearchUsers.users = sUsers.filter(\r\n        (each) => each._id.toString() !== id.toString()\r\n      )\r\n      dashboardSearchUsers.count -= 1\r\n    }\r\n\r\n    dispatch({\r\n      type: \"DELETE_USER_SUCCESS\",\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: \"DELETE_USER_FAIL\",\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default deleteUserAction\r\n","export default __webpack_public_path__ + \"static/media/verified.8d3d4f16.svg\";","import axios from \"axios\"\r\n\r\nconst deleteUserAction = (id, value, search) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: \"EDIT_RANK_REQUEST\",\r\n    })\r\n\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const { dashboardUsers } = getState((state) => state.dashboardUsers)\r\n    const { dashboardSearchUsers } = getState(\r\n      (state) => state.dashboardSearchUsers\r\n    )\r\n\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const users = dashboardUsers\r\n\r\n    const sUsers = dashboardSearchUsers.users\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    const condition = () => {\r\n      if (!search && users.users) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    const condition2 = () => {\r\n      if (search && sUsers) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    await axios.post(`/api/users/${id}/rank`, { rank: value }, config)\r\n\r\n    if (condition()) {\r\n      users.users = users.users.filter(\r\n        (each) => each._id.toString() !== id.toString()\r\n      )\r\n      users.count -= 1\r\n    } else if (condition2()) {\r\n      dashboardSearchUsers.users = sUsers.filter(\r\n        (each) => each._id.toString() !== id.toString()\r\n      )\r\n      dashboardSearchUsers.count -= 1\r\n    }\r\n\r\n    dispatch({\r\n      type: \"EDIT_RANK_SUCCESS\",\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: \"EDIT_RANK_FAIL\",\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default deleteUserAction\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport DashboardError from '../components/DashboardError'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport userActions from '../actions/userActions'\r\nimport { parseISO, format } from 'date-fns'\r\nimport Switch from 'react-switch'\r\nimport { useLastLocation } from 'react-router-last-location'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { popup2 } from '../animations'\r\nimport canOrderAction from '../actions/canOrder'\r\nimport canReviewAction from '../actions/canReview'\r\nimport deleteUserAction from '../actions/deleteUser'\r\nimport Loader from '../components/loader'\r\nimport verified from '../img/verified.svg'\r\nimport editRank from '../actions/editRank'\r\n\r\nconst DashboardUserAction = ({ setRankValue, rankValue }) => {\r\n  const lastLocation = useLastLocation()\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n  const { user, loading, error } = useSelector((state) => state.userActions)\r\n  const userActionsInfo = useSelector((state) => state.userActions)\r\n\r\n  const [review, setReview] = useState(true)\r\n  const [ordering, setOrdering] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.split('/')[3]) {\r\n      dispatch(\r\n        userActions(\r\n          location.pathname.split('/')[3],\r\n          lastLocation ? lastLocation.search.split('=')[1] : true\r\n        )\r\n      )\r\n    }\r\n    setClicked(true)\r\n    if (userActionsInfo.user) {\r\n      userActionsInfo.user = null\r\n      userActionsInfo.loading = true\r\n    }\r\n    if (error) {\r\n      userActionsInfo.error = null\r\n    }\r\n    setTimeout(() => {\r\n      setClicked(false)\r\n    }, 300)\r\n  }, [location.pathname])\r\n\r\n  const imgSrcCondition = () => {\r\n    if (user.profilePicLink && user.profilePicLink !== 'cleared') {\r\n      return user.profilePicLink\r\n    } else {\r\n      return `/api/users/profilePic/${user._id}`\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setReview(user.canReview)\r\n      setOrdering(user.canOrder)\r\n      setRankValue(user.rank)\r\n    }\r\n  }, [user])\r\n  const history = useHistory()\r\n\r\n  const [clicked, setClicked] = useState(false)\r\n\r\n  const reviewChange = (e) => {\r\n    dispatch(\r\n      canReviewAction(\r\n        location.pathname.split('/')[3],\r\n        e,\r\n        location.search.split('=')[1]\r\n      )\r\n    )\r\n  }\r\n  const orderChange = (e) => {\r\n    dispatch(\r\n      canOrderAction(\r\n        location.pathname.split('/')[3],\r\n        e,\r\n        location.search.split('=')[1]\r\n      )\r\n    )\r\n  }\r\n\r\n  const deleteHandler = () => {\r\n    dispatch({\r\n      type: 'CONFIRM_DELETE_REQUEST',\r\n    })\r\n  }\r\n\r\n  const { loading: orderingLoading, success: orderingSuccess } = useSelector(\r\n    (state) => state.canOrder\r\n  )\r\n  const { loading: reviewLoading, success: reviewSuccess } = useSelector(\r\n    (state) => state.canReview\r\n  )\r\n  const {\r\n    loading: deleteLoading,\r\n    success: deleteSuccess,\r\n    confirm: deleteConfirm,\r\n  } = useSelector((state) => state.deleteUser)\r\n  const { loading: rankLoading, success: rankSuccess, confirm } = useSelector(\r\n    (state) => state.editRank\r\n  )\r\n  const [e, setE] = useState(true)\r\n  const [e2, setE2] = useState(true)\r\n\r\n  useEffect(() => {\r\n    if (!orderingLoading && orderingSuccess) {\r\n      setOrdering(e2)\r\n    }\r\n  }, [orderingLoading, orderingSuccess])\r\n  useEffect(() => {\r\n    if (!reviewLoading && reviewSuccess) {\r\n      setReview(e)\r\n    }\r\n  }, [reviewLoading, reviewSuccess])\r\n\r\n  useEffect(() => {\r\n    if (deleteSuccess) {\r\n      if (lastLocation.search) {\r\n        const add = lastLocation.search.split('=')[1]\r\n        history.push(lastLocation.pathname + '?search=' + add)\r\n      } else {\r\n        history.push('/dashboard/customers')\r\n      }\r\n    }\r\n  }, [deleteSuccess])\r\n  useEffect(() => {\r\n    if (rankSuccess) {\r\n      if (lastLocation.search) {\r\n        const add = lastLocation.search.split('=')[1]\r\n        history.push(lastLocation.pathname + '?search=' + add)\r\n      } else {\r\n        history.push('/dashboard/customers')\r\n      }\r\n    }\r\n  }, [rankSuccess])\r\n\r\n  const options = [\r\n    { value: 'admin', label: 'admin' },\r\n    { value: 'delivery', label: 'delivery' },\r\n  ]\r\n\r\n  const [selectOpen, setSelectOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (selectOpen) setSelectOpen(false)\r\n  }, [location.pathname])\r\n\r\n  useEffect(() => {\r\n    if (confirm) {\r\n      dispatch(\r\n        editRank(\r\n          location.pathname.split('/')[3],\r\n          rankValue,\r\n          lastLocation.search.split('=')[1]\r\n        )\r\n      )\r\n    }\r\n  }, [confirm])\r\n\r\n  useEffect(() => {\r\n    if (deleteConfirm) {\r\n      dispatch(\r\n        deleteUserAction(\r\n          location.pathname.split('/')[3],\r\n          lastLocation.search.split('=')[1]\r\n        )\r\n      )\r\n    }\r\n  }, [deleteConfirm])\r\n\r\n  return (\r\n    <StyledUserAction\r\n      className='cardCont'\r\n      id={`${user ? 'active' : ''}`}\r\n      onClick={(e) => {\r\n        if (e.target.classList.contains('cardCont') && !clicked) {\r\n          history.push(lastLocation ? lastLocation : '/dashboard/customers')\r\n        }\r\n      }}\r\n    >\r\n      <AnimatePresence>\r\n        {error && <DashboardError error={error} />}\r\n        {!loading && user && location.pathname.split('/')[3] && (\r\n          <motion.div\r\n            variants={popup2}\r\n            initial='hidden'\r\n            animate='show'\r\n            exit='exit'\r\n            className='card'\r\n          >\r\n            <>\r\n              <div className='info'>\r\n                <img className='profilePic' src={imgSrcCondition()} />\r\n                <div className='desc'>\r\n                  <div className='descCont'>\r\n                    <h1>\r\n                      <p className='email'>\r\n                        {user.email}{' '}\r\n                        {user.status === 'Verified' && (\r\n                          <img id='verified' src={verified} alt='' />\r\n                        )}\r\n                      </p>\r\n                      {user.name}\r\n                    </h1>\r\n                    <p className='date'>\r\n                      {format(parseISO(user.joinedIn), 'yyyy-MM-dd')}\r\n                    </p>\r\n                  </div>\r\n                  <p>\r\n                    Paid: {user.totalPaidOrders} <span>EGP</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className='actions'>\r\n                <p>Actions</p>\r\n                <div className='line'></div>\r\n              </div>\r\n              <div className='allow allow1'>\r\n                <h2>Edit Rank</h2>\r\n                <div\r\n                  className='select'\r\n                  onClick={() => setSelectOpen(!selectOpen)}\r\n                >\r\n                  <p className='value'>{rankValue}</p>\r\n                  {rankLoading ? (\r\n                    <Loader />\r\n                  ) : (\r\n                    <svg\r\n                      className={`${selectOpen ? 'active' : ''}`}\r\n                      width='20'\r\n                      height='20'\r\n                      viewBox='0 0 20 20'\r\n                      fill='none'\r\n                      xmlns='http://www.w3.org/2000/svg'\r\n                    >\r\n                      <path\r\n                        d='M4.51605 7.548C4.95205 7.102 5.55905 7.067 6.09205 7.548L10.0001 11.295L13.9081 7.548C14.4411 7.067 15.0491 7.102 15.4821 7.548C15.9181 7.993 15.8901 8.745 15.4821 9.163C15.0761 9.581 10.787 13.665 10.787 13.665C10.57 13.888 10.2851 14 10.0001 14C9.71505 14 9.43005 13.888 9.21105 13.665C9.21105 13.665 4.92405 9.581 4.51605 9.163C4.10805 8.745 4.08005 7.993 4.51605 7.548V7.548Z'\r\n                        fill='white'\r\n                      />\r\n                    </svg>\r\n                  )}\r\n                  {selectOpen && (\r\n                    <div className='dropDown'>\r\n                      {options.map((e) => (\r\n                        <p\r\n                          onClick={() => {\r\n                            setRankValue(e.value)\r\n                            dispatch({\r\n                              type: 'CONFIRM_RANK_REQUEST',\r\n                            })\r\n                          }}\r\n                        >\r\n                          {e.value}\r\n                        </p>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className='allow allow2'>\r\n                <h2>Allow Reviewing Products</h2>\r\n                <Switch\r\n                  className={`${reviewLoading ? 'loading' : ''}`}\r\n                  offColor='#FF6969'\r\n                  onColor='#24CA84'\r\n                  checked={review}\r\n                  onChange={(e) => {\r\n                    reviewChange(e)\r\n                    setE(e)\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className='allow allow3'>\r\n                <h2>Allow Ordering Products</h2>\r\n                <Switch\r\n                  className={`${orderingLoading ? 'loading' : ''}`}\r\n                  offColor='#FF6969'\r\n                  onColor='#24CA84'\r\n                  checked={ordering}\r\n                  onChange={(e) => {\r\n                    orderChange(e)\r\n                    setE2(e)\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className='btnCont'>\r\n                <button\r\n                  id={`${deleteLoading ? 'deleting' : ''}`}\r\n                  onClick={() => {\r\n                    if (!deleteLoading) {\r\n                      deleteHandler()\r\n                    }\r\n                  }}\r\n                >\r\n                  Delete Account{deleteLoading && <Loader />}\r\n                </button>\r\n              </div>\r\n            </>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </StyledUserAction>\r\n  )\r\n}\r\n\r\nconst StyledUserAction = styled(motion.div)`\r\n  #deleting {\r\n    cursor: not-allowed !important;\r\n  }\r\n  svg.active {\r\n    transform: rotate(180deg) !important;\r\n  }\r\n  .select {\r\n    position: relative;\r\n    padding: 0.45rem 0.7rem;\r\n    background: #2e2e53;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    svg {\r\n      margin-left: 0.4rem;\r\n    }\r\n    #loader:first-child {\r\n      width: calc(0.65rem + 0.5vw) !important;\r\n      height: calc(0.65rem + 0.5vw) !important;\r\n      margin-left: 0.45rem !important;\r\n      #greybackground path {\r\n        stroke: white !important;\r\n      }\r\n    }\r\n    .value {\r\n      color: rgba(255, 255, 255, 0.9) !important;\r\n      font-size: calc(0.8rem + 0.3vw);\r\n      -webkit-touch-callout: none;\r\n      -webkit-user-select: none;\r\n      -khtml-user-select: none;\r\n      -moz-user-select: none;\r\n      -ms-user-select: none;\r\n      user-select: none;\r\n    }\r\n  }\r\n  .select .dropDown {\r\n    box-shadow: 0 0 10px rgba(46, 46, 83, 0.7);\r\n\r\n    background: #2e2e53;\r\n    z-index: 2;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    min-width: max-content;\r\n    height: max-content;\r\n    transform: translate(0, 105%);\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    padding: 0.3rem;\r\n    cursor: auto;\r\n\r\n    p {\r\n      color: rgba(255, 255, 255, 0.78) !important;\r\n      padding: 0.38rem 0.5rem !important;\r\n      transition: 0.2s ease;\r\n      font-size: calc(0.7rem + 0.3vw);\r\n      border-radius: 5px;\r\n      margin: 0.25rem 0;\r\n      cursor: pointer;\r\n      padding-right: 0.7rem !important;\r\n      -webkit-touch-callout: none;\r\n      -webkit-user-select: none;\r\n      -khtml-user-select: none;\r\n      -moz-user-select: none;\r\n      -ms-user-select: none;\r\n      user-select: none;\r\n      &:last-child {\r\n        margin-bottom: 0 !important;\r\n      }\r\n      &:first-child {\r\n        margin-top: 0 !important;\r\n      }\r\n      &:hover {\r\n        background: #33335e;\r\n      }\r\n    }\r\n  }\r\n  #verified {\r\n    width: 15px !important;\r\n    height: 15px !important;\r\n  }\r\n  .react-switch-bg {\r\n    transition: filter 0.2s ease !important;\r\n  }\r\n  .loading .react-switch-bg {\r\n    filter: grayscale(0.5);\r\n    pointer-events: none;\r\n  }\r\n  .loading .react-switch-handle {\r\n    pointer-events: none;\r\n  }\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 0;\r\n  transform: translate(-50%, 0%);\r\n  cursor: pointer;\r\n  pointer-events: none;\r\n\r\n  &#active {\r\n    background: rgba(29, 33, 62, 0.6);\r\n    pointer-events: all;\r\n  }\r\n  .btnCont {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-top: calc(2rem + 0.3vh);\r\n  }\r\n  button {\r\n    background: #ff6969;\r\n    border-radius: 10px;\r\n    color: white;\r\n    padding: 0.6rem 1rem;\r\n    border: none;\r\n    font-weight: 400;\r\n    font-size: calc(0.8rem + 0.3vw);\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    #loader:first-child {\r\n      width: calc(0.9rem + 0.5vw) !important;\r\n      height: calc(0.9rem + 0.5vw) !important;\r\n      margin-left: 0.45rem !important;\r\n      #greybackground path {\r\n        stroke: white !important;\r\n      }\r\n    }\r\n    &:hover {\r\n      background: #df5c5c;\r\n    }\r\n  }\r\n  .descCont .email {\r\n    font-size: calc(0.6rem + 0.3vw) !important;\r\n    color: white !important;\r\n  }\r\n  .allow {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 1rem;\r\n  }\r\n  .allow3 {\r\n    margin-bottom: 0rem;\r\n  }\r\n  .allow h2 {\r\n    font-weight: 400;\r\n    color: white;\r\n    font-size: calc(1rem + 0.3vw);\r\n  }\r\n  .react-switch-bg div svg {\r\n    display: none !important;\r\n  }\r\n  .card {\r\n    cursor: auto;\r\n    background: #373864;\r\n    padding: calc(2rem + 1vw);\r\n    border-radius: 20px;\r\n    width: calc(100% - (calc(2.5rem + 0.5vh) * 2));\r\n    height: max-content;\r\n    .actions {\r\n      font-size: calc(1rem + 0.3vw);\r\n      position: relative;\r\n      display: inline-flex;\r\n      margin-bottom: calc(2rem + 0.3vh);\r\n      .line {\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        height: 2px;\r\n        width: 100%;\r\n        background: rgba(255, 255, 255, 0.7) !important;\r\n        transform: translate(0, 120%);\r\n        border-radius: 100rem;\r\n      }\r\n    }\r\n    .info {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      margin-bottom: calc(2rem + 0.3vh);\r\n      img {\r\n        width: 95px;\r\n        height: 95px;\r\n        border-radius: 50%;\r\n      }\r\n      .desc {\r\n        margin-left: 0.8rem;\r\n        width: 100%;\r\n        h1 {\r\n          font-size: calc(1.5rem + 0.3vw);\r\n        }\r\n        p {\r\n          font-size: calc(0.75rem + 0.3vw);\r\n          span {\r\n            font-size: calc(0.4rem + 0.3vw);\r\n          }\r\n        }\r\n        .descCont {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: flex-start;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  #loader #greybackground path {\r\n    stroke: #272b55 !important;\r\n  }\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 2;\r\n`\r\n\r\nexport default DashboardUserAction\r\n","import axios from 'axios'\r\n\r\nconst infiniteScrollUsersAction = (skip, filterValue) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    dispatch({\r\n      type: 'INFINITE_USERS_REQUEST',\r\n    })\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n    const { data } = await axios.get(\r\n      `/api/users?limit=10&skip=${10 * skip}&sort=${\r\n        filterValue === 'top paid' ? 'topPaid' : filterValue\r\n      }`,\r\n      config\r\n    )\r\n\r\n    if (!data.users.length || data.users.length < 10) {\r\n      dispatch({\r\n        type: 'INFINITE_USERS_END',\r\n      })\r\n    }\r\n    dispatch({\r\n      type: 'INFINITE_USERS_SUCCESS',\r\n      payload: data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'INFINITE_USERS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\nexport default infiniteScrollUsersAction\r\n","import axios from 'axios'\r\n\r\nconst infiniteScrollSearchUsersAction = (search, skip = 0) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    dispatch({\r\n      type: 'INFINITE_SEARCH_USERS_REQUEST',\r\n    })\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    const { data } = await axios.post(\r\n      `/api/users/search?limit=10&skip=${10 * skip}`,\r\n      { search },\r\n      config\r\n    )\r\n\r\n    if (!data.users.length || data.users.length < 10) {\r\n      dispatch({\r\n        type: 'INFINITE_SEARCH_USERS_END',\r\n      })\r\n    }\r\n    dispatch({\r\n      type: 'INFINITE_SEARCH_USERS_SUCCESS',\r\n      payload: data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'INFINITE_SEARCH_USERS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default infiniteScrollSearchUsersAction\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport { slidePopup } from \"../animations\"\r\n\r\nconst ConfirmPopup = ({ action, resetValue, condition, type }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const cancelHandler = (passedType) => {\r\n    if (passedType === \"rank\") {\r\n      dispatch({ type: \"CONFIRM_RANK_CANCEL\" })\r\n    } else if (passedType === \"delete\") {\r\n      dispatch({ type: \"CONFIRM_DELETE_CANCEL\" })\r\n    } else if (passedType === \"deleteProduct\") {\r\n      dispatch({ type: \"CONFIRM_DELETE_PRODUCT_CANCEL\" })\r\n    }\r\n\r\n    if (resetValue) {\r\n      resetValue(\"user\")\r\n    }\r\n  }\r\n  const confirmHandler = (passedType) => {\r\n    if (passedType === \"rank\") {\r\n      dispatch({ type: \"CONFIRM_RANK_SUCCESS\" })\r\n    } else if (passedType === \"delete\") {\r\n      dispatch({ type: \"CONFIRM_DELETE_SUCCESS\" })\r\n    } else if (passedType === \"deleteProduct\") {\r\n      dispatch({ type: \"CONFIRM_DELETE_PRODUCT_SUCCESS\" })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledCart className={`confirmationPopup ${condition ? \"active\" : \"\"}`}>\r\n      <AnimatePresence>\r\n        {condition && (\r\n          <motion.div\r\n            className='card'\r\n            variants={slidePopup}\r\n            initial='hidden'\r\n            animate='show'\r\n            exit='exit'\r\n          >\r\n            <h1>Confirmation</h1>\r\n            <h3>\r\n              Are you sure you want to\r\n              {\" \" + action}?\r\n            </h3>\r\n            <div className='actions'>\r\n              <button onClick={() => cancelHandler(type)} className='cancel'>\r\n                Cancel\r\n              </button>\r\n              <button onClick={() => confirmHandler(type)} className='confirm'>\r\n                Confirm\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </StyledCart>\r\n  )\r\n}\r\nconst StyledCart = styled.div`\r\n  pointer-events: none;\r\n  &.active {\r\n    background: rgba(0, 0, 0, 0.25);\r\n    pointer-events: all;\r\n  }\r\n  transition: background 0.2s ease;\r\n  width: 100%;\r\n  height: 100vh;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  z-index: 99;\r\n  .card {\r\n    max-width: 40%;\r\n    margin-top: 1rem;\r\n    background: #373864;\r\n    padding: calc(0.8rem + 1vw) calc(1rem + 1vw);\r\n    border-radius: 10px;\r\n\r\n    h1 {\r\n      font-weight: 500;\r\n      font-size: calc(1.5rem + 0.3vw) !important;\r\n    }\r\n    h3 {\r\n      font-weight: 400;\r\n      font-size: calc(0.75rem + 0.3vw) !important;\r\n      color: rgba(255, 255, 255, 0.85);\r\n      width: 98%;\r\n    }\r\n    .actions {\r\n      margin-top: 0.3rem;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n\r\n      .cancel {\r\n        border: 1px solid #e1e2e5;\r\n        background: transparent;\r\n        color: white;\r\n        transition: 0.2s ease;\r\n        &:hover {\r\n          opacity: 0.7;\r\n        }\r\n      }\r\n      .confirm {\r\n        background: #22c581;\r\n        transition: 0.2s ease;\r\n        margin-left: 0.6rem;\r\n        &:hover {\r\n          background: #1faf73;\r\n        }\r\n      }\r\n    }\r\n    button {\r\n      padding: 0.4rem 0.9rem;\r\n      border: none;\r\n      border-radius: 5px;\r\n      cursor: pointer;\r\n      color: white;\r\n    }\r\n  }\r\n`\r\n\r\nexport default ConfirmPopup\r\n","export default __webpack_public_path__ + \"static/media/sort.8aebb750.svg\";","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport getDashboardUsersAction from '../actions/getDashboardUsers'\r\nimport SearchDashboardCustomers from '../actions/searchUser'\r\nimport Loader from '../components/loader'\r\nimport UserDashboard from '../components/userDashboard'\r\nimport DashboardError from '../components/DashboardError'\r\nimport { motion } from 'framer-motion'\r\nimport { hide } from '../animations'\r\nimport search from '../img/searchIcon.svg'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport smallX from '../img/smallX.svg'\r\nimport DashboardUserAction from './DashboardUserAction'\r\nimport { useLastLocation } from 'react-router-last-location'\r\nimport { throttle } from 'underscore'\r\nimport infiniteScrollUsersAction from '../actions/infiniteScrollUsers'\r\nimport infiniteScrollSearchUsersAction from '../actions/infiniteScrollSearchedUsers'\r\nimport ConfirmPopup from '../components/confirmPopup'\r\nimport arrow from '../img/sort.svg'\r\nimport { v4 as uuid } from 'uuid'\r\nimport { useRef } from 'react'\r\nimport qs from 'qs'\r\nimport { useInView } from 'react-intersection-observer'\r\n\r\nconst DashboardCustomers = () => {\r\n  const filterStoredValue = localStorage.getItem('filterUsers')\r\n    ? localStorage.getItem('filterUsers')\r\n    : 'newest'\r\n  const [filterValue, setFilterValue] = useState(filterStoredValue)\r\n  const [changed, setChanged] = useState(false)\r\n\r\n  const [skip, setSkip] = useState(1)\r\n  const [skip2, setSkip2] = useState(1)\r\n\r\n  const lastLocation = useLastLocation()\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const searchUser = location.search.split('=')[1]\r\n\r\n  const { users, loading, count, error } = useSelector(\r\n    (state) => state.dashboardUsers\r\n  )\r\n\r\n  const {\r\n    users: searchedUsers,\r\n    loading: searchLoading,\r\n    count: searchedCount,\r\n    error: searchedError,\r\n    infiniteLoading: infiniteLoading2,\r\n    end: end2,\r\n    success: success2,\r\n  } = useSelector((state) => state.dashboardSearchUsers)\r\n  const dashboardSearchUsers = useSelector(\r\n    (state) => state.dashboardSearchUsers\r\n  )\r\n  const [searchValue, setSearchValue] = useState('')\r\n  const [isSearch, setIsSearch] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (searchUser) {\r\n      setSearchValue(searchUser)\r\n    }\r\n  }, [searchUser])\r\n\r\n  useEffect(() => {\r\n    if (searchUser) setIsSearch(true)\r\n    else setIsSearch(false)\r\n  }, [searchUser])\r\n\r\n  const lastLocationValue = lastLocation\r\n    ? !lastLocation.pathname.split('/')[3]\r\n    : true\r\n\r\n  const [lastSearch, setLastSearch] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (lastLocation && lastLocation.search.split('=')[1]) {\r\n      setLastSearch(lastLocation.search.split('=')[1])\r\n    } else {\r\n      setLastSearch(null)\r\n    }\r\n  }, [lastLocation])\r\n\r\n  useEffect(() => {\r\n    if (!searchUser && !location.pathname.split('/')[3]) {\r\n      if (!users || lastLocationValue) {\r\n        dispatch(getDashboardUsersAction(filterValue))\r\n        setSkip(1)\r\n      }\r\n    } else if (lastLocationValue && !location.pathname.split('/')[3]) {\r\n      if (searchUser || !searchedUsers) {\r\n        dispatch(SearchDashboardCustomers(searchUser))\r\n        setSkip2(1)\r\n      }\r\n    }\r\n  }, [dispatch, searchUser, lastLocation])\r\n\r\n  useEffect(() => {\r\n    if (changed) {\r\n      dispatch(getDashboardUsersAction(filterValue, true))\r\n    }\r\n  }, [filterValue, changed])\r\n\r\n  const searchHandler = (e) => {\r\n    e.preventDefault()\r\n    if (searchValue.length)\r\n      history.push(`/dashboard/customers?search=${searchValue}`)\r\n  }\r\n  const returnHandler = () => {\r\n    history.push(`/dashboard/customers`)\r\n    setSearchValue('')\r\n  }\r\n  const headerCondition = () => {\r\n    if (!isSearch) {\r\n      if (location.pathname.split('/')[3]) return true\r\n      if (users && users.length > 0) return true\r\n      else return false\r\n    } else {\r\n      if (searchedUsers.length > 0) return true\r\n      else return false\r\n    }\r\n  }\r\n  const condition = () => {\r\n    if (\r\n      loading &&\r\n      !users &&\r\n      !error &&\r\n      !searchUser &&\r\n      !location.pathname.split('/')[3]\r\n    ) {\r\n      return true\r\n    } else if (\r\n      searchLoading &&\r\n      !searchedError &&\r\n      searchUser &&\r\n      !location.pathname.split('/')[3]\r\n    ) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  const condition2 = () => {\r\n    if (users) {\r\n      return true\r\n    } else if (searchedUsers) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  const { user } = useSelector((state) => state.userActions)\r\n  const userActions = useSelector((state) => state.userActions)\r\n\r\n  useEffect(() => {\r\n    if (userActions.user) {\r\n      userActions.user = null\r\n    }\r\n  }, [location.pathname])\r\n  useEffect(() => {\r\n    if (\r\n      location &&\r\n      location.pathname.split('/')[2] === 'customers' &&\r\n      !location.pathname.split('/')[3] &&\r\n      !searchValue\r\n    ) {\r\n      dashboardSearchUsers.users = null\r\n      dashboardSearchUsers.count = null\r\n    }\r\n  }, [lastLocation, location])\r\n\r\n  const [scrolled, setScrolled] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const container = document.querySelector('.view')\r\n    if (container)\r\n      container.addEventListener(\r\n        'scroll',\r\n        throttle(() => {\r\n          setScrolled(container.scrollTop)\r\n        }, 100)\r\n      )\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const container = document.querySelector('.view')\r\n    if (location.pathname.split('/')[3] && container)\r\n      container.classList.add('preventScrolling')\r\n    else if (container) container.classList.remove('preventScrolling')\r\n  }, [location.pathname])\r\n\r\n  useEffect(() => {\r\n    const cardCont = document.querySelector('.cardCont')\r\n    const popups = document.querySelectorAll('.confirmationPopup')\r\n\r\n    popups.forEach((e) => (e.style.top = `${scrolled}px`))\r\n    cardCont.style.top = `${scrolled}px`\r\n  }, [scrolled])\r\n\r\n  const infiniteScrollingMoreData = () => {\r\n    if (!searchedUsers) {\r\n      dispatch(infiniteScrollUsersAction(skip, filterValue))\r\n      setSkip(skip + 1)\r\n    }\r\n  }\r\n\r\n  const infiniteScrollingMoreDataSearched = () => {\r\n    if (searchedUsers) {\r\n      dispatch(infiniteScrollSearchUsersAction(searchUser, skip2))\r\n      setSkip2(skip2 + 1)\r\n    }\r\n  }\r\n\r\n  const [rankValue, setRankValue] = useState('')\r\n  const { asking } = useSelector((state) => state.editRank)\r\n  const { asking: deleteAsking } = useSelector((state) => state.deleteUser)\r\n\r\n  const changeFilterHandler = (e) => {\r\n    const value = e.target.innerText\r\n\r\n    if (value !== filterValue) {\r\n      setChanged(true)\r\n      localStorage.setItem('filterUsers', value)\r\n      setFilterValue(value)\r\n    }\r\n  }\r\n  const filter = ['newest', 'top paid']\r\n\r\n  const [openFilter, setOpenFilter] = useState(false)\r\n\r\n  const lastSearchValue = lastLocation\r\n    ? lastLocation.search.split('=')[1]\r\n    : false\r\n\r\n  const condition5 = () =>\r\n    (!location.search.split('=')[1] && !location.pathname.split('/')[3]) ||\r\n    (location.pathname.split('/')[3] && !lastSearchValue)\r\n\r\n  const useOutsideAlerter = (ref, reset) => {\r\n    useEffect(() => {\r\n      /**\r\n       * Alert if clicked on outside of element\r\n       */\r\n      function handleClickOutside(event) {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          reset()\r\n        }\r\n      }\r\n\r\n      // Bind the event listener\r\n      document.addEventListener('mousedown', handleClickOutside)\r\n      return () => {\r\n        // Unbind the event listener on clean up\r\n        document.removeEventListener('mousedown', handleClickOutside)\r\n      }\r\n    }, [ref])\r\n  }\r\n  const sortRef = useRef(null)\r\n  useOutsideAlerter(sortRef, () => setOpenFilter(false))\r\n\r\n  const searches = qs.parse(location.search, { ignoreQueryPrefix: true })\r\n\r\n  useEffect(() => {\r\n    if (location.pathname === '/dashboard/customers' && !searches.search) {\r\n      setSearchValue('')\r\n    }\r\n  }, [location.search, location.pathname])\r\n  const [element, inView] = useInView()\r\n\r\n  useEffect(() => {\r\n    if (inView && !loading && !searches.search) {\r\n      infiniteScrollingMoreData()\r\n    } else if (inView && !searchLoading && searches.search) {\r\n      infiniteScrollingMoreDataSearched()\r\n    }\r\n  }, [inView])\r\n\r\n  const lastLocationCondition = () => {\r\n    if (lastLocation) {\r\n      return lastLocation.search.split('=')[1]\r\n    } else {\r\n      return true\r\n    }\r\n  }\r\n  return (\r\n    <StyledOrders>\r\n      <DashboardUserAction rankValue={rankValue} setRankValue={setRankValue} />\r\n      <ConfirmPopup\r\n        resetValue={setRankValue}\r\n        condition={asking}\r\n        type='rank'\r\n        action={`move ${\r\n          userActions.user ? userActions.user.name : ''\r\n        } to employed ${rankValue + '(s)'}`}\r\n      />\r\n      <ConfirmPopup\r\n        type='delete'\r\n        condition={deleteAsking}\r\n        action={`Delete ${\r\n          userActions.user ? userActions.user.name : ''\r\n        }'s account`}\r\n      />\r\n      {(error || searchedError) && (\r\n        <DashboardError error={searches.search ? searchedError : error} />\r\n      )}\r\n      {condition() ? (\r\n        <Loader />\r\n      ) : !error &&\r\n        !searchedError &&\r\n        ((!loading && !searches.search) ||\r\n          (!searchLoading && searches.search)) ? (\r\n        <>\r\n          {condition2() && (\r\n            <div\r\n              className='cont'\r\n              id={`${location.pathname.split('/')[3] && user ? 'blur' : ''}`}\r\n            >\r\n              <div className='title'>\r\n                <h1>Customers</h1>\r\n                <p>\r\n                  {(searchUser && searchedUsers) ||\r\n                  (location.pathname.split('/')[3] && searchedUsers) ||\r\n                  (location.pathname.split('/')[3] &&\r\n                    lastSearch &&\r\n                    searchedUsers)\r\n                    ? searchedCount\r\n                    : count}{' '}\r\n                  Customers Found\r\n                </p>\r\n              </div>\r\n              <form className='search' onSubmit={searchHandler}>\r\n                {(location.search.split('=')[1] && <div></div>) ||\r\n                  (lastSearchValue && location.pathname.split('/')[3] && (\r\n                    <div></div>\r\n                  ))}\r\n                {condition5() && (\r\n                  <div\r\n                    ref={sortRef}\r\n                    className={`filter ${openFilter ? 'activeFilter' : ''}`}\r\n                    onClick={() => setOpenFilter(!openFilter)}\r\n                  >\r\n                    <p className='value'>{filterValue}</p>\r\n                    <img\r\n                      className={`${openFilter ? 'activeFilterImg' : ''}`}\r\n                      src={arrow}\r\n                      alt=''\r\n                    />\r\n                    {openFilter && (\r\n                      <div className='filterDropDown'>\r\n                        {filter.map((e) => (\r\n                          <p key={uuid()} onClick={changeFilterHandler}>\r\n                            {e}\r\n                          </p>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                <div className='searchContainer'>\r\n                  <div className='inputCont'>\r\n                    <input\r\n                      value={searchValue}\r\n                      onChange={(e) => setSearchValue(e.target.value)}\r\n                      placeholder='Search'\r\n                      type='text'\r\n                    />\r\n                    {searchUser && (\r\n                      <img onClick={returnHandler} src={smallX} alt='' />\r\n                    )}\r\n                  </div>\r\n                  <button type='submit'>\r\n                    <img src={search} />\r\n                  </button>\r\n                </div>\r\n              </form>\r\n              {headerCondition() ? (\r\n                <div className='headers'>\r\n                  <div className='id'>\r\n                    <p>Id</p>\r\n                  </div>\r\n                  <div className='name'>\r\n                    <p>Name</p>\r\n                  </div>\r\n                  <div className='Email'>\r\n                    <p>Email</p>\r\n                  </div>\r\n                  <div className='JoinedIn'>\r\n                    <p>Joined In</p>\r\n                  </div>\r\n                  <div className='Action'>\r\n                    <p>Action</p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <p className='sorry'>Sorry nothing found!</p>\r\n              )}\r\n\r\n              {(searches.search && searchedUsers) ||\r\n              (searchedUsers &&\r\n                lastLocationCondition() &&\r\n                location.pathname.split('/')[3]) ? (\r\n                <motion.div\r\n                  variants={hide}\r\n                  initial='hidden'\r\n                  animate='show'\r\n                  exit='exit'\r\n                >\r\n                  {searchedUsers.map((each) => (\r\n                    <UserDashboard key={each._id} user={each} />\r\n                  ))}\r\n                </motion.div>\r\n              ) : (\r\n                ''\r\n              )}\r\n              {(users &&\r\n                !searches.search &&\r\n                (lastLocation ? !lastLocation.search.split('=')[1] : true)) ||\r\n              (users &&\r\n                !searches.search &&\r\n                location.pathname === '/dashboard/customers') ? (\r\n                <motion.div\r\n                  variants={hide}\r\n                  initial='hidden'\r\n                  animate='show'\r\n                  exit='exit'\r\n                >\r\n                  {users.map((each) => (\r\n                    <UserDashboard keyId={each._id} user={each} />\r\n                  ))}\r\n                </motion.div>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n          )}\r\n          {(users && users.length < count && !searches.search) ||\r\n          (searchedUsers &&\r\n            searchedUsers.length < searchedCount &&\r\n            searches.search) ? (\r\n            <Loader providedClassName='infiniteLoader' refElement={element} />\r\n          ) : (\r\n            ((searchedUsers &&\r\n              searchedCount !== 0 &&\r\n              searches.search &&\r\n              searchedUsers.length === searchedCount) ||\r\n              (users &&\r\n                count !== 0 &&\r\n                !searches.search &&\r\n                users.length === count)) && (\r\n              <p className='end'>Yay! You have seen it all</p>\r\n            )\r\n          )}\r\n        </>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </StyledOrders>\r\n  )\r\n}\r\n\r\nconst StyledOrders = styled(motion.div)`\r\n  overflow-x: hidden;\r\n  overflow-y: hidden;\r\n  height: max-content;\r\n  min-height: 100%;\r\n  .infiniteLoader {\r\n    margin-bottom: 0.6rem;\r\n  }\r\n  .infiniteLoader #loader:first-child {\r\n    width: calc(2rem + 0.5vw) !important;\r\n    height: calc(2rem + 0.5vw) !important;\r\n  }\r\n\r\n  .end {\r\n    color: white;\r\n    text-align: center;\r\n    font-weight: 400 !important;\r\n    font-size: 1rem !important;\r\n    margin-bottom: 0.9rem;\r\n  }\r\n  .infinite-scroll-component {\r\n    overflow-y: hidden !important;\r\n  }\r\n  input::placeholder {\r\n    /* Chrome, Firefox, Opera, Safari 10.1+ */\r\n    color: rgba(255, 255, 255, 0.7) !important;\r\n    opacity: 1; /* Firefox */\r\n  }\r\n\r\n  input:-ms-input-placeholder {\r\n    /* Internet Explorer 10-11 */\r\n    color: rgba(255, 255, 255, 0.7) !important;\r\n  }\r\n\r\n  input::-ms-input-placeholder {\r\n    /* Microsoft Edge */\r\n    color: rgba(255, 255, 255, 0.7) !important;\r\n  }\r\n  position: relative;\r\n  #blur {\r\n    filter: blur(2px);\r\n  }\r\n  .sorry {\r\n    text-align: center;\r\n    font-weight: 300;\r\n  }\r\n  .inputCont {\r\n    position: relative;\r\n  }\r\n  .inputCont img {\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 5.5%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    transition: 0.2s ease;\r\n    &:hover {\r\n      opacity: 0.8;\r\n    }\r\n  }\r\n  .searchContainer {\r\n    display: flex;\r\n  }\r\n  .activeFilter {\r\n    cursor: auto !important;\r\n    background: #42447a !important;\r\n  }\r\n  .filter {\r\n    padding: 0.6rem 1rem;\r\n    background: rgb(48, 49, 89);\r\n    color: white;\r\n    font-size: calc(0.85rem + 0.3vw);\r\n    border-radius: 10px;\r\n    transition: 0.13s ease;\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n\r\n    img {\r\n      filter: brightness(1000);\r\n      margin-left: 0.4rem;\r\n      transition: 0.08s ease;\r\n      width: 16px;\r\n      height: 16px;\r\n    }\r\n    .value {\r\n      color: rgba(255, 255, 255, 1) !important;\r\n      pointer-events: none;\r\n    }\r\n    .filterDropDown {\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: 0;\r\n      transform: translate(0, 107%);\r\n      background: rgb(61, 62, 112);\r\n      box-shadow: rgba(29, 32, 62, 0.42) 0px 2px 10px;\r\n      border-radius: 6px;\r\n      width: 90%;\r\n      min-width: max-content;\r\n      font-size: calc(0.85rem + 0.3vw);\r\n      z-index: 4;\r\n      overflow: hidden;\r\n      p {\r\n        cursor: pointer;\r\n        color: rgba(255, 255, 255, 0.9) !important;\r\n        margin-top: 0.3rem;\r\n        transition: 0.2s ease;\r\n        padding: 0.5rem 0.7rem !important;\r\n        &:first-child {\r\n          margin-top: 0rem;\r\n          padding-bottom: 0.35rem !important;\r\n        }\r\n        &:last-child {\r\n          padding-top: 0.35rem !important;\r\n          margin-top: 0rem;\r\n        }\r\n        &:hover {\r\n          background: rgb(58, 59, 107);\r\n          color: rgba(255, 255, 255, 1) !important;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .search {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 1rem;\r\n    margin-top: 0.8rem;\r\n    input {\r\n      padding: 0.6rem 1rem;\r\n      background: #373864;\r\n      color: white;\r\n      font-size: calc(0.85rem + 0.3vw);\r\n      border: none;\r\n      border-radius: 10px;\r\n      margin-right: 0.5rem;\r\n      width: calc(12rem + 5vw);\r\n      transition: 0.2s ease;\r\n      &:focus {\r\n        background: #33355f;\r\n      }\r\n    }\r\n    button {\r\n      display: flex;\r\n      padding: 0.725rem;\r\n      background: #373864;\r\n      border: none;\r\n      border-radius: 10px;\r\n      cursor: pointer;\r\n      transition: 0.2s ease;\r\n      &:hover {\r\n        background: #343660;\r\n      }\r\n      img {\r\n        width: 23px;\r\n        height: 23px;\r\n      }\r\n    }\r\n  }\r\n  .headers {\r\n    background: rgba(51, 52, 92, 31%);\r\n    padding: 0.5rem 2.1rem;\r\n    border-radius: 10px;\r\n    margin-bottom: 1rem;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    .name,\r\n    .id,\r\n    .Email,\r\n    .JoinedIn,\r\n    .Action {\r\n      p {\r\n        color: rgba(255, 255, 255, 0.9) !important;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        font-size: calc(0.8rem + 0.3vw);\r\n      }\r\n    }\r\n    .id {\r\n      min-width: 12%;\r\n      padding-right: 3vw;\r\n    }\r\n    .name {\r\n      min-width: 23%;\r\n      padding-right: 3vw;\r\n    }\r\n    .Email {\r\n      min-width: 39%;\r\n      padding-right: 3vw;\r\n    }\r\n    .JoinedIn {\r\n      min-width: 20%;\r\n      padding-right: 3vw;\r\n    }\r\n    .Action {\r\n      min-width: 6%;\r\n    }\r\n  }\r\n\r\n  .title {\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  padding: calc(3rem + 0.5vh) calc(2.5rem + 0.5vh);\r\n  padding-bottom: 1rem;\r\n  h1 {\r\n    font-weight: 500;\r\n    font-size: calc(2.1rem + 0.3vw);\r\n  }\r\n  p {\r\n    padding: 0 !important;\r\n    color: rgba(255, 255, 255, 0.7) !important;\r\n    font-weight: 400;\r\n  }\r\n  #greybackground path {\r\n    stroke: #363761 !important;\r\n  }\r\n`\r\n\r\nexport default DashboardCustomers\r\n","export default __webpack_public_path__ + \"static/media/pen.2b3a8381.svg\";","export default __webpack_public_path__ + \"static/media/trash.4b58cd84.svg\";","export default __webpack_public_path__ + \"static/media/eyeSee.d59a5283.svg\";","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { parseISO, format } from 'date-fns'\r\nimport pen from '../img/pen.svg'\r\nimport trash from '../img/trash.svg'\r\nimport eye from '../img/eyeSee.svg'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { popup, realtimeStockCounter } from '../animations'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport Loader from '../components/loader'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useLastLocation } from 'react-router-last-location'\r\nimport SmoothImg from '../components/smoothImgLoading'\r\nimport qs from 'qs'\r\n\r\nconst ProductDashboard = ({\r\n  product,\r\n  setClickedForDelete,\r\n  actionsInfo,\r\n  search,\r\n  data,\r\n  setDashboardScrollPosition,\r\n}) => {\r\n  const location = useLocation()\r\n  const searches = qs.parse(location.search, { ignoreQueryPrefix: true })\r\n\r\n  const { loading: deleteLoading, success, asking, confirm } = useSelector(\r\n    (state) => state.deleteProduct\r\n  )\r\n  const dispatch = useDispatch()\r\n  const lastLocation = useLastLocation()\r\n\r\n  const animCondition = () => {\r\n    if (lastLocation) {\r\n      if (\r\n        lastLocation.pathname.split('/')[2] &&\r\n        lastLocation.pathname.split('/')[1].toLowerCase() === 'products' &&\r\n        !lastLocation.pathname.split('/')[3]\r\n      ) {\r\n        return ''\r\n      } else {\r\n        return popup\r\n      }\r\n    } else {\r\n      return popup\r\n    }\r\n  }\r\n  const [clicked, setClicked] = useState(false)\r\n  const [changed, setChanged] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      const newStock = data.find((e) => {\r\n        console.log(e._id, product._id)\r\n        return e._id === product._id\r\n      })\r\n\r\n      if (newStock) setChanged(changed + newStock.countInStock)\r\n    }\r\n  }, [data])\r\n  useEffect(() => {\r\n    ReactTooltip.rebuild()\r\n  }, [])\r\n\r\n  const editURL = (id) => {\r\n    let baseURL = `/dashboard/products/edit/${id}?`\r\n    if (searches[Object.keys(searches)[0]]) {\r\n      baseURL += `${Object.keys(searches)[0]}=${\r\n        searches[Object.keys(searches)[0]]\r\n      }&`\r\n    }\r\n    if (searches.brand) {\r\n      baseURL += `brand=${searches.brand}&`\r\n    }\r\n    if (searches.category) {\r\n      baseURL += `category=${searches.category}&`\r\n    }\r\n\r\n    return baseURL\r\n  }\r\n  return (\r\n    <StyledUser variants={animCondition()}>\r\n      <ReactTooltip\r\n        id='product-card-tooltip'\r\n        effect='solid'\r\n        delayHide={100}\r\n        delayShow={400}\r\n      />\r\n      {actionsInfo && (\r\n        <ReactTooltip\r\n          delayHide={100}\r\n          delayShow={400}\r\n          effect='solid'\r\n          id='action-info-tooltip'\r\n        />\r\n      )}\r\n      <div className='id'>\r\n        <p data-for='product-card-tooltip' data-tip={'#' + product._id}>\r\n          #{product._id.substr(product._id.length - 4)}\r\n        </p>\r\n      </div>\r\n      <div className='name'>\r\n        <SmoothImg\r\n          providedClassName='imgCont'\r\n          width={'52px'}\r\n          height={'41.5px'}\r\n          loaderId='loaderImg'\r\n          contWidth={`max-content`}\r\n          src={`/api/products/${product._id}/image?w=80&h=64`}\r\n          alt=''\r\n          tiny={`/api/products/${product._id}/tiny`}\r\n        />\r\n        <p data-for='product-card-tooltip' data-tip={product.name}>\r\n          {product.name}\r\n        </p>\r\n      </div>\r\n      <div className='Price'>\r\n        <p data-for='product-card-tooltip' data-tip={product.price}>\r\n          {product.price}\r\n        </p>\r\n      </div>\r\n      <div className='Category'>\r\n        <p data-for='product-card-tooltip' data-tip={product.category}>\r\n          {product.category}\r\n        </p>\r\n      </div>\r\n      <div className='Brand'>\r\n        <p data-for='product-card-tooltip' data-tip={product.brand}>\r\n          {product.brand}\r\n        </p>\r\n      </div>\r\n      <div className='Stock'>\r\n        <div className='stockCont'>\r\n          <p data-for='product-card-tooltip' data-tip={product.countInStock}>\r\n            {product.countInStock}\r\n          </p>\r\n          <AnimatePresence>\r\n            {changed && (\r\n              <motion.span\r\n                key={changed}\r\n                variants={realtimeStockCounter}\r\n                animate='show'\r\n                initial='hidden'\r\n                exit='exit'\r\n                className='change'\r\n              >\r\n                -{changed}\r\n              </motion.span>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n      </div>\r\n      <div className='Actions'>\r\n        <div\r\n          data-tip='Edit Product'\r\n          data-for='action-info-tooltip'\r\n          className='ActionCont'\r\n        >\r\n          <Link\r\n            to={`${\r\n              search\r\n                ? `/dashboard/products/edit/${product._id}?search=${search}`\r\n                : editURL(product._id)\r\n            }`}\r\n            className='actionOption'\r\n          >\r\n            <img className='gearImg' src={pen} alt='' />\r\n          </Link>\r\n        </div>\r\n        <div\r\n          data-tip='See Product'\r\n          data-for='action-info-tooltip'\r\n          className='ActionCont'\r\n        >\r\n          <Link\r\n            onClick={() => {\r\n              const view = document.querySelector('.view')\r\n              if (setDashboardScrollPosition && view) {\r\n                setDashboardScrollPosition(view.scrollTop)\r\n              }\r\n            }}\r\n            to={`/products/${product._id}`}\r\n            className='actionOption'\r\n          >\r\n            <img className='gearImg' src={eye} alt='' />\r\n          </Link>\r\n        </div>\r\n        <div\r\n          data-tip='Delete Product'\r\n          data-for='action-info-tooltip'\r\n          className='ActionCont'\r\n        >\r\n          <div\r\n            onClick={() => {\r\n              if (!deleteLoading) {\r\n                setClicked(true)\r\n                setClickedForDelete(product)\r\n                dispatch({ type: 'CONFIRM_DELETE_PRODUCT_REQUEST' })\r\n              }\r\n            }}\r\n            id={`${deleteLoading ? 'deleting' : ''}`}\r\n            className='actionOption trash'\r\n          >\r\n            {!deleteLoading ? (\r\n              <img className='gearImg' src={trash} alt='' />\r\n            ) : clicked ? (\r\n              <Loader />\r\n            ) : (\r\n              <img className='gearImg' src={trash} alt='' />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </StyledUser>\r\n  )\r\n}\r\n\r\nconst StyledUser = styled(motion.div)`\r\n  #loaderImg {\r\n    filter: blur(2px);\r\n  }\r\n  &.hide {\r\n    opacity: 0;\r\n  }\r\n  .imgCont {\r\n    min-width: 52px !important;\r\n  }\r\n  .stockCont {\r\n    position: relative;\r\n  }\r\n  .change {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    transform: translate(100%, -30%);\r\n    font-size: calc(0.65rem + 0.3vw);\r\n    color: #25da8e;\r\n    font-weight: 500;\r\n  }\r\n  #deleting {\r\n    cursor: not-allowed !important;\r\n  }\r\n  #loaderImg {\r\n    border-radius: 10px;\r\n  }\r\n  .ActionCont {\r\n    min-width: 6%;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    margin-left: calc(0.2rem + 0.35vw);\r\n    &:first-child {\r\n      margin-left: 0;\r\n    }\r\n  }\r\n  .actionOption {\r\n    width: 100%;\r\n    padding: 0.65rem;\r\n    border-radius: 10px;\r\n    background: rgba(255, 255, 255, 0.1);\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 44.8px;\r\n    height: 44.8px;\r\n    &:hover {\r\n      background: rgba(254, 254, 254, 0.07);\r\n    }\r\n    .providedLoader {\r\n      #greybackground path {\r\n        stroke: white !important;\r\n      }\r\n    }\r\n  }\r\n  .trash {\r\n    background: #ff6969;\r\n    &:hover {\r\n      background: rgba(255, 105, 105, 0.8) !important;\r\n    }\r\n  }\r\n  #loader {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n  .highlightSearch {\r\n    background: #232647a1;\r\n  }\r\n  .__react_component_tooltip {\r\n    background: #1e203e;\r\n    border-radius: 5px;\r\n    &::after {\r\n      border-top-color: #1e203e !important;\r\n    }\r\n  }\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  background: #373864;\r\n  padding: 0.85rem 2.1rem;\r\n  margin-bottom: 1rem;\r\n  &:last-child {\r\n    margin-bottom: 1rem;\r\n  }\r\n  border-radius: 10px;\r\n  overflow-x: auto;\r\n  width: 100%;\r\n  .name {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    min-width: 23%;\r\n    p {\r\n      color: white !important;\r\n      margin-left: 0.7rem;\r\n    }\r\n  }\r\n  .gearCont {\r\n    min-width: 6%;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n  }\r\n  .gear {\r\n    padding: 0.65rem;\r\n    border-radius: 10px;\r\n    background: rgba(254, 254, 254, 0.1);\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    position: relative;\r\n\r\n    &:hover {\r\n      background: rgba(254, 254, 254, 0.07);\r\n    }\r\n  }\r\n  .id,\r\n  .name,\r\n  .Price,\r\n  .Category,\r\n  .Brand,\r\n  .Stock {\r\n    display: flex;\r\n  }\r\n  .gear {\r\n    padding-right: 0.65rem !important;\r\n  }\r\n  .gearImg {\r\n    min-height: 0px;\r\n    width: 23px;\r\n    height: 30px;\r\n  }\r\n  .trash .gearImg {\r\n    width: 21px;\r\n  }\r\n  .id,\r\n  .name,\r\n  .Price,\r\n  .Category,\r\n  .Brand,\r\n  .Stock {\r\n    p {\r\n      color: white !important;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      width: max-content;\r\n    }\r\n  }\r\n  .id {\r\n    min-width: 12%;\r\n    padding-right: 2vw;\r\n  }\r\n  .name {\r\n    min-width: 23%;\r\n    padding-right: 2vw;\r\n  }\r\n  .Price {\r\n    min-width: 10%;\r\n    padding-right: 2vw;\r\n  }\r\n  .Category {\r\n    min-width: 14%;\r\n    padding-right: 2vw;\r\n  }\r\n  .Brand {\r\n    padding-right: 2vw;\r\n    min-width: 14%;\r\n  }\r\n  .Stock {\r\n    padding-right: 2vw;\r\n    min-width: 9%;\r\n  }\r\n  .Actions {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    min-width: 18%;\r\n  }\r\n\r\n  img {\r\n    width: 52px;\r\n    height: 41.5px;\r\n    border-radius: 10px;\r\n  }\r\n`\r\n\r\nexport default ProductDashboard\r\n","import axios from 'axios'\r\n\r\nconst deleteProduct = (id, search) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: 'DELETE_PRODUCT_REQUEST',\r\n    })\r\n\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const state = getState((state) => state.productList)\r\n    const products = { ...state.productList }\r\n    const searchedProducts = state.productSearch\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    const condition = () => {\r\n      if (!search && products.products) {\r\n        return true\r\n      } else if (search && searchedProducts.products) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    await axios.delete(`/api/products/${id}`, config)\r\n    if (condition() && !search) {\r\n      products.products = products.products.filter(\r\n        (each) => each._id.toString() !== id.toString()\r\n      )\r\n      products.count -= 1\r\n      state.productList = { ...products }\r\n    } else if (condition() && search) {\r\n      searchedProducts.products = searchedProducts.products.filter(\r\n        (each) => each._id.toString() !== id.toString()\r\n      )\r\n      searchedProducts.count -= 1\r\n      console.log(searchedProducts)\r\n      state.productSearch = { ...searchedProducts }\r\n    }\r\n\r\n    dispatch({\r\n      type: 'DELETE_PRODUCT_SUCCESS',\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'DELETE_PRODUCT_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default deleteProduct\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { v4 as uuid } from 'uuid'\r\nimport ReactTooltip from 'react-tooltip'\r\n\r\nconst Input = ({\r\n  value,\r\n  setValue,\r\n  label,\r\n  type = 'text',\r\n  input = true,\r\n  required = true,\r\n}) => {\r\n  const randomId = uuid()\r\n  return (\r\n    <StyledInput>\r\n      <ReactTooltip\r\n        delayHide={100}\r\n        delayShow={400}\r\n        effect='solid'\r\n        id='required'\r\n      />\r\n      {label && (\r\n        <label htmlFor={`dashboardInput${randomId}`}>\r\n          {label}{' '}\r\n          {required && (\r\n            <span data-for='required' data-tip='Required' class='required'>\r\n              *\r\n            </span>\r\n          )}{' '}\r\n        </label>\r\n      )}\r\n      {input ? (\r\n        <input\r\n          value={value}\r\n          onChange={(e) => setValue(e.target.value)}\r\n          type={type}\r\n          id={`dashboardInput${randomId}`}\r\n        />\r\n      ) : (\r\n        <textarea\r\n          value={value}\r\n          onChange={(e) => setValue(e.target.value)}\r\n          type={type}\r\n          maxLength={222}\r\n          id={`dashboardInput${randomId}`}\r\n        />\r\n      )}\r\n    </StyledInput>\r\n  )\r\n}\r\n\r\nconst StyledInput = styled.div`\r\n  .__react_component_tooltip {\r\n    background: #1e203e;\r\n    border-radius: 5px;\r\n    padding: 7px 16px !important;\r\n    &::after {\r\n      border-top-color: #1e203e !important;\r\n    }\r\n  }\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  flex-direction: column;\r\n  label {\r\n    font-size: calc(1rem + 0.3vw);\r\n    color: rgba(255, 255, 255, 0.8);\r\n    margin-bottom: 0.25rem;\r\n    position: relative;\r\n    .required {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 0;\r\n      font-size: 16px;\r\n      transform: translate(110%, 10%);\r\n    }\r\n  }\r\n  input[type='number'] {\r\n    -moz-appearance: textfield;\r\n  }\r\n  textarea {\r\n    min-height: calc(25px + 2vh);\r\n    width: calc(330px + 5vw);\r\n    height: calc(100px + 5vh);\r\n    resize: vertical;\r\n  }\r\n  textarea,\r\n  input {\r\n    padding: 0.7rem 1.2rem;\r\n    font-size: calc(0.9rem + 0.3vw);\r\n    color: rgba(255, 255, 255, 0.9);\r\n    background: rgba(77, 79, 142, 63%);\r\n    border: none;\r\n    border-radius: 10px;\r\n    transition: background 0.2s ease;\r\n    width: 28vw;\r\n    max-width: 600px;\r\n\r\n    &:focus {\r\n      background: rgba(72, 74, 133, 63%);\r\n    }\r\n    margin-bottom: 1rem;\r\n  }\r\n`\r\n\r\nexport default Input\r\n","export default __webpack_public_path__ + \"static/media/choose.d919257a.svg\";","import React, { useEffect, useRef } from 'react'\r\nimport styled from 'styled-components'\r\nimport add from '../img/choose.svg'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { show, popup3 } from '../animations'\r\nimport { useHistory } from 'react-router-dom'\r\nimport ReactCrop from 'react-image-crop'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport DropZone from 'react-drop-zone'\r\n\r\nconst CropImg = ({\r\n  completedCrop,\r\n  setCompletedCrop,\r\n  previewCanvasRef,\r\n  crop,\r\n  setCrop,\r\n  image,\r\n  setImage,\r\n  imageType,\r\n  setImageType,\r\n  formData,\r\n  setFormData,\r\n  scrolled,\r\n}) => {\r\n  const history = useHistory()\r\n  const cancelHandler = () => {\r\n    setFormData(new FormData())\r\n    setCrop({\r\n      aspect: 64 / 51,\r\n      unit: '%',\r\n    })\r\n    setCompletedCrop(null)\r\n    setImage(null)\r\n    history.push('/dashboard/products/add')\r\n  }\r\n\r\n  const uploadFileHandler = (e) => {\r\n    setImageType(e.type)\r\n\r\n    const reader = new FileReader()\r\n    reader.addEventListener('load', () => setImage(reader.result))\r\n    reader.readAsDataURL(e)\r\n  }\r\n\r\n  const imgRef = useRef(null)\r\n  useEffect(() => {\r\n    if (!completedCrop || !previewCanvasRef.current || !imgRef.current) {\r\n      return\r\n    }\r\n\r\n    const image = imgRef.current\r\n    const canvas = previewCanvasRef.current\r\n    const crop = completedCrop\r\n\r\n    const scaleX = image.naturalWidth / image.width\r\n    const scaleY = image.naturalHeight / image.height\r\n    const ctx = canvas.getContext('2d')\r\n    const pixelRatio = 4\r\n\r\n    canvas.width = crop.width * pixelRatio\r\n    canvas.height = crop.height * pixelRatio\r\n\r\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0)\r\n    ctx.imageSmoothingQuality = 'high'\r\n    ctx.imageSmoothingEnabled = false\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    )\r\n  }, [completedCrop])\r\n\r\n  window.addEventListener('resize', () => {\r\n    if (imgRef) {\r\n      const cont = document.querySelector('.ReactCrop')\r\n      const contDiv = document.querySelector('.ReactCrop div')\r\n      const motionCont = document.querySelector('.motionCont')\r\n\r\n      if (motionCont) motionCont.style.width = 'max-content'\r\n\r\n      if (contDiv) {\r\n        contDiv.style.height = `100%`\r\n      }\r\n      if (cont && imgRef.current) {\r\n        cont.style.width = '100%'\r\n        cont.style.width = `${imgRef.current.width}px`\r\n        cont.style.height = `100%`\r\n      }\r\n    }\r\n  })\r\n\r\n  const confirmHandler = (e) => {\r\n    if (imageType && previewCanvasRef.current && completedCrop.width) {\r\n      previewCanvasRef.current.toBlob((blob) => {\r\n        const type = () => {\r\n          switch (imageType) {\r\n            case 'image/png':\r\n              return 'png'\r\n            case 'image/jpg':\r\n              return 'jpg'\r\n            case 'image/jpeg':\r\n              return 'jpeg'\r\n          }\r\n        }\r\n        formData.delete('upload')\r\n        formData.append('upload', blob, `image.${type()}`)\r\n      })\r\n    }\r\n    if (!e.target.classList.contains('disabled')) {\r\n      history.push('/dashboard/products/add')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledCart\r\n      variants={show}\r\n      animate='show'\r\n      initial='hidden'\r\n      exit='exit'\r\n      className='cropImg'\r\n      scrolled={scrolled}\r\n      transformTemplate={({ x }) => `translateX(${x})`}\r\n    >\r\n      <AnimatePresence>\r\n        {image && (\r\n          <motion.div\r\n            variants={popup3}\r\n            animate='show'\r\n            initial='hidden'\r\n            className='motionCont'\r\n          >\r\n            <ReactCrop\r\n              onImageLoaded={(img) => {\r\n                imgRef.current = img\r\n                const image = document.querySelector('.ReactCrop div img')\r\n                const cont = document.querySelector('.ReactCrop')\r\n                const contDiv = document.querySelector('.ReactCrop div')\r\n                const motionCont = document.querySelector('.motionCont')\r\n                motionCont.style.width = 'max-content'\r\n\r\n                cont.style.width = `${image.width}px`\r\n                cont.style.height = `max-content`\r\n                contDiv.style.height = `max-content`\r\n\r\n                setCrop({ width: image.width, height: image.height })\r\n              }}\r\n              src={image}\r\n              crop={crop}\r\n              onChange={(newCrop) => setCrop(newCrop)}\r\n              onComplete={(c) => setCompletedCrop(c)}\r\n            />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {!image && (\r\n        <DropZone\r\n          accept={'.jpg, .jpeg, .png'}\r\n          className='dropOrSelect'\r\n          onDrop={(file) => uploadFileHandler(file)}\r\n        >\r\n          {({ over, overDocument }) => (\r\n            <div className={`dropOrSelect ${over ? 'active' : ''}`}>\r\n              <img src={add} />\r\n              {!over && !overDocument && (\r\n                <p>\r\n                  Select or Drag your\r\n                  <br /> image here\r\n                </p>\r\n              )}\r\n              {overDocument && !over && (\r\n                <p>\r\n                  Drop your image\r\n                  <br /> here\r\n                </p>\r\n              )}\r\n              {over && (\r\n                <p>\r\n                  Yep over here,\r\n                  <br /> Drop now\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n        </DropZone>\r\n      )}\r\n\r\n      <div className={`buttons ${image ? 'activeCrop' : ''}`}>\r\n        <button onClick={cancelHandler} className='cancel'>\r\n          Cancel\r\n        </button>\r\n        <button\r\n          onClick={confirmHandler}\r\n          className={`confirm ${\r\n            completedCrop && !completedCrop.width ? 'disabled' : ''\r\n          }`}\r\n          id={`${completedCrop ? '' : 'notActive'}`}\r\n        >\r\n          Confirm\r\n        </button>\r\n      </div>\r\n    </StyledCart>\r\n  )\r\n}\r\n\r\nconst StyledCart = styled(motion.div)`\r\n  .disabled {\r\n    transition: 0.3s ease;\r\n    filter: grayscale(1);\r\n    cursor: not-allowed !important;\r\n    &:hover {\r\n      background: #1faf73 !important;\r\n    }\r\n  }\r\n  #notActive {\r\n    pointer-events: none;\r\n    opacity: 0;\r\n  }\r\n  .motionCont {\r\n    padding-top: calc(2rem + 1vh);\r\n    max-height: 80%;\r\n    max-width: 90%;\r\n  }\r\n  .ReactCrop {\r\n    height: 100%;\r\n  }\r\n  .ReactCrop div img {\r\n    max-height: 100%;\r\n  }\r\n  .ReactCrop div:first-child {\r\n    height: 100%;\r\n  }\r\n  position: absolute;\r\n  left: 0;\r\n  top: ${(props) => props.scrolled}px;\r\n  height: 100%;\r\n  width: 50%;\r\n  background: #2c2d50;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  z-index: 2;\r\n  button {\r\n    border: none;\r\n    background: none;\r\n    outline: none;\r\n  }\r\n  .activeCrop {\r\n    margin-bottom: 1.5rem;\r\n  }\r\n  .buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-top: 1.5rem;\r\n    button {\r\n      color: white;\r\n      padding: 0.65rem 1.1rem;\r\n      border-radius: 10px;\r\n      cursor: pointer;\r\n      font-size: calc(0.75rem + 0.3vw);\r\n      transition: 0.2s ease;\r\n    }\r\n    .cancel {\r\n      box-shadow: inset 0px 0px 0px 2px white;\r\n      &:hover {\r\n        opacity: 0.6;\r\n      }\r\n    }\r\n    .confirm {\r\n      margin-left: calc(1.5rem + 2vw);\r\n      font-weight: 500;\r\n      background: #1faf73;\r\n      &:hover {\r\n        background: #1c9c67;\r\n      }\r\n    }\r\n  }\r\n  .dropOrSelect {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    background: #3d3e6e;\r\n    width: 80%;\r\n    height: calc(15vh + 16rem);\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n    transition: background 0.3s ease;\r\n    img {\r\n      width: 45px;\r\n      height: 45px;\r\n      pointer-events: none;\r\n    }\r\n    p {\r\n      font-size: calc(0.9rem + 0.3vw);\r\n      text-align: center;\r\n      margin-top: 0.7rem;\r\n      color: rgba(255, 255, 255, 90%) !important;\r\n      pointer-events: none;\r\n    }\r\n    &.active {\r\n      background: #44457a;\r\n    }\r\n  }\r\n`\r\n\r\nexport default CropImg\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { useLastLocation } from 'react-router-last-location'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { popup2, hide5 } from '../animations'\r\nimport Loader from '../components/loader'\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\nimport Input from '../components/DashboardInput'\r\nimport Product from '../components/Product'\r\nimport { addNewProductAction } from '../actions/addProduct'\r\nimport DashboardError from '../components/DashboardError'\r\nimport CropImg from '../components/CropImg'\r\nimport { throttle } from 'underscore'\r\nimport xSign from '../img/smallX.svg'\r\nimport Switch from 'react-switch'\r\nimport qs from 'qs'\r\n\r\nconst DashboardNewProduct = ({ scrolled, setScrolled }) => {\r\n  const [freeShipping, setFreeShipping] = useState(false)\r\n  const lastLocation = useLastLocation()\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n  const searches = qs.parse(location.search, { ignoreQueryPrefix: true })\r\n\r\n  const [scrollableContent, setScrollableContent] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const firstChild = document.querySelector('.newView')\r\n    const thirdChild = document.querySelectorAll('.track-vertical-newView')\r\n\r\n    if (firstChild) {\r\n      if (\r\n        location.pathname.split('/')[3] === 'add' &&\r\n        location.pathname.split('/')[4] === 'image'\r\n      ) {\r\n        firstChild.classList.add('disableScrolling')\r\n      } else {\r\n        firstChild.classList.remove('disableScrolling')\r\n      }\r\n      if (firstChild) setScrollableContent(firstChild)\r\n      firstChild.classList.add('addMoreMargin2')\r\n    }\r\n    if (\r\n      thirdChild[thirdChild.length - 2] &&\r\n      location.pathname.split('/')[3] === 'add' &&\r\n      location.pathname.split('/')[4] === 'image'\r\n    ) {\r\n      thirdChild[thirdChild.length - 2].style.display = 'none'\r\n    } else if (thirdChild[thirdChild.length - 2]) {\r\n      thirdChild[thirdChild.length - 2].style.display = 'block'\r\n    }\r\n  }, [location.pathname, lastLocation])\r\n\r\n  useEffect(() => {\r\n    if (scrollableContent) {\r\n      scrollableContent.addEventListener(\r\n        'scroll',\r\n        throttle(() => {\r\n          setScrolled(scrollableContent.scrollTop)\r\n        }, 100)\r\n      )\r\n    }\r\n  }, [scrollableContent])\r\n\r\n  const [name, setName] = useState('')\r\n  const [price, setPrice] = useState('')\r\n  const [oldPrice, setOldPrice] = useState('')\r\n  const [brand, setBrand] = useState('')\r\n  const [stock, setStock] = useState('')\r\n  const [category, setCategory] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [qtyPerUser, setQtyPerUser] = useState('')\r\n\r\n  const [formData, setFormData] = useState(new FormData())\r\n\r\n  const addProductHandler = (e) => {\r\n    e.preventDefault()\r\n    const dataObj = {\r\n      name,\r\n      price,\r\n      brand,\r\n      countInStock: stock,\r\n      category,\r\n      description,\r\n      qtyPerUser,\r\n      freeShipping,\r\n      oldPrice,\r\n    }\r\n    for (const e in dataObj) {\r\n      formData.append(e, dataObj[e])\r\n    }\r\n\r\n    dispatch(addNewProductAction(formData))\r\n  }\r\n  const { newLoading, newError, success } = useSelector(\r\n    (state) => state.productList\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (newError) {\r\n      const firstChild = document.querySelector('.newView')\r\n      if (firstChild)\r\n        firstChild.scroll({\r\n          top: 0,\r\n          left: 0,\r\n          behavior: 'smooth',\r\n        })\r\n    }\r\n  }, [newError])\r\n\r\n  useEffect(() => {\r\n    if (success) {\r\n      setName('')\r\n      setPrice('')\r\n      setBrand('')\r\n      setStock('')\r\n      setCategory('')\r\n      setDescription('')\r\n      setQtyPerUser('')\r\n      setFormData(new FormData())\r\n      setCompletedCrop(null)\r\n      setImageType(null)\r\n      setImage(null)\r\n\r\n      let baseURL = '/dashboard/products?'\r\n      if (searches[Object.keys(searches)[0]]) {\r\n        baseURL += `${Object.keys(searches)[0]}=${\r\n          searches[Object.keys(searches)[0]]\r\n        }&`\r\n      }\r\n      if (searches.brand) {\r\n        baseURL += `brand=${searches.brand}&`\r\n      }\r\n      if (searches.category) {\r\n        baseURL += `category=${searches.category}&`\r\n      }\r\n\r\n      history.push(baseURL)\r\n    }\r\n  }, [success])\r\n\r\n  //Crop\r\n  const [completedCrop, setCompletedCrop] = useState(null)\r\n  const previewCanvasRef = useRef(null)\r\n  const [crop, setCrop] = useState({\r\n    aspect: 64 / 51,\r\n    unit: '%',\r\n  })\r\n  const [image, setImage] = useState(null)\r\n  const [imageType, setImageType] = useState(null)\r\n\r\n  const returnHandler = () => {\r\n    setFormData(new FormData())\r\n    setCrop({\r\n      aspect: 64 / 51,\r\n      unit: '%',\r\n    })\r\n    setCompletedCrop(null)\r\n    setImage(null)\r\n\r\n    let baseURL = '/dashboard/products?'\r\n    if (searches[Object.keys(searches)[0]]) {\r\n      baseURL += `${Object.keys(searches)[0]}=${\r\n        searches[Object.keys(searches)[0]]\r\n      }&`\r\n    }\r\n    if (searches.brand) {\r\n      baseURL += `brand=${searches.brand}&`\r\n    }\r\n    if (searches.category) {\r\n      baseURL += `category=${searches.category}&`\r\n    }\r\n\r\n    history.push(baseURL)\r\n  }\r\n  return (\r\n    <StyledUserAction\r\n      id={`${location.pathname.split('/')[3] === 'add' ? 'active' : ''}`}\r\n      className='cardCont'\r\n      onClick={(e) => {\r\n        if (\r\n          e.target.classList.contains('cardCont') &&\r\n          (location.pathname.split('/')[4] !== 'image' || !image)\r\n        ) {\r\n          returnHandler()\r\n        }\r\n      }}\r\n    >\r\n      <AnimatePresence>\r\n        {location.pathname.split('/')[3] === 'add' && (\r\n          <>\r\n            <motion.img\r\n              variants={hide5}\r\n              onClick={returnHandler}\r\n              className='CloseModel'\r\n              src={xSign}\r\n              initial='hidden'\r\n              animate='show'\r\n              exit='exit'\r\n            />\r\n\r\n            <motion.div\r\n              variants={popup2}\r\n              initial='hidden'\r\n              animate='show'\r\n              exit='exit'\r\n              className='card'\r\n            >\r\n              <Scrollbars\r\n                renderTrackHorizontal={(props) => (\r\n                  <div {...props} className='track-horizontal-newView' />\r\n                )}\r\n                renderTrackVertical={(props) => (\r\n                  <div {...props} className='track-vertical-newView' />\r\n                )}\r\n                renderThumbHorizontal={(props) => (\r\n                  <div {...props} className='thumb-horizontal-newView' />\r\n                )}\r\n                renderThumbVertical={(props) => (\r\n                  <div {...props} className='thumb-vertical-newView' />\r\n                )}\r\n                renderView={(props) => <div {...props} className='newView' />}\r\n                className='card-large-scrollable-content'\r\n              >\r\n                <AnimatePresence>\r\n                  {location.pathname.split('/')[4] === 'image' && (\r\n                    <CropImg\r\n                      previewCanvasRef={previewCanvasRef}\r\n                      completedCrop={completedCrop}\r\n                      setCompletedCrop={setCompletedCrop}\r\n                      crop={crop}\r\n                      setCrop={setCrop}\r\n                      image={image}\r\n                      setImage={setImage}\r\n                      imageType={imageType}\r\n                      setImageType={setImageType}\r\n                      formData={formData}\r\n                      setFormData={setFormData}\r\n                      scrolled={scrolled}\r\n                    />\r\n                  )}\r\n                </AnimatePresence>\r\n                <motion.div className='createSection'>\r\n                  {newError && <DashboardError error={newError} />}\r\n                  <h1 className='title'>New Product</h1>\r\n                  <form onSubmit={addProductHandler}>\r\n                    <Input label='Name' value={name} setValue={setName} />\r\n                    <Input\r\n                      label='Price'\r\n                      value={price}\r\n                      setValue={setPrice}\r\n                      type='number'\r\n                    />\r\n                    <Input\r\n                      label='Old Price'\r\n                      value={oldPrice}\r\n                      setValue={setOldPrice}\r\n                      type='number'\r\n                      required={false}\r\n                    />\r\n                    <Input label='Brand' value={brand} setValue={setBrand} />\r\n                    <Input\r\n                      label='Stock'\r\n                      value={stock}\r\n                      setValue={setStock}\r\n                      type='number'\r\n                    />\r\n                    <Input\r\n                      label='Category'\r\n                      value={category}\r\n                      setValue={setCategory}\r\n                    />\r\n                    <Input\r\n                      label='Description'\r\n                      value={description}\r\n                      setValue={setDescription}\r\n                      input={false}\r\n                    />\r\n                    <Input\r\n                      label='Qty per user'\r\n                      value={qtyPerUser}\r\n                      setValue={setQtyPerUser}\r\n                      type='number'\r\n                    />\r\n                    <div className='switchCont'>\r\n                      <p>Free Shipping</p>\r\n                      <Switch\r\n                        offColor='#FF6969'\r\n                        onColor='#24CA84'\r\n                        checked={freeShipping}\r\n                        onChange={(e) => {\r\n                          setFreeShipping(e)\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <motion.div className='buttonCont'>\r\n                      <motion.button className='create' type='submit'>\r\n                        Create Product{newLoading && <Loader />}\r\n                      </motion.button>\r\n                    </motion.div>\r\n                  </form>\r\n                </motion.div>\r\n                <div className='preview'>\r\n                  <h5>Preview</h5>\r\n                  <Product\r\n                    crop={crop}\r\n                    previewCanvasRef={previewCanvasRef}\r\n                    completedCrop={completedCrop}\r\n                    setCompletedCrop={setCompletedCrop}\r\n                    type='preview'\r\n                    providedClassName='productPreview'\r\n                    data={{\r\n                      name: name.length ? name : 'Test',\r\n                      price: price.length ? price : 0,\r\n                      brand: brand.length ? brand : 'Test',\r\n                      countInStock: stock,\r\n                      category,\r\n                      image: '/uploads/no.jpg',\r\n                      numReviews: 0,\r\n                      oldPrice,\r\n                      freeShipping,\r\n                    }}\r\n                  />\r\n                </div>\r\n              </Scrollbars>\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </StyledUserAction>\r\n  )\r\n}\r\n\r\nconst StyledUserAction = styled(motion.div)`\r\n  .switchCont {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 1rem;\r\n    p {\r\n      font-size: calc(1rem + 0.3vw);\r\n      color: rgba(255, 255, 255, 0.8) !important;\r\n      margin-bottom: 0.25rem;\r\n    }\r\n  }\r\n  .react-switch-bg div svg {\r\n    display: none !important;\r\n  }\r\n  .newView {\r\n    height: 100% !important;\r\n    overflow: auto !important;\r\n    position: absolute;\r\n    inset: 0px;\r\n    margin-bottom: -20px !important;\r\n    margin-right: -8px !important;\r\n    display: grid;\r\n    place-items: center;\r\n    padding: calc(2.4rem + 1vw);\r\n    padding-bottom: 0rem;\r\n    border-radius: 20px;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    flex-direction: row;\r\n  }\r\n  .thumb-horizontal-newView {\r\n    position: relative;\r\n    display: block;\r\n    height: 100%;\r\n    cursor: pointer;\r\n    border-radius: inherit;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    width: 0px;\r\n  }\r\n  .track-horizontal-newView {\r\n    position: absolute;\r\n    height: 6px;\r\n    right: 2px;\r\n    bottom: 2px;\r\n    left: 2px;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  .track-vertical-newView {\r\n    position: absolute;\r\n    width: 6px;\r\n    right: 2px;\r\n    bottom: 2px;\r\n    top: 2px;\r\n    border-radius: 3px;\r\n  }\r\n  .thumb-vertical-newView {\r\n    position: relative;\r\n    display: block;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    border-radius: inherit;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    height: 135px;\r\n    transform: translateY(0px);\r\n  }\r\n  .CloseModel {\r\n    position: absolute;\r\n    right: 3%;\r\n    top: 4%;\r\n    width: 22px;\r\n    height: 22px;\r\n    opacity: 0.7;\r\n    transition: 0.2s ease;\r\n    &:hover {\r\n      opacity: 0.9 !important;\r\n    }\r\n  }\r\n  #loader:first-child {\r\n    width: calc(0.65rem + 0.5vw) !important;\r\n    height: calc(0.65rem + 0.5vw) !important;\r\n    margin-left: 0.45rem !important;\r\n    #greybackground path {\r\n      stroke: white !important;\r\n    }\r\n  }\r\n  .preview {\r\n    border-radius: 10px;\r\n    flex: 1 1 auto;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    flex-direction: column;\r\n    height: max-content;\r\n    position: fixed;\r\n    right: 50%;\r\n    top: 50%;\r\n    transform: translate(142%, calc(-40% + -5vh));\r\n    h5 {\r\n      font-size: calc(1rem + 0.3vw);\r\n      font-weight: 500;\r\n      margin-bottom: 0.5rem;\r\n      pointer-events: none;\r\n    }\r\n  }\r\n  .productPreview {\r\n    width: calc(200px + 5vw);\r\n    height: max-content;\r\n  }\r\n  .buttonCont {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n  }\r\n  .create {\r\n    background: #5a5da8;\r\n    color: white;\r\n    padding: 0.7rem 1.2rem;\r\n    font-size: calc(0.78rem + 0.3vw);\r\n    border: none;\r\n    border-radius: 10px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    margin-bottom: 2rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    &:hover {\r\n      background: #505295;\r\n    }\r\n  }\r\n\r\n  .createSection {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n  }\r\n  &#active {\r\n    background: rgba(29, 33, 62, 0.6);\r\n    pointer-events: all;\r\n  }\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 0;\r\n  -webkit-transform: translate(-50%, 0%);\r\n  -ms-transform: translate(-50%, 0%);\r\n  transform: translate(-50%, 0%);\r\n  cursor: pointer;\r\n  pointer-events: none;\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 2;\r\n  .card-large-scrollable-content {\r\n    border-radius: 20px;\r\n    .title {\r\n      font-size: calc(2rem + 0.3vw);\r\n      margin-bottom: 1rem;\r\n    }\r\n  }\r\n  .card {\r\n    cursor: auto;\r\n    background: #373864;\r\n    border-radius: 20px;\r\n    width: calc(100% - (calc(2.5rem + 0.5vh) * 2));\r\n    height: 82vh;\r\n  }\r\n  .disableScrolling {\r\n    overflow-y: hidden !important;\r\n  }\r\n`\r\n\r\nexport default DashboardNewProduct\r\n","import axios from \"axios\"\r\n\r\nexport const addNewProductAction = (productData) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  try {\r\n    dispatch({ type: \"ADD_PRODUCT_REQUEST\" })\r\n\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    const { data } = await axios.post(\"/api/products\", productData, config)\r\n    dispatch({\r\n      type: \"ADD_PRODUCT_SUCCESS\",\r\n      payload: data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: \"ADD_PRODUCT_FAIL\",\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n","import axios from 'axios'\r\n\r\nconst editProduct = (id, formData, search) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: 'DASHBOARD_PRODUCT_EDIT_REQUEST',\r\n    })\r\n\r\n    const { userInfo } = getState((state) => state.userInfo)\r\n    const state = getState((state) => state.productList)\r\n    const productList = state.productList\r\n    const searchedProducts = state.productSearch\r\n\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n      cancelToken: source.token,\r\n    }\r\n\r\n    const { data } = await axios.patch(`/api/products/${id}`, formData, config)\r\n\r\n    let finalArr\r\n    if (productList.products && !search) {\r\n      finalArr = productList.products.map((each) => {\r\n        if (each._id.toString() === id.toString()) {\r\n          each = data\r\n        }\r\n        return each\r\n      })\r\n      productList.products = finalArr\r\n    } else if (search && searchedProducts.products) {\r\n      finalArr = searchedProducts.products.map((each) => {\r\n        if (each._id.toString() === id.toString()) {\r\n          each = data\r\n          console.log(each)\r\n        }\r\n        return each\r\n      })\r\n      searchedProducts.products = finalArr\r\n    }\r\n\r\n    dispatch({\r\n      type: 'DASHBOARD_PRODUCT_EDIT_SUCCESS',\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'DASHBOARD_PRODUCT_EDIT_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\n\r\nexport default editProduct\r\n","export default __webpack_public_path__ + \"static/media/noImage.e55efc5a.svg\";","import React, { useEffect, useRef } from 'react'\r\nimport styled from 'styled-components'\r\nimport add from '../img/choose.svg'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { show, popup3 } from '../animations'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport ReactCrop from 'react-image-crop'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport DropZone from 'react-drop-zone'\r\nimport smallX from '../img/noImage.svg'\r\n\r\nconst EditCropImg = ({\r\n  completedCrop,\r\n  setCompletedCrop,\r\n  previewCanvasRef,\r\n  crop,\r\n  setCrop,\r\n  image,\r\n  setImage,\r\n  imageType,\r\n  setImageType,\r\n  formData,\r\n  setFormData,\r\n  noImage,\r\n  setNoImage,\r\n  productImg,\r\n  scrolled,\r\n}) => {\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n  const cancelHandler = () => {\r\n    setFormData(new FormData())\r\n    setCrop({\r\n      aspect: 64 / 51,\r\n      unit: '%',\r\n    })\r\n    setImage(null)\r\n    console.log('Image!!!!:', image)\r\n    setCompletedCrop(null)\r\n    history.push(`/dashboard/products/edit/${location.pathname.split('/')[4]}`)\r\n  }\r\n\r\n  const uploadFileHandler = (e) => {\r\n    setImageType(e.type)\r\n    setNoImage(false)\r\n\r\n    const reader = new FileReader()\r\n\r\n    reader.addEventListener('load', () => setImage(reader.result))\r\n    reader.readAsDataURL(e)\r\n  }\r\n\r\n  const imgRef = useRef(null)\r\n  useEffect(() => {\r\n    if (!completedCrop || !previewCanvasRef.current || !imgRef.current) {\r\n      return\r\n    }\r\n\r\n    const image = imgRef.current\r\n    const canvas = previewCanvasRef.current\r\n    const crop = completedCrop\r\n\r\n    const scaleX = image.naturalWidth / image.width\r\n    const scaleY = image.naturalHeight / image.height\r\n    const ctx = canvas.getContext('2d')\r\n    const pixelRatio = 20\r\n\r\n    canvas.width = crop.width * pixelRatio\r\n    canvas.height = crop.height * pixelRatio\r\n\r\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0)\r\n    ctx.imageSmoothingQuality = 'high'\r\n    ctx.imageSmoothingEnabled = false\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    )\r\n  }, [completedCrop])\r\n\r\n  window.addEventListener('resize', () => {\r\n    if (imgRef) {\r\n      const cont = document.querySelector('.ReactCrop')\r\n      const contDiv = document.querySelector('.ReactCrop div')\r\n      const motionCont = document.querySelector('.motionCont')\r\n\r\n      if (motionCont) motionCont.style.width = 'max-content'\r\n\r\n      if (contDiv) {\r\n        contDiv.style.height = `100%`\r\n      }\r\n      if (cont && imgRef.current) {\r\n        cont.style.width = '100%'\r\n        cont.style.width = `${imgRef.current.width}px`\r\n        cont.style.height = `100%`\r\n      }\r\n    }\r\n  })\r\n\r\n  const confirmHandler = (e) => {\r\n    if (imageType && previewCanvasRef.current && completedCrop.width) {\r\n      previewCanvasRef.current.toBlob(async (blob) => {\r\n        const type = () => {\r\n          switch (imageType) {\r\n            case 'image/png':\r\n              return 'png'\r\n            case 'image/jpg':\r\n              return 'jpg'\r\n            case 'image/jpeg':\r\n              return 'jpeg'\r\n          }\r\n        }\r\n        formData.delete('upload')\r\n        formData.append('upload', blob, `image.${type()}`)\r\n      })\r\n    } else if (noImage && !imageType) {\r\n      setImage(null)\r\n      setNoImage(false)\r\n    }\r\n    if (!e.target.classList.contains('disabled')) {\r\n      history.push(\r\n        `/dashboard/products/edit/${location.pathname.split('/')[4]}`\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StyledCart\r\n        scrolled={scrolled}\r\n        variants={show}\r\n        animate='show'\r\n        initial='hidden'\r\n        exit='exit'\r\n        transformTemplate={({ x }) => `translateX(${x})`}\r\n      >\r\n        <AnimatePresence>\r\n          {image && (\r\n            <motion.div\r\n              variants={popup3}\r\n              animate='show'\r\n              initial='hidden'\r\n              className='motionCont'\r\n            >\r\n              <ReactCrop\r\n                onImageLoaded={(img) => {\r\n                  imgRef.current = img\r\n                  const image = document.querySelector('.ReactCrop div img')\r\n                  const cont = document.querySelector('.ReactCrop')\r\n                  const contDiv = document.querySelector('.ReactCrop div')\r\n                  const motionCont = document.querySelector('.motionCont')\r\n                  motionCont.style.width = 'max-content'\r\n\r\n                  cont.style.width = `${image.width}px`\r\n                  cont.style.height = `max-content`\r\n                  contDiv.style.height = `max-content`\r\n\r\n                  setCrop({ width: image.width, height: image.height })\r\n                }}\r\n                src={image}\r\n                crop={crop}\r\n                onChange={(newCrop) => setCrop(newCrop)}\r\n                onComplete={(c) => setCompletedCrop(c)}\r\n              />\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {!image && (\r\n          <DropZone\r\n            accept={'.jpg, .jpeg, .png'}\r\n            className='dropOrSelect'\r\n            onDrop={(file) => uploadFileHandler(file)}\r\n          >\r\n            {({ over, overDocument }) => (\r\n              <div className={`dropOrSelect ${over ? 'active' : ''}`}>\r\n                <img src={add} />\r\n                {!over && !overDocument && (\r\n                  <p>\r\n                    Select or Drag your\r\n                    <br /> image here\r\n                  </p>\r\n                )}\r\n                {overDocument && !over && (\r\n                  <p>\r\n                    Drop your image\r\n                    <br /> here\r\n                  </p>\r\n                )}\r\n                {over && (\r\n                  <p>\r\n                    Yep over here,\r\n                    <br /> Drop now\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </DropZone>\r\n        )}\r\n\r\n        <div className={`buttons ${image ? 'activeCrop' : ''}`}>\r\n          {productImg !== '/uploads/no.jpg' && !noImage && (\r\n            <img\r\n              onClick={() => {\r\n                setNoImage(true)\r\n                formData.append('image', 'no')\r\n                setCrop({\r\n                  aspect: 64 / 51,\r\n                  unit: '%',\r\n                })\r\n                setImage(null)\r\n                setImageType(null)\r\n                setCompletedCrop(null)\r\n                history.push(\r\n                  `/dashboard/products/edit/${location.pathname.split('/')[4]}`\r\n                )\r\n              }}\r\n              src={smallX}\r\n              className='deleteIcon'\r\n            ></img>\r\n          )}\r\n          <button onClick={cancelHandler} className='cancel'>\r\n            {image ? 'Previous Img' : 'Cancel'}\r\n          </button>\r\n          <button\r\n            onClick={confirmHandler}\r\n            className={`confirm ${noImage ? 'previousImage' : ''} ${\r\n              completedCrop && !completedCrop.width ? 'disabled' : ''\r\n            }`}\r\n            id={`${completedCrop ? '' : 'notActive'}`}\r\n          >\r\n            {noImage ? 'Previous Img' : 'Confirm'}\r\n          </button>\r\n        </div>\r\n      </StyledCart>\r\n    </>\r\n  )\r\n}\r\n\r\nconst StyledCart = styled(motion.div)`\r\n  z-index: 2;\r\n\r\n  .disabled {\r\n    transition: 0.3s ease;\r\n    filter: grayscale(1);\r\n    cursor: not-allowed !important;\r\n    &:hover {\r\n      background: #1faf73 !important;\r\n    }\r\n  }\r\n  .previousImage {\r\n    pointer-events: all !important;\r\n    opacity: 1 !important;\r\n  }\r\n  #notActive {\r\n    pointer-events: none;\r\n    opacity: 0;\r\n  }\r\n  .motionCont {\r\n    padding-top: calc(2rem + 1vh);\r\n    max-height: 80%;\r\n    max-width: 90%;\r\n  }\r\n  .ReactCrop {\r\n    height: 100%;\r\n  }\r\n  .ReactCrop div img {\r\n    max-height: 100%;\r\n  }\r\n  .ReactCrop div:first-child {\r\n    height: 100%;\r\n  }\r\n  position: absolute;\r\n  left: 0;\r\n  top: ${(props) => props.scrolled}px;\r\n  height: 100%;\r\n  width: 50%;\r\n  background: #2c2d50;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  button {\r\n    border: none;\r\n    background: none;\r\n    outline: none;\r\n  }\r\n  .activeCrop {\r\n    margin-bottom: 1.5rem;\r\n  }\r\n  .buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-top: 1.5rem;\r\n    position: relative;\r\n    img {\r\n      position: absolute;\r\n      left: 0%;\r\n      top: 50%;\r\n      transform: translate(-150%, -50%);\r\n      width: 35px;\r\n      height: 35px;\r\n      padding-right: 0.65rem;\r\n      cursor: pointer;\r\n      opacity: 1;\r\n      transition: 0.2s ease;\r\n      &:hover {\r\n        opacity: 0.8;\r\n      }\r\n    }\r\n    button {\r\n      color: white;\r\n      padding: 0.65rem 1.1rem;\r\n      border-radius: 10px;\r\n      cursor: pointer;\r\n      font-size: calc(0.75rem + 0.3vw);\r\n      transition: 0.2s ease;\r\n    }\r\n    .cancel {\r\n      box-shadow: inset 0px 0px 0px 2px white;\r\n      &:hover {\r\n        opacity: 0.6;\r\n      }\r\n    }\r\n    .confirm {\r\n      margin-left: calc(0.7rem + 2vw);\r\n      font-weight: 500;\r\n      background: #1faf73;\r\n      &:hover {\r\n        background: #1c9c67;\r\n      }\r\n    }\r\n  }\r\n  .dropOrSelect {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    background: #3d3e6e;\r\n    width: 80%;\r\n    height: calc(15vh + 16rem);\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n    transition: background 0.3s ease;\r\n    img {\r\n      width: 45px;\r\n      height: 45px;\r\n      pointer-events: none;\r\n    }\r\n    p {\r\n      font-size: calc(0.9rem + 0.3vw);\r\n      text-align: center;\r\n      margin-top: 0.7rem;\r\n      color: rgba(255, 255, 255, 90%) !important;\r\n      pointer-events: none;\r\n    }\r\n    &.active {\r\n      background: #44457a;\r\n    }\r\n  }\r\n`\r\n\r\nexport default EditCropImg\r\n","export default __webpack_public_path__ + \"static/media/info.1360709b.svg\";","import React, { useState, useEffect, useRef } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation, Link } from 'react-router-dom'\r\nimport { parseISO, format } from 'date-fns'\r\nimport { motion, AnimatePresence } from 'framer-motion'\r\nimport { popup2, popupLeft, hide5 } from '../animations'\r\nimport Loader from '../components/loader'\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\nimport Input from '../components/DashboardInput'\r\nimport Product from '../components/Product'\r\nimport editProduct from '../actions/editProduct'\r\nimport DashboardError from '../components/DashboardError'\r\nimport EditCropImg from '../components/EditCropImg'\r\nimport { DashboardProductDetailAction } from '../actions/products'\r\nimport info from '../img/info.svg'\r\nimport { throttle } from 'underscore'\r\nimport xSign from '../img/smallX.svg'\r\nimport qs from 'qs'\r\nimport Switch from 'react-switch'\r\nimport { useLastLocation } from 'react-router-last-location'\r\n\r\nconst DashboardEditProduct = ({ scrolled, setScrolled }) => {\r\n  const lastLocation = useLastLocation()\r\n  const [freeShipping, setFreeShipping] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const location = useLocation()\r\n  const searches = qs.parse(location.search, { ignoreQueryPrefix: true })\r\n  const history = useHistory()\r\n  const { dashboardProduct, error: editError } = useSelector(\r\n    (state) => state.product\r\n  )\r\n  const [loaded, setLoaded] = useState(false)\r\n\r\n  const [scrollableContent, setScrollableContent] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const firstChild = document.querySelector('.editView')\r\n    const scrollbarThumb = document.querySelector('.track-vertical-editView')\r\n    if (firstChild) {\r\n      setScrollableContent(firstChild)\r\n      if (\r\n        location.pathname.split('/')[3] === 'edit' &&\r\n        location.pathname.split('/')[5] === 'image'\r\n      ) {\r\n        firstChild.classList.add('disableScrolling')\r\n      } else {\r\n        firstChild.classList.remove('disableScrolling')\r\n      }\r\n      setLoaded(false)\r\n    }\r\n    if (\r\n      scrollbarThumb &&\r\n      location.pathname.split('/')[3] === 'edit' &&\r\n      location.pathname.split('/')[5] === 'image'\r\n    ) {\r\n      scrollbarThumb.style.display = 'none'\r\n    } else if (scrollbarThumb) {\r\n      scrollbarThumb.style.display = 'block'\r\n    }\r\n  }, [location.pathname, loaded])\r\n\r\n  useEffect(() => {\r\n    if (scrollableContent) {\r\n      scrollableContent.addEventListener(\r\n        'scroll',\r\n        throttle(() => {\r\n          setScrolled(scrollableContent.scrollTop)\r\n        }, 100)\r\n      )\r\n    }\r\n  }, [scrollableContent])\r\n\r\n  const [name, setName] = useState('')\r\n  const [price, setPrice] = useState('')\r\n  const [oldPrice, setOldPrice] = useState('')\r\n  const [brand, setBrand] = useState('')\r\n  const [stock, setStock] = useState('')\r\n  const [category, setCategory] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [qtyPerUser, setQtyPerUser] = useState('')\r\n\r\n  const [formData, setFormData] = useState(new FormData())\r\n\r\n  const { editLoading, error, editSuccess } = useSelector(\r\n    (state) => state.product\r\n  )\r\n  const { products: searchedProducts } = useSelector(\r\n    (state) => state.productSearch\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (editError) {\r\n      const firstChild = document.querySelector(\r\n        '.card-large-scrollable-content div:first-child'\r\n      )\r\n      if (firstChild) {\r\n        firstChild.scroll({\r\n          top: 0,\r\n          left: 0,\r\n          behavior: 'smooth',\r\n        })\r\n      }\r\n    }\r\n  }, [editError])\r\n\r\n  useEffect(() => {\r\n    if (editSuccess) {\r\n      setName('')\r\n      setPrice('')\r\n      setOldPrice('')\r\n      setFreeShipping(false)\r\n      setBrand('')\r\n      setStock('')\r\n      setCategory('')\r\n      setDescription('')\r\n      setQtyPerUser('')\r\n      setImageType(null)\r\n      setNoImage(false)\r\n      setFormData(new FormData())\r\n      setCrop({\r\n        aspect: 64 / 51,\r\n        unit: '%',\r\n      })\r\n      setCompletedCrop(null)\r\n      setAddedImage(null)\r\n\r\n      let baseURL = '/dashboard/products?'\r\n      if (searches[Object.keys(searches)[0]]) {\r\n        baseURL += `${Object.keys(searches)[0]}=${\r\n          searches[Object.keys(searches)[0]]\r\n        }&`\r\n      }\r\n      if (searches.brand) {\r\n        baseURL += `brand=${searches.brand}&`\r\n      }\r\n      if (searches.category) {\r\n        baseURL += `category=${searches.category}&`\r\n      }\r\n\r\n      history.push(\r\n        searches.search && searchedProducts\r\n          ? `/dashboard/products?search=${searches.search}`\r\n          : lastLocation\r\n          ? baseURL\r\n          : '/dashboard/products'\r\n      )\r\n    }\r\n  }, [editSuccess])\r\n  useEffect(() => {\r\n    if (location.pathname.split('/')[3] !== 'edit') {\r\n      if (dashboardProduct) {\r\n        setName(dashboardProduct.name)\r\n        setPrice(dashboardProduct.price)\r\n        setBrand(dashboardProduct.brand)\r\n        setStock(dashboardProduct.countInStock)\r\n        setCategory(dashboardProduct.category)\r\n        setDescription(dashboardProduct.description)\r\n        setQtyPerUser(dashboardProduct.qtyPerUser)\r\n        setImage(dashboardProduct.image)\r\n        setOldPrice(dashboardProduct.oldPrice ? dashboardProduct.oldPrice : '')\r\n        setFreeShipping(\r\n          dashboardProduct.freeShipping ? dashboardProduct.freeShipping : ''\r\n        )\r\n      }\r\n    }\r\n  }, [location.pathname])\r\n\r\n  useEffect(() => {\r\n    if (dashboardProduct) {\r\n      setName(dashboardProduct.name)\r\n      setPrice(dashboardProduct.price)\r\n      setBrand(dashboardProduct.brand)\r\n      setStock(dashboardProduct.countInStock)\r\n      setCategory(dashboardProduct.category)\r\n      setDescription(dashboardProduct.description)\r\n      setQtyPerUser(dashboardProduct.qtyPerUser)\r\n      setImage(dashboardProduct.image)\r\n      setOldPrice(dashboardProduct.oldPrice ? dashboardProduct.oldPrice : '')\r\n      setFreeShipping(\r\n        dashboardProduct.freeShipping ? dashboardProduct.freeShipping : ''\r\n      )\r\n    }\r\n  }, [dashboardProduct])\r\n\r\n  //Crop\r\n  const [completedCrop, setCompletedCrop] = useState(null)\r\n  const previewCanvasRef = useRef(null)\r\n  const [crop, setCrop] = useState({\r\n    aspect: 64 / 51,\r\n    unit: '%',\r\n  })\r\n  const [image, setImage] = useState('/uploads/no.jpg')\r\n  const [noImage, setNoImage] = useState(false)\r\n  const [addedImage, setAddedImage] = useState(null)\r\n  const [imageType, setImageType] = useState(null)\r\n\r\n  const [openInfo, setOpenInfo] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setOpenInfo(false)\r\n    if (\r\n      (location.pathname.split('/')[3] === 'edit' && !dashboardProduct) ||\r\n      (location.pathname.split('/')[3] === 'edit' &&\r\n        dashboardProduct &&\r\n        location.pathname.split('/')[4] &&\r\n        dashboardProduct._id !== location.pathname.split('/')[4])\r\n    ) {\r\n      dispatch(\r\n        DashboardProductDetailAction(\r\n          location.pathname.split('/')[4],\r\n          searches.search\r\n        )\r\n      )\r\n    }\r\n    console.log(\r\n      dashboardProduct ? dashboardProduct._id : '',\r\n      location.pathname.split('/')[4]\r\n    )\r\n  }, [location.pathname])\r\n\r\n  const editProductHandler = (e) => {\r\n    e.preventDefault()\r\n    const dataObj = {\r\n      name,\r\n      price,\r\n      brand,\r\n      countInStock: stock,\r\n      category,\r\n      description,\r\n      qtyPerUser,\r\n      oldPrice,\r\n      freeShipping,\r\n    }\r\n    for (const e in dataObj) {\r\n      formData.append(e, dataObj[e])\r\n    }\r\n    const id = location.pathname.split('/')[4]\r\n    dispatch(editProduct(id, formData, searches.search))\r\n  }\r\n\r\n  const returnHandler = () => {\r\n    setFormData(new FormData())\r\n    setCrop({\r\n      aspect: 64 / 51,\r\n      unit: '%',\r\n    })\r\n    setCompletedCrop(null)\r\n    setAddedImage(null)\r\n    setImageType(null)\r\n    let baseURL = '/dashboard/products?'\r\n    if (searches[Object.keys(searches)[0]]) {\r\n      baseURL += `${Object.keys(searches)[0]}=${\r\n        searches[Object.keys(searches)[0]]\r\n      }&`\r\n    }\r\n    if (searches.brand) {\r\n      baseURL += `brand=${searches.brand}&`\r\n    }\r\n    if (searches.category) {\r\n      baseURL += `category=${searches.category}&`\r\n    }\r\n\r\n    history.push(\r\n      searches.search && searchedProducts\r\n        ? `/dashboard/products?search=${searches.search}`\r\n        : lastLocation\r\n        ? baseURL\r\n        : '/dashboard/products'\r\n    )\r\n  }\r\n  return (\r\n    <StyledUserAction\r\n      id={`${location.pathname.split('/')[3] === 'edit' ? 'active' : ''}`}\r\n      className='cardCont'\r\n      onClick={(e) => {\r\n        if (\r\n          e.target.classList.contains('cardCont') &&\r\n          (location.pathname.split('/')[5] !== 'image' || !addedImage)\r\n        )\r\n          returnHandler()\r\n      }}\r\n    >\r\n      <AnimatePresence>\r\n        {location.pathname.split('/')[3] === 'edit' && error && (\r\n          <DashboardError error={error} />\r\n        )}\r\n        {location.pathname.split('/')[3] === 'edit' && dashboardProduct && (\r\n          <>\r\n            <motion.img\r\n              variants={hide5}\r\n              onClick={returnHandler}\r\n              className='CloseModel'\r\n              src={xSign}\r\n              initial='hidden'\r\n              animate='show'\r\n              exit='exit'\r\n            />\r\n            <motion.div\r\n              variants={popup2}\r\n              initial='hidden'\r\n              animate='show'\r\n              exit='exit'\r\n              className='card'\r\n            >\r\n              <Scrollbars\r\n                renderTrackHorizontal={(props) => (\r\n                  <div {...props} className='track-horizontal-editView' />\r\n                )}\r\n                renderTrackVertical={(props) => (\r\n                  <div {...props} className='track-vertical-editView' />\r\n                )}\r\n                renderThumbHorizontal={(props) => (\r\n                  <div {...props} className='thumb-horizontal-editView' />\r\n                )}\r\n                renderThumbVertical={(props) => (\r\n                  <div {...props} className='thumb-vertical-editView' />\r\n                )}\r\n                renderView={(props) => <div {...props} className='editView' />}\r\n                onLoad={() => setLoaded(true)}\r\n                className='card-big-large-scrollable-content'\r\n              >\r\n                <AnimatePresence>\r\n                  {location.pathname.split('/')[5] === 'image' && (\r\n                    <EditCropImg\r\n                      noImage={noImage}\r\n                      setNoImage={setNoImage}\r\n                      previewCanvasRef={previewCanvasRef}\r\n                      completedCrop={completedCrop}\r\n                      setCompletedCrop={setCompletedCrop}\r\n                      crop={crop}\r\n                      setCrop={setCrop}\r\n                      image={addedImage}\r\n                      setImage={setAddedImage}\r\n                      imageType={imageType}\r\n                      setImageType={setImageType}\r\n                      formData={formData}\r\n                      setFormData={setFormData}\r\n                      productImg={image}\r\n                      scrolled={scrolled}\r\n                    />\r\n                  )}\r\n                </AnimatePresence>\r\n                <motion.div className='createSection'>\r\n                  {error && <DashboardError error={error} />}\r\n\r\n                  <h1 className='title'>Edit Product</h1>\r\n\r\n                  <form onSubmit={(e) => editProductHandler(e)}>\r\n                    <Input label='Name' value={name} setValue={setName} />\r\n                    <Input\r\n                      label='Price'\r\n                      value={price}\r\n                      setValue={setPrice}\r\n                      type='number'\r\n                    />\r\n                    <Input\r\n                      label='Old Price'\r\n                      value={oldPrice}\r\n                      setValue={setOldPrice}\r\n                      type='number'\r\n                      required={false}\r\n                    />\r\n                    <Input label='Brand' value={brand} setValue={setBrand} />\r\n                    <Input\r\n                      label='Stock'\r\n                      value={stock}\r\n                      setValue={setStock}\r\n                      type='number'\r\n                    />\r\n                    <Input\r\n                      label='Category'\r\n                      value={category}\r\n                      setValue={setCategory}\r\n                    />\r\n                    <Input\r\n                      label='Description'\r\n                      value={description}\r\n                      setValue={setDescription}\r\n                      input={false}\r\n                    />\r\n                    <Input\r\n                      label='Qty per user'\r\n                      value={qtyPerUser}\r\n                      setValue={setQtyPerUser}\r\n                      type='number'\r\n                    />\r\n                    <div className='switchCont'>\r\n                      <p>Free Shipping</p>\r\n                      <Switch\r\n                        offColor='#FF6969'\r\n                        onColor='#24CA84'\r\n                        checked={freeShipping}\r\n                        onChange={(e) => {\r\n                          setFreeShipping(e)\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <motion.div className='buttonCont'>\r\n                      <motion.button\r\n                        onClick={(e) => editProductHandler(e)}\r\n                        className='create'\r\n                        type='submit'\r\n                      >\r\n                        Edit Product{editLoading && <Loader />}\r\n                      </motion.button>\r\n                    </motion.div>\r\n                  </form>\r\n                </motion.div>\r\n                <div className='preview'>\r\n                  <div className='cardTitle'>\r\n                    <h5>Preview</h5>\r\n                    <div className='info'>\r\n                      <img\r\n                        className={`${openInfo ? 'active' : ''}`}\r\n                        onClick={() => setOpenInfo(!openInfo)}\r\n                        src={info}\r\n                      />\r\n                      <AnimatePresence>\r\n                        {openInfo && (\r\n                          <motion.div\r\n                            initial='hidden'\r\n                            animate='show'\r\n                            exit='exit'\r\n                            variants={popupLeft}\r\n                            className='data'\r\n                          >\r\n                            <motion.ul>\r\n                              <motion.li layout>\r\n                                Stock value:{' '}\r\n                                {(\r\n                                  dashboardProduct.countInStock *\r\n                                  dashboardProduct.price\r\n                                ).toFixed(2)}{' '}\r\n                                <span className='currency'>EGP</span>\r\n                              </motion.li>\r\n                              <motion.li layout>\r\n                                Product Created by:\r\n                                <Link className='links'>\r\n                                  {dashboardProduct.user.name}\r\n                                </Link>\r\n                              </motion.li>\r\n                              <motion.li layout>\r\n                                Created at:{' '}\r\n                                {format(\r\n                                  parseISO(dashboardProduct.createdAt),\r\n                                  'yyyy-MM-dd / hh:mm a'\r\n                                )}\r\n                              </motion.li>\r\n                              {dashboardProduct.lastUpdated && (\r\n                                <motion.li layout>\r\n                                  Last updated:{' '}\r\n                                  {format(\r\n                                    parseISO(dashboardProduct.lastUpdated),\r\n                                    'yyyy-MM-dd / hh:mm a'\r\n                                  )}\r\n                                </motion.li>\r\n                              )}\r\n                            </motion.ul>\r\n                          </motion.div>\r\n                        )}\r\n                      </AnimatePresence>\r\n                    </div>\r\n                  </div>\r\n                  <Product\r\n                    noImage={noImage}\r\n                    crop={crop}\r\n                    previewCanvasRef={previewCanvasRef}\r\n                    completedCrop={completedCrop}\r\n                    setCompletedCrop={setCompletedCrop}\r\n                    type='preview'\r\n                    providedClassName='productPreview'\r\n                    data={{\r\n                      name: name.length ? name : 'Test',\r\n                      price: price !== '' ? price : 0,\r\n                      brand: brand.length ? brand : 'Test',\r\n                      countInStock: stock,\r\n                      category,\r\n                      image,\r\n                      numReviews: 0,\r\n                      oldPrice,\r\n                      freeShipping,\r\n                      _id: dashboardProduct._id,\r\n                    }}\r\n                    edit={true}\r\n                  />\r\n                </div>\r\n              </Scrollbars>\r\n            </motion.div>\r\n          </>\r\n        )}\r\n      </AnimatePresence>\r\n    </StyledUserAction>\r\n  )\r\n}\r\n\r\nconst StyledUserAction = styled(motion.div)`\r\n  .switchCont {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 1rem;\r\n    p {\r\n      font-size: calc(1rem + 0.3vw);\r\n      color: rgba(255, 255, 255, 0.8) !important;\r\n      margin-bottom: 0.25rem;\r\n    }\r\n  }\r\n  .react-switch-bg div svg {\r\n    display: none !important;\r\n  }\r\n  .editView {\r\n    height: 100% !important;\r\n    overflow: auto !important;\r\n    position: absolute;\r\n    inset: 0px;\r\n    margin-bottom: -20px !important;\r\n    margin-right: -8px !important;\r\n    display: grid;\r\n    place-items: center;\r\n    padding: calc(2.4rem + 1vw);\r\n    padding-bottom: 0rem;\r\n    border-radius: 20px;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    flex-direction: row;\r\n  }\r\n  .thumb-horizontal-editView {\r\n    position: relative;\r\n    display: block;\r\n    height: 100%;\r\n    cursor: pointer;\r\n    border-radius: inherit;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    width: 0px;\r\n  }\r\n  .track-horizontal-editView {\r\n    position: absolute;\r\n    height: 6px;\r\n    right: 2px;\r\n    bottom: 2px;\r\n    left: 2px;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  .track-vertical-editView {\r\n    position: absolute;\r\n    width: 6px;\r\n    right: 2px;\r\n    bottom: 2px;\r\n    top: 2px;\r\n    border-radius: 3px;\r\n  }\r\n  .thumb-vertical-editView {\r\n    position: relative;\r\n    display: block;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    border-radius: inherit;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    height: 135px;\r\n    transform: translateY(0px);\r\n  }\r\n  .CloseModel {\r\n    position: absolute;\r\n    right: 3%;\r\n    top: 4%;\r\n    width: 22px;\r\n    height: 22px;\r\n    opacity: 0.7;\r\n    transition: 0.2s ease;\r\n    &:hover {\r\n      opacity: 0.9 !important;\r\n    }\r\n  }\r\n  .links {\r\n    margin-left: 0.3rem;\r\n    &:hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n  .currency {\r\n    display: inline-block;\r\n    font-size: calc(0.25rem + 0.4vw);\r\n    height: max-content;\r\n    transform: translate(-11%, -7%);\r\n  }\r\n  ul li:first-child {\r\n    position: relative;\r\n  }\r\n  .cardTitle {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  .data {\r\n    background: #45467f;\r\n    border-radius: 10px;\r\n    z-index: 5;\r\n    position: absolute;\r\n    left: -5%;\r\n    top: 50%;\r\n    transform: translate(-105%, -50%);\r\n    cursor: auto;\r\n    box-shadow: rgba(29, 32, 62, 0.42) 0px 2px 10px;\r\n    &::after {\r\n      content: '';\r\n      width: 0;\r\n      position: absolute;\r\n      right: 0;\r\n      top: 50%;\r\n      transform: translate(100%, -50%);\r\n      height: 0;\r\n      border-top: 8px solid transparent;\r\n      border-left: 14px solid #45467f;\r\n      border-bottom: 8px solid transparent;\r\n    }\r\n    ul {\r\n      padding: 0.8rem 1.1rem;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n      justify-content: center;\r\n      list-style-position: inside;\r\n      li {\r\n        width: max-content;\r\n        padding-bottom: 0.2rem;\r\n        &:last-child {\r\n          padding-bottom: 0rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .info {\r\n    width: 33px;\r\n    height: 33px;\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    display: flex;\r\n    position: relative;\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n      filter: brightness(1.1);\r\n      border-radius: 50%;\r\n\r\n      &.active {\r\n        filter: brightness(1);\r\n        box-shadow: rgba(29, 32, 62, 0.21) 0px 2px 10px;\r\n      }\r\n      &:hover {\r\n        filter: brightness(1);\r\n      }\r\n    }\r\n  }\r\n  #loader:first-child {\r\n    width: calc(0.65rem + 0.5vw) !important;\r\n    height: calc(0.65rem + 0.5vw) !important;\r\n    margin-left: 0.45rem !important;\r\n    #greybackground path {\r\n      stroke: white !important;\r\n    }\r\n  }\r\n  .preview {\r\n    border-radius: 10px;\r\n    flex: 1 1 auto;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    flex-direction: column;\r\n    height: max-content;\r\n    position: fixed;\r\n    right: 50%;\r\n    top: 50%;\r\n    transform: translate(142%, calc(-40% + -5vh));\r\n    h5 {\r\n      font-size: calc(1rem + 0.3vw);\r\n      font-weight: 500;\r\n      pointer-events: none;\r\n    }\r\n  }\r\n  .productPreview {\r\n    width: calc(200px + 5vw);\r\n    height: max-content;\r\n    z-index: -1;\r\n  }\r\n  .buttonCont {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n  }\r\n  .create {\r\n    background: #5a5da8;\r\n    color: white;\r\n    padding: 0.7rem 1.2rem;\r\n    font-size: calc(0.78rem + 0.3vw);\r\n    border: none;\r\n    border-radius: 10px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    margin-bottom: 2rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    &:hover {\r\n      background: #505295;\r\n    }\r\n  }\r\n\r\n  .createSection {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n  }\r\n  &#active {\r\n    background: rgba(29, 33, 62, 0.6);\r\n    pointer-events: all;\r\n  }\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 0;\r\n  transform: translate(-50%, 0%);\r\n  cursor: pointer;\r\n  pointer-events: none;\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 2;\r\n  .card-big-large-scrollable-content {\r\n    border-radius: 20px;\r\n    .title {\r\n      font-size: calc(2rem + 0.3vw);\r\n      margin-bottom: 1rem;\r\n    }\r\n  }\r\n  .card {\r\n    cursor: auto;\r\n    background: #373864;\r\n    border-radius: 20px;\r\n    width: calc(100% - (calc(2.5rem + 0.5vh) * 2));\r\n    height: 82vh;\r\n  }\r\n  .disableScrolling {\r\n    overflow-y: hidden !important;\r\n  }\r\n`\r\n\r\nexport default DashboardEditProduct\r\n","export default __webpack_public_path__ + \"static/media/connect.3f659f1a.svg\";","export default __webpack_public_path__ + \"static/media/addIcon.7d5d0cae.svg\";","import axios from 'axios'\r\n\r\nconst searchProducts = (search) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: 'PRODUCT_SEARCH_REQUEST',\r\n    })\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      cancelToken: source.token,\r\n    }\r\n    const { data } = await axios.get(\r\n      `/api/products/search?find=${search}&limit=${10}`,\r\n      config\r\n    )\r\n    dispatch({\r\n      type: 'PRODUCT_SEARCH_SUCCESS',\r\n      payload: data,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'PRODUCT_SEARCH_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\nexport default searchProducts\r\n","import axios from 'axios'\r\n\r\nconst infiniteScrollProducts = (\r\n  skip,\r\n  filterType,\r\n  filterValue,\r\n  brand,\r\n  category\r\n) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: 'INFINITE_PRODUCTS_REQUEST',\r\n    })\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      cancelToken: source.token,\r\n    }\r\n    const { data } = await axios.get(\r\n      `/api/products?limit=10&skip=${\r\n        10 * skip\r\n      }&${filterType}=${filterValue}&brand=${brand}&category=${category}`,\r\n      config\r\n    )\r\n\r\n    dispatch({\r\n      type: 'INFINITE_PRODUCTS_SUCCESS',\r\n      payload: data.products,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'INFINITE_PRODUCTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\nexport default infiniteScrollProducts\r\n","import axios from 'axios'\r\n\r\nconst infiniteScrollProducts = (skip, search) => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: 'INFINITE_SEARCHED_PRODUCTS_REQUEST',\r\n    })\r\n    const cancelToken = axios.CancelToken\r\n    const source = cancelToken.source()\r\n    const config = {\r\n      cancelToken: source.token,\r\n    }\r\n    const { data } = await axios.get(\r\n      `/api/products/search?find=${search}&skip=${skip * 10}&limit=${10}`,\r\n      config\r\n    )\r\n\r\n    dispatch({\r\n      type: 'INFINITE_SEARCHED_PRODUCTS_SUCCESS',\r\n      payload: data.products,\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'INFINITE_SEARCHED_PRODUCTS_FAIL',\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    })\r\n  }\r\n}\r\nexport default infiniteScrollProducts\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { productListAction } from '../actions/products'\r\nimport Loader from '../components/loader'\r\nimport DashboardError from '../components/DashboardError'\r\nimport { AnimatePresence, motion } from 'framer-motion'\r\nimport { hide, popupLeft } from '../animations'\r\nimport search from '../img/searchIcon.svg'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport smallX from '../img/smallX.svg'\r\nimport { useLastLocation } from 'react-router-last-location'\r\nimport { throttle } from 'underscore'\r\nimport socket from '../clientSocket/socket'\r\nimport ConfirmPopup from '../components/confirmPopup'\r\nimport ProductDashboard from '../components/ProductDashboard'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport deleteProduct from '../actions/deleteProduct'\r\nimport DashboardNewProduct from './DashboardNewProduct'\r\nimport DashboardEditProduct from './DashboardEditProduct'\r\nimport sort from '../img/sort.svg'\r\nimport connect from '../img/connect.svg'\r\nimport Input from '../components/DashboardInput'\r\nimport arrow from '../img/arrow3.svg'\r\nimport info from '../img/info.svg'\r\nimport add from '../img/addIcon.svg'\r\nimport { useRef } from 'react'\r\nimport qs from 'qs'\r\nimport searchProducts from '../actions/searchProduct'\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\nimport infiniteScrollProducts from '../actions/infiniteScrollProducts'\r\nimport infiniteScrollProductsSearched from '../actions/infiniteScrollSearchedProducts'\r\nimport { useInView } from 'react-intersection-observer'\r\n\r\nconst DashboardProducts = ({\r\n  setDashboardScrollPosition,\r\n  dashboardScrollPosition,\r\n  scrollRef,\r\n}) => {\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      const view = document.querySelector('.view')\r\n\r\n      if (view)\r\n        view.scroll({\r\n          left: 0,\r\n          top: dashboardScrollPosition,\r\n          behavior: 'smooth',\r\n        })\r\n    }\r\n  }, [scrollRef.current])\r\n  Object.size = function (obj) {\r\n    var size = 0,\r\n      key\r\n    for (key in obj) {\r\n      if (obj.hasOwnProperty(key)) size++\r\n    }\r\n    return size\r\n  }\r\n\r\n  const { products, error, loading, count, filtering } = useSelector(\r\n    (state) => state.productList\r\n  )\r\n\r\n  const [skip, setSkip] = useState(1)\r\n  const [skip2, setSkip2] = useState(1)\r\n\r\n  const lastLocation = useLastLocation()\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    if (!location.search) {\r\n      if (lastLocation) {\r\n        if (\r\n          location.pathname.split('/')[3] === 'add' ||\r\n          (lastLocation.pathname.split('/')[2] &&\r\n            lastLocation.pathname.split('/')[1] === 'products' &&\r\n            !lastLocation.pathname.split('/')[3]) ||\r\n          (lastLocation.pathname.split('/')[3] === 'add' && products) ||\r\n          (lastLocation.pathname === '/dashboard/products' &&\r\n            location.pathname === '/dashboard/products/add') ||\r\n          (location.pathname === '/dashboard/products/add' &&\r\n            lastLocation.pathname === '/dashboard/products/add') ||\r\n          (lastLocation.pathname.split('/')[3] === 'edit' && products) ||\r\n          location.pathname.split('/')[3] === 'edit' ||\r\n          searches.search\r\n        ) {\r\n          return\r\n        }\r\n\r\n        dispatch(productListAction())\r\n        setSkip(1)\r\n      } else {\r\n        if (\r\n          location.pathname.split('/')[3] !== 'add' &&\r\n          location.pathname.split('/')[3] !== 'edit' &&\r\n          !searches.search\r\n        ) {\r\n          dispatch(productListAction())\r\n          setSkip(1)\r\n        }\r\n      }\r\n    }\r\n  }, [dispatch, lastLocation])\r\n\r\n  const searchHandler = (e) => {\r\n    e.preventDefault()\r\n    //?Search Products\r\n    if (searchValue.length) history.push(`?search=${searchValue}`)\r\n  }\r\n\r\n  const returnHandler = () => {\r\n    //?Clear search and redirect\r\n    setSearchValue('')\r\n    history.push('/dashboard/products')\r\n  }\r\n\r\n  const [scrolled, setScrolled] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const container = document.querySelector('.view')\r\n    if (container) {\r\n      container.addEventListener(\r\n        'scroll',\r\n        throttle(() => {\r\n          setScrolled(container.scrollTop)\r\n        }, 100)\r\n      )\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const container = document.querySelector('.view')\r\n\r\n    if (container) {\r\n      if (location.pathname.split('/')[3]) container.style.overflowY = 'hidden'\r\n      else container.style.overflowY = 'scroll'\r\n    }\r\n  }, [location.pathname])\r\n\r\n  useEffect(() => {\r\n    const cardCont = document.querySelectorAll('.cardCont')\r\n    const popups = document.querySelectorAll('.confirmationPopup')\r\n\r\n    popups.forEach((e) => (e.style.top = `${scrolled}px`))\r\n    cardCont.forEach((e) => (e.style.top = `${scrolled}px`))\r\n  }, [scrolled])\r\n\r\n  const animCondition = () => {\r\n    if (lastLocation) {\r\n      if (\r\n        lastLocation.pathname.split('/')[2] &&\r\n        lastLocation.pathname.split('/')[1].toLowerCase() === 'products' &&\r\n        !lastLocation.pathname.split('/')[3]\r\n      ) {\r\n        return ''\r\n      } else {\r\n        return hide\r\n      }\r\n    } else {\r\n      return hide\r\n    }\r\n  }\r\n\r\n  const { asking: deleteAsking, confirm } = useSelector(\r\n    (state) => state.deleteProduct\r\n  )\r\n  const [clickedForDelete, setClickedForDelete] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (confirm) {\r\n      dispatch(deleteProduct(clickedForDelete._id, searches.search))\r\n    }\r\n  }, [confirm])\r\n\r\n  const lastCondition = () =>\r\n    lastLocation\r\n      ? lastLocation.pathname.split('/')[3] !== 'add' ||\r\n        lastLocation.pathname.split('/')[3] !== 'edit'\r\n      : true\r\n  const lastCondition2 = () =>\r\n    lastLocation\r\n      ? lastLocation.pathname.split('/')[3] === 'add' ||\r\n        lastLocation.pathname.split('/')[3] === 'edit'\r\n      : true\r\n\r\n  const condition4 = () => {\r\n    if (lastLocation) {\r\n      if (lastLocation.pathname.split('/')[3] !== 'edit') {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  const [openFilter, setOpenFilter] = useState(false)\r\n\r\n  const searches = qs.parse(location.search, { ignoreQueryPrefix: true })\r\n\r\n  const [brand, setBrand] = useState(searches.brand ? searches.brand : '')\r\n  const [category, setCategory] = useState(\r\n    searches.category ? searches.category : ''\r\n  )\r\n  const sortValueFromSearch = Object.keys(searches)[0]\r\n    ? Object.keys(searches)[0]\r\n    : 'Date'\r\n  const sortTypeFromSearch = searches[Object.keys(searches)[0]]\r\n    ? searches[Object.keys(searches)[0]].charAt(0).toUpperCase() +\r\n      searches[Object.keys(searches)[0]].slice(1)\r\n    : 'Newest'\r\n  const [sortValue, setSortValue] = useState(sortValueFromSearch)\r\n  const [sortType, setSortType] = useState(sortTypeFromSearch)\r\n  const [sortValues] = useState([\r\n    'Date',\r\n    'Price',\r\n    'Rating',\r\n    'Selling by qty',\r\n    'Selling by value',\r\n    'Stock',\r\n  ])\r\n  const [sortValueTypes, setSortValueTypes] = useState(['Newest', 'Oldest'])\r\n\r\n  const [openType, setOpenType] = useState(false)\r\n  const [openValue, setOpenValue] = useState(false)\r\n\r\n  const [changedValue, setChangedValue] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (!openFilter) {\r\n      const brand = searches.brand\r\n      const category = searches.category\r\n      if (brand) {\r\n        setBrand(brand)\r\n      } else {\r\n        setBrand('')\r\n      }\r\n      if (category) {\r\n        setCategory(category)\r\n      } else {\r\n        setCategory('')\r\n      }\r\n      if (sortValueFromSearch) {\r\n        setSortValue(sortValueFromSearch)\r\n      } else {\r\n        setSortValue('Date')\r\n      }\r\n      if (sortTypeFromSearch) {\r\n        setSortType(sortTypeFromSearch)\r\n      } else {\r\n        setSortValue('Newest')\r\n      }\r\n    }\r\n  }, [openFilter])\r\n  useEffect(() => {\r\n    const sortTypeFromSearch = searches[Object.keys(searches)[0]]\r\n      ? searches[Object.keys(searches)[0]].charAt(0).toUpperCase() +\r\n        searches[Object.keys(searches)[0]].slice(1)\r\n      : null\r\n\r\n    switch (sortValue) {\r\n      case 'Date':\r\n        setSortValueTypes(['Newest', 'Oldest'])\r\n        setSortType(\r\n          sortTypeFromSearch && !changedValue ? sortTypeFromSearch : 'Newest'\r\n        )\r\n        break\r\n      case 'Price':\r\n        setSortValueTypes(['Highest', 'Lowest'])\r\n        setSortType(\r\n          sortTypeFromSearch && !changedValue ? sortTypeFromSearch : 'Highest'\r\n        )\r\n        break\r\n      case 'Rating':\r\n        setSortValueTypes(['Top Rated', 'Underrated'])\r\n        setSortType(\r\n          sortTypeFromSearch && !changedValue ? sortTypeFromSearch : 'Top Rated'\r\n        )\r\n        break\r\n      case 'Selling by qty':\r\n        setSortValueTypes(['Highest', 'Lowest'])\r\n        setSortType(\r\n          sortTypeFromSearch && !changedValue ? sortTypeFromSearch : 'Highest'\r\n        )\r\n        break\r\n      case 'Selling by value':\r\n        setSortValueTypes(['Highest', 'Lowest'])\r\n        setSortType(\r\n          sortTypeFromSearch && !changedValue ? sortTypeFromSearch : 'Highest'\r\n        )\r\n        break\r\n      case 'Stock':\r\n        setSortValueTypes(['Highest', 'Lowest'])\r\n        setSortType(\r\n          sortTypeFromSearch && !changedValue ? sortTypeFromSearch : 'Highest'\r\n        )\r\n        break\r\n      default:\r\n        break\r\n    }\r\n\r\n    setChangedValue(false)\r\n  }, [sortValue])\r\n\r\n  const useOutsideAlerter = (ref, reset) => {\r\n    useEffect(() => {\r\n      /**\r\n       * Alert if clicked on outside of element\r\n       */\r\n      function handleClickOutside(event) {\r\n        if (ref.current && !ref.current.contains(event.target)) {\r\n          reset()\r\n        }\r\n      }\r\n\r\n      // Bind the event listener\r\n      document.addEventListener('mousedown', handleClickOutside)\r\n      return () => {\r\n        // Unbind the event listener on clean up\r\n        document.removeEventListener('mousedown', handleClickOutside)\r\n      }\r\n    }, [ref])\r\n  }\r\n  const filterRef = useRef(null)\r\n  useOutsideAlerter(filterRef, () => setOpenFilter(false))\r\n  const valueRef = useRef(null)\r\n  useOutsideAlerter(valueRef, () => setOpenValue(false))\r\n  const typeRef = useRef(null)\r\n  useOutsideAlerter(typeRef, () => setOpenType(false))\r\n\r\n  const [cardScrolled, setCardScrolled] = useState(0)\r\n  const [cardScrolled2, setCardScrolled2] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if (\r\n      location.pathname.split('/')[3] !== 'add' &&\r\n      location.pathname.split('/')[4] !== 'image'\r\n    ) {\r\n      setCardScrolled(0)\r\n\r\n      const firstChild = document.querySelector(\r\n        '.card-large-scrollable-content div:first-child'\r\n      )\r\n      if (firstChild) {\r\n        setTimeout(() => {\r\n          firstChild.scroll({\r\n            top: 0,\r\n            left: 0,\r\n          })\r\n        }, 250)\r\n      }\r\n    }\r\n    if (\r\n      location.pathname.split('/')[3] !== 'edit' &&\r\n      location.pathname.split('/')[5] !== 'image'\r\n    ) {\r\n      setCardScrolled2(0)\r\n\r\n      const firstChild = document.querySelector(\r\n        '.card-big-large-scrollable-content div:first-child'\r\n      )\r\n      if (firstChild) {\r\n        setTimeout(() => {\r\n          firstChild.scroll({\r\n            top: 0,\r\n            left: 0,\r\n          })\r\n        }, 250)\r\n      }\r\n    }\r\n  }, [location.pathname])\r\n\r\n  const actionsInfoStorage = localStorage.getItem('actionsInfo')\r\n  const [actionsInfo, setActionsInfo] = useState(\r\n    actionsInfoStorage !== null ? JSON.parse(actionsInfoStorage) : true\r\n  )\r\n  useEffect(() => {\r\n    const container = document.querySelector('.view')\r\n    if (container) {\r\n      if (\r\n        deleteAsking ||\r\n        location.pathname.split('/')[3] === 'add' ||\r\n        location.pathname.split('/')[3] === 'edit'\r\n      )\r\n        container.classList.add('preventScrolling')\r\n      else container.classList.remove('preventScrolling')\r\n    }\r\n  }, [deleteAsking, location.pathname])\r\n\r\n  const filterHandler = (e, reset) => {\r\n    if (e) {\r\n      e.preventDefault()\r\n    }\r\n    console.log(brand.length, category.length)\r\n    if (\r\n      (sortValue !== 'Date' && sortType !== 'Newest') ||\r\n      brand.length !== 0 ||\r\n      category.length !== 0\r\n    ) {\r\n      let baseURL = `?${sortValue}=${sortType}`\r\n\r\n      if (reset !== 'all') {\r\n        console.log(brand, category, reset)\r\n        if (brand && reset !== 'brand') baseURL += `&brand=${brand}`\r\n        if (category && reset !== 'category') baseURL += `&category=${category}`\r\n      } else {\r\n        baseURL = '/dashboard/products'\r\n      }\r\n      setSkip(1)\r\n      history.push(baseURL)\r\n    }\r\n    setOpenFilter(false)\r\n  }\r\n  function capitalizeFirstLetter(string) {\r\n    if (string) return string.charAt(0).toUpperCase() + string.slice(1)\r\n  }\r\n  useEffect(() => {\r\n    if (location.pathname.split('/')[3] !== 'edit') {\r\n      if (!Object.size(searches)) {\r\n        setSortValue('Date')\r\n        setSortType('Newest')\r\n        setBrand('')\r\n        setCategory('')\r\n      }\r\n\r\n      if (location.pathname.split('/')[3] === 'add' && products) {\r\n        return\r\n      } else {\r\n        if (\r\n          Object.size(searches) && !searches.search && lastLocation\r\n            ? lastLocation.pathname.split('/')[1] !== 'products'\r\n            : true\r\n        ) {\r\n          const acutalSortType = (sortValue) => {\r\n            switch (sortValue) {\r\n              case 'Date':\r\n                return 'createdAt'\r\n              case 'Price':\r\n                return 'price'\r\n              case 'Rating':\r\n                return 'topRated'\r\n              case 'Selling by qty':\r\n                return 'topSoldStocks'\r\n              case 'Selling by value':\r\n                return 'topSelling'\r\n              case 'Stock':\r\n                return 'stock'\r\n            }\r\n          }\r\n\r\n          const sortValue = Object.keys(searches)[0]\r\n            ? acutalSortType(Object.keys(searches)[0])\r\n            : null\r\n\r\n          setSortValue(\r\n            Object.keys(searches)[0]\r\n              ? capitalizeFirstLetter(Object.keys(searches)[0])\r\n              : 'Date'\r\n          )\r\n          const sortType = searches[Object.keys(searches)[0]]\r\n            ? searches[Object.keys(searches)[0]]\r\n            : null\r\n\r\n          setSortType(\r\n            searches[Object.keys(searches)[0]]\r\n              ? capitalizeFirstLetter(searches[Object.keys(searches)[0]])\r\n              : 'Newest'\r\n          )\r\n\r\n          const brandValue = searches.brand ? searches.brand : null\r\n          const categoryValue = searches.category ? searches.category : null\r\n\r\n          if (!searches.search && !loading && Object.size(searches)) {\r\n            dispatch(\r\n              productListAction(\r\n                sortValue,\r\n                sortType.toLowerCase(),\r\n                brandValue,\r\n                categoryValue\r\n              )\r\n            )\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [location.search])\r\n  useEffect(() => {\r\n    if (\r\n      (searches.search && location.pathname.split('/')[3] !== 'edit') ||\r\n      (lastLocation\r\n        ? lastLocation.pathname.split('/')[3] === 'edit' &&\r\n          !searchedProducts &&\r\n          searches.search\r\n        : true)\r\n    ) {\r\n      if (\r\n        lastLocation\r\n          ? lastLocation.pathname.split('/')[3] !== 'edit' &&\r\n            lastLocation.pathname.split('/')[1] !== 'products'\r\n          : true && !searchedProducts\r\n      ) {\r\n        dispatch(searchProducts(searches.search))\r\n        setSkip2(1)\r\n      }\r\n    }\r\n  }, [location.search, location.pathname])\r\n  const {\r\n    products: searchedProducts,\r\n    count: searchedCount,\r\n    loading: searchLoading,\r\n  } = useSelector((state) => state.productSearch)\r\n\r\n  const [searchValue, setSearchValue] = useState(\r\n    searches.search ? searches.search : ''\r\n  )\r\n  useEffect(() => {\r\n    if (location.pathname === '/dashboard/products' && !searches.search) {\r\n      setSearchValue('')\r\n    }\r\n  }, [location.search, location.pathname])\r\n\r\n  const [data, setData] = useState(null)\r\n  useEffect(() => {\r\n    socket.on('StockChanged', (data) => {\r\n      setData(data)\r\n    })\r\n  }, [])\r\n  useEffect(() => {\r\n    if (data) {\r\n      if (!searches.search) {\r\n        data.forEach((e) =>\r\n          dispatch({\r\n            type: 'UPDATE_PRODUCT_STOCK',\r\n            payload: {\r\n              id: e._id,\r\n              newStock: e.countInStock,\r\n            },\r\n          })\r\n        )\r\n      } else if (searchedProducts) {\r\n        data.forEach((e) =>\r\n          dispatch({\r\n            type: 'UPDATE_SEARCH_PRODUCT_STOCK',\r\n            payload: {\r\n              id: e._id,\r\n              newStock: e.countInStock,\r\n            },\r\n          })\r\n        )\r\n      }\r\n    }\r\n  }, [data])\r\n\r\n  const [element, inView] = useInView()\r\n\r\n  const infiniteScrollingMoreData = () => {\r\n    const acutalSortType = (sortValue) => {\r\n      switch (sortValue) {\r\n        case 'Date':\r\n          return 'createdAt'\r\n        case 'Price':\r\n          return 'price'\r\n        case 'Rating':\r\n          return 'topRated'\r\n        case 'Selling by qty':\r\n          return 'topSoldStocks'\r\n        case 'Selling by value':\r\n          return 'topSelling'\r\n        case 'Stock':\r\n          return 'stock'\r\n      }\r\n    }\r\n    if (!searches.search && products && !loading) {\r\n      dispatch(\r\n        infiniteScrollProducts(\r\n          skip,\r\n          acutalSortType(sortValue),\r\n          sortType.toLowerCase(),\r\n          searches.brand ? searches.brand : '',\r\n          searches.category ? searches.category : ''\r\n        )\r\n      )\r\n      setSkip(skip + 1)\r\n    }\r\n  }\r\n  const infiniteScrollingMoreDataSearched = () => {\r\n    if (searches.search && searchedProducts && !searchLoading) {\r\n      dispatch(infiniteScrollProductsSearched(skip2, searches.search))\r\n      setSkip2(skip2 + 1)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if (inView && !searches.search && !loading) {\r\n      infiniteScrollingMoreData()\r\n    } else if (inView && searches.search && !searchLoading) {\r\n      infiniteScrollingMoreDataSearched()\r\n    }\r\n  }, [inView])\r\n\r\n  return (\r\n    <StyledDashboardProducts>\r\n      <DashboardNewProduct\r\n        scrolled={cardScrolled}\r\n        setScrolled={setCardScrolled}\r\n      />\r\n      <DashboardEditProduct\r\n        scrolled={cardScrolled2}\r\n        setScrolled={setCardScrolled2}\r\n      />\r\n      <ConfirmPopup\r\n        condition={deleteAsking}\r\n        type='deleteProduct'\r\n        action={`Delete \"${clickedForDelete.name}\"`}\r\n      />\r\n      {((loading && !filtering) || (searchLoading && !filtering)) && <Loader />}\r\n      {error && <DashboardError error={error} />}\r\n      {(!loading || filtering || !searchLoading) && (\r\n        <>\r\n          {(products && lastLocation\r\n            ? lastLocation.pathname.split('/')[1] === 'products'\r\n            : false && lastLocation\r\n            ? !lastLocation.pathname.split('/')[3]\r\n            : false) ||\r\n          (products && !loading && lastCondition()) ||\r\n          (products && lastCondition2()) ||\r\n          ((location.pathname.split('/')[3] === 'add' || condition4()) &&\r\n            products) ||\r\n          filtering ||\r\n          searchedProducts ? (\r\n            <div\r\n              id={`${location.pathname.split('/')[3] === 'add' ? 'blur' : ''}`}\r\n              className='cont'\r\n            >\r\n              {((!loading && !searches.search) ||\r\n                (!searchLoading && searches.search) ||\r\n                filtering) && (\r\n                <>\r\n                  <div className='head'>\r\n                    <div className='title'>\r\n                      <h1>Products</h1>\r\n                      <p>\r\n                        {!searches.search\r\n                          ? count\r\n                            ? count\r\n                            : '..'\r\n                          : searches.search\r\n                          ? searchedCount\r\n                            ? searchedCount\r\n                            : '..'\r\n                          : ''}{' '}\r\n                        Products Found{' '}\r\n                        {`${\r\n                          searches.brand || searches.category\r\n                            ? `(filtered)`\r\n                            : ''\r\n                        }`}\r\n                        {`${\r\n                          searches.search || searches.search ? `(search)` : ''\r\n                        }`}\r\n                      </p>\r\n                    </div>\r\n                    {!searches.search && (\r\n                      <button\r\n                        onClick={() => {\r\n                          let baseURL = '/dashboard/products/add?'\r\n                          if (searches[Object.keys(searches)[0]]) {\r\n                            baseURL += `${Object.keys(searches)[0]}=${\r\n                              searches[Object.keys(searches)[0]]\r\n                            }&`\r\n                          }\r\n                          if (searches.brand) {\r\n                            baseURL += `brand=${searches.brand}&`\r\n                          }\r\n                          if (searches.category) {\r\n                            baseURL += `category=${searches.category}&`\r\n                          }\r\n\r\n                          history.push(baseURL)\r\n                        }}\r\n                        className='addProduct'\r\n                      >\r\n                        <img src={add} /> New Product\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  <div className='search' onSubmit={searchHandler}>\r\n                    {searches.search && <div></div>}\r\n                    {!searches.search && (\r\n                      <div\r\n                        ref={filterRef}\r\n                        onClick={(e) => {\r\n                          if (e.target.classList.contains('filter')) {\r\n                            setOpenFilter(!openFilter)\r\n                            setOpenType(false)\r\n                            setOpenValue(false)\r\n                          }\r\n                        }}\r\n                        className={`filter ${openFilter ? 'activeFilter' : ''}`}\r\n                      >\r\n                        <p className='filterTitle'>Fitler</p>\r\n                        <svg\r\n                          width='14'\r\n                          height='14'\r\n                          viewBox='0 0 14 14'\r\n                          fill='none'\r\n                          xmlns='http://www.w3.org/2000/svg'\r\n                        >\r\n                          <g clip-path='url(#clip0)'>\r\n                            <path\r\n                              d='M5.33335 6.61553C5.48026 6.77541 5.56092 6.98426 5.56092 7.20031V13.5667C5.56092 13.9498 6.02327 14.1443 6.29694 13.8749L8.07289 11.8397C8.31055 11.5545 8.44162 11.4133 8.44162 11.131V7.20175C8.44162 6.9857 8.52372 6.77685 8.6692 6.61695L13.7651 1.08746C14.1468 0.672643 13.853 0 13.2884 0H0.714129C0.149512 0 -0.145759 0.671203 0.237374 1.08746L5.33335 6.61553Z'\r\n                              fill='white'\r\n                            />\r\n                          </g>\r\n                          <defs>\r\n                            <clipPath id='clip0'>\r\n                              <rect width='14' height='14' fill='white' />\r\n                            </clipPath>\r\n                          </defs>\r\n                        </svg>\r\n                        <AnimatePresence>\r\n                          {openFilter && (\r\n                            <motion.div\r\n                              variants={popupLeft}\r\n                              animate='show'\r\n                              initial='hidden'\r\n                              exit='exit'\r\n                              className='filterDropDown'\r\n                            >\r\n                              <div className='sort'>\r\n                                <p>\r\n                                  <span className='sortText'>Sort</span>\r\n                                  <img src={sort} />\r\n                                </p>\r\n                                <div className='sortDiv'>\r\n                                  <div\r\n                                    ref={typeRef}\r\n                                    onClick={() => {\r\n                                      setOpenType(!openType)\r\n                                    }}\r\n                                    className='sortValue'\r\n                                  >\r\n                                    <p>{sortValue}</p>\r\n                                    <img src={arrow} />\r\n                                    {openType && (\r\n                                      <div className='sortValueDropDown selectDropDown first'>\r\n                                        <Scrollbars>\r\n                                          {sortValues.map((e) => (\r\n                                            <h3\r\n                                              className={`${\r\n                                                sortValue === e ? 'active' : ''\r\n                                              }`}\r\n                                              onClick={(e) => {\r\n                                                setSortValue(e.target.innerText)\r\n                                                setChangedValue(true)\r\n                                              }}\r\n                                            >\r\n                                              {e}\r\n                                            </h3>\r\n                                          ))}\r\n                                        </Scrollbars>\r\n                                      </div>\r\n                                    )}\r\n                                  </div>\r\n                                  <img src={connect} />\r\n                                  <div\r\n                                    ref={valueRef}\r\n                                    onClick={() => {\r\n                                      setOpenValue(!openValue)\r\n                                    }}\r\n                                    className='sortType'\r\n                                  >\r\n                                    <p>{sortType}</p>\r\n                                    <img src={arrow} />\r\n                                    {openValue && (\r\n                                      <div className='sortTypeDropDown selectDropDown'>\r\n                                        {sortValueTypes.map((e) => (\r\n                                          <h3\r\n                                            className={`${\r\n                                              sortType === e ? 'active' : ''\r\n                                            }`}\r\n                                            onClick={(e) => {\r\n                                              setSortType(e.target.innerText)\r\n                                            }}\r\n                                          >\r\n                                            {e}\r\n                                          </h3>\r\n                                        ))}\r\n                                      </div>\r\n                                    )}\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div className='brand'>\r\n                                <p>Brand</p>\r\n                                <div className='inputDiv'>\r\n                                  <Input value={brand} setValue={setBrand} />\r\n                                  {searches.brand && (\r\n                                    <img\r\n                                      onClick={() => {\r\n                                        filterHandler(null, 'brand')\r\n                                      }}\r\n                                      className='clearFilter'\r\n                                      src={smallX}\r\n                                    />\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                              <div className='category'>\r\n                                <p>Category</p>\r\n                                <div className='inputDiv'>\r\n                                  <Input\r\n                                    value={category}\r\n                                    setValue={setCategory}\r\n                                  />\r\n                                  {searches.category && (\r\n                                    <img\r\n                                      onClick={() => {\r\n                                        filterHandler(null, 'category')\r\n                                      }}\r\n                                      className='clearFilter'\r\n                                      src={smallX}\r\n                                    />\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                              <div className='btnDiv'>\r\n                                {Object.size(searches) > 0 &&\r\n                                  (Object.keys(searches)[0] !== 'Date' ||\r\n                                    searches[Object.keys(searches)[0]]\r\n                                      .charAt(0)\r\n                                      .toUpperCase() +\r\n                                      searches[Object.keys(searches)[0]].slice(\r\n                                        1\r\n                                      ) !==\r\n                                      'Newest' ||\r\n                                    searches.brand ||\r\n                                    searches.category) && (\r\n                                    <button\r\n                                      onClick={() => filterHandler(null, 'all')}\r\n                                      type='button'\r\n                                      className='resetBtnSubmit'\r\n                                    >\r\n                                      Reset All\r\n                                    </button>\r\n                                  )}\r\n                                <button\r\n                                  type='button'\r\n                                  onClick={() => filterHandler()}\r\n                                  className='filterBtnSubmit'\r\n                                >\r\n                                  Filter & Sort\r\n                                </button>\r\n                              </div>\r\n                            </motion.div>\r\n                          )}\r\n                        </AnimatePresence>\r\n                      </div>\r\n                    )}\r\n                    <form className='searchContainer'>\r\n                      <div className='inputCont'>\r\n                        <input\r\n                          value={searchValue}\r\n                          onChange={(e) => setSearchValue(e.target.value)}\r\n                          placeholder='Search'\r\n                          type='text'\r\n                        />\r\n                        {searches.search && searchedProducts && (\r\n                          <img onClick={returnHandler} src={smallX} alt='' />\r\n                        )}\r\n                      </div>\r\n                      <button type='submit'>\r\n                        <img src={search} />\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                </>\r\n              )}\r\n              {(!loading &&\r\n                products &&\r\n                products.length > 0 &&\r\n                !searches.search) ||\r\n              (!searchLoading &&\r\n                searches.search &&\r\n                searchedProducts &&\r\n                searchedProducts.length > 0) ||\r\n              filtering ? (\r\n                <div className='headers'>\r\n                  <div className='id'>\r\n                    <p>Id</p>\r\n                  </div>\r\n                  <div className='name'>\r\n                    <p>Name</p>\r\n                  </div>\r\n                  <div className='Price'>\r\n                    <p>Price</p>\r\n                  </div>\r\n                  <div className='Category'>\r\n                    <p>Category</p>\r\n                  </div>\r\n                  <div className='Brand'>\r\n                    <p>Brand</p>\r\n                  </div>\r\n                  <div className='Stock'>\r\n                    <p>Stock</p>\r\n                  </div>\r\n                  <div className='Actions'>\r\n                    <p>\r\n                      Actions\r\n                      <img\r\n                        id='actionImgInfo'\r\n                        className={`${actionsInfo ? 'active' : 'notActive'}`}\r\n                        onClick={() => {\r\n                          localStorage.setItem('actionsInfo', !actionsInfo)\r\n                          setActionsInfo(!actionsInfo)\r\n                        }}\r\n                        src={info}\r\n                      />\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ) : !filtering &&\r\n                products &&\r\n                products.length === 0 &&\r\n                !searches.search ? (\r\n                <p className='center'>No products was found!</p>\r\n              ) : !filtering &&\r\n                searchedProducts &&\r\n                searchedProducts.length === 0 &&\r\n                searches.search ? (\r\n                <p className='center'>No products was found!</p>\r\n              ) : (\r\n                ''\r\n              )}\r\n              {filtering && <Loader providedClassName='filterLoading' />}\r\n              {!filtering && (\r\n                <>\r\n                  {!searches.search && products ? (\r\n                    <motion.div\r\n                      variants={animCondition()}\r\n                      initial='hidden'\r\n                      animate='show'\r\n                      exit='exit'\r\n                    >\r\n                      {products.map((each) => (\r\n                        <ProductDashboard\r\n                          setDashboardScrollPosition={\r\n                            setDashboardScrollPosition\r\n                          }\r\n                          data={data}\r\n                          actionsInfo={actionsInfo}\r\n                          setClickedForDelete={setClickedForDelete}\r\n                          clickedForDelete={clickedForDelete}\r\n                          key={each._id}\r\n                          product={each}\r\n                        />\r\n                      ))}\r\n                    </motion.div>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                  {searches.search && searchedProducts ? (\r\n                    <motion.div\r\n                      variants={animCondition()}\r\n                      initial='hidden'\r\n                      animate='show'\r\n                      exit='exit'\r\n                    >\r\n                      {searchedProducts.map((each) => (\r\n                        <ProductDashboard\r\n                          setDashboardScrollPosition={\r\n                            setDashboardScrollPosition\r\n                          }\r\n                          data={data}\r\n                          search={searches.search}\r\n                          actionsInfo={actionsInfo}\r\n                          setClickedForDelete={setClickedForDelete}\r\n                          clickedForDelete={clickedForDelete}\r\n                          key={each._id}\r\n                          product={each}\r\n                        />\r\n                      ))}\r\n                    </motion.div>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n          {(products && products.length < count && !searches.search) ||\r\n          (searchedProducts &&\r\n            searchedProducts.length < searchedCount &&\r\n            searches.search) ? (\r\n            <Loader providedClassName='infiniteLoader' refElement={element} />\r\n          ) : (\r\n            !loading &&\r\n            !searchLoading &&\r\n            (products || searchedProducts) &&\r\n            ((searchedCount !== 0 && searches.search) ||\r\n              (count !== 0 && !searches.search)) && (\r\n              <p className='end'>Yay! You have seen it all</p>\r\n            )\r\n          )}\r\n        </>\r\n      )}\r\n    </StyledDashboardProducts>\r\n  )\r\n}\r\n\r\nconst StyledDashboardProducts = styled(motion.div)`\r\n  &.hide {\r\n    opacity: 0 !important;\r\n  }\r\n  .inputDiv {\r\n    position: relative;\r\n  }\r\n  .clearFilter {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 7%;\r\n    transform: translate(0, -50%);\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    &:hover {\r\n      opacity: 0.8;\r\n    }\r\n  }\r\n  .filterLoading #loader {\r\n    width: calc(2rem + 1vw) !important;\r\n    height: calc(2rem + 1vw) !important;\r\n  }\r\n  .addProduct {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    img {\r\n      margin-right: 0.4rem;\r\n      width: 19px;\r\n      height: 19px;\r\n    }\r\n  }\r\n  .btnDiv {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    padding-top: 0.8rem;\r\n    button {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n    .resetBtnSubmit {\r\n      color: white;\r\n      padding: 0.6rem 1rem;\r\n      border: 2px solid rgba(255, 255, 255, 0.8);\r\n      font-size: calc(0.72rem + 0.3vw);\r\n      transition: 0.2s ease;\r\n      background: transparent !important;\r\n      margin-right: 0.5rem;\r\n      &:hover {\r\n        opacity: 0.85;\r\n      }\r\n    }\r\n    .filterBtnSubmit {\r\n      color: white;\r\n      padding: 0.6rem 1.2rem;\r\n      background: #56589e;\r\n      font-size: calc(0.85rem + 0.3vw);\r\n      &:hover {\r\n        background: #4c4e8b;\r\n      }\r\n    }\r\n  }\r\n  #action-info-tooltip {\r\n    padding: 8px 18px !important;\r\n  }\r\n  .Actions {\r\n    p {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n    }\r\n    #actionImgInfo {\r\n      transition: 0.2s ease;\r\n      width: 20px;\r\n      height: 20px;\r\n      margin-left: 0.55rem;\r\n      cursor: pointer;\r\n      &.active {\r\n        opacity: 1;\r\n      }\r\n      &.notActive {\r\n        opacity: 0.5;\r\n      }\r\n    }\r\n  }\r\n  overflow-x: hidden;\r\n  overflow-y: hidden;\r\n  height: max-content;\r\n  min-height: 100%;\r\n  .sortValue,\r\n  .sortType {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n\r\n    .selectDropDown {\r\n      display: grid;\r\n      z-index: 1;\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: 0;\r\n      transform: translate(0, 105%);\r\n      background: #4b4d8b;\r\n      box-shadow: rgba(29, 32, 62, 0.42) 0px 2px 10px;\r\n      border-radius: 7px;\r\n      overflow: hidden;\r\n      overflow-y: auto;\r\n      padding: 0.3rem;\r\n      cursor: auto;\r\n      width: max-content;\r\n      min-height: 4rem;\r\n\r\n      &.first {\r\n        min-height: 5.5rem;\r\n        width: 160%;\r\n\r\n        height: 24vh;\r\n        max-height: 200px;\r\n      }\r\n      div:first-child {\r\n        align-self: stretch;\r\n      }\r\n      &.first h3 {\r\n        margin-right: 12px;\r\n      }\r\n      h3 {\r\n        padding: 0.4rem 0.6rem;\r\n        font-weight: 400;\r\n        font-size: calc(0.8rem + 0.3vw);\r\n        color: rgba(255, 255, 255, 0.9) !important;\r\n        transition: 0.1s ease;\r\n        background: #4b4d8b;\r\n        border-radius: 5px;\r\n        margin-bottom: 0.15rem;\r\n        cursor: pointer;\r\n\r\n        &:last-child {\r\n          margin-bottom: 0;\r\n        }\r\n        &:hover:not(.active) {\r\n          background: #43457e;\r\n        }\r\n        &.active {\r\n          background: #40427a;\r\n        }\r\n      }\r\n    }\r\n    img {\r\n      margin: 0 0 0 0.35rem !important;\r\n      width: 12px !important;\r\n      height: 12px !important;\r\n    }\r\n  }\r\n  .sortType {\r\n    display: flex;\r\n    height: max-content;\r\n    padding: 0.6rem 1.1rem;\r\n    background: #373864;\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n  }\r\n  .sortType p {\r\n    margin-right: 0 !important;\r\n    height: max-content;\r\n    font-size: calc(0.8rem + 0.3vw) !important;\r\n    pointer-events: none;\r\n    user-select: none;\r\n  }\r\n  .sortDiv {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    width: max-content;\r\n    align-items: center;\r\n    width: calc(13.5rem + 3vw) !important;\r\n  }\r\n  &#blur {\r\n    filter: blur(2px);\r\n  }\r\n  .addProduct {\r\n    background: #373864;\r\n    color: white;\r\n    padding: 0.7rem 1.2rem;\r\n    font-size: calc(0.78rem + 0.3vw);\r\n    border: none;\r\n    border-radius: 10px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    transition: 0.2s ease;\r\n    &:hover {\r\n      background: #31335a;\r\n    }\r\n  }\r\n  .head {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n  .center {\r\n    text-align: center;\r\n  }\r\n  .infiniteLoader {\r\n    margin-bottom: 0.6rem;\r\n  }\r\n  .infiniteLoader #loader:first-child {\r\n    width: calc(2rem + 0.5vw) !important;\r\n    height: calc(2rem + 0.5vw) !important;\r\n  }\r\n\r\n  .end {\r\n    color: white;\r\n    text-align: center;\r\n    font-weight: 400 !important;\r\n    font-size: 1rem !important;\r\n    margin-bottom: 0.6rem;\r\n  }\r\n  .infinite-scroll-component {\r\n    overflow-y: hidden !important;\r\n  }\r\n  input::placeholder {\r\n    /* Chrome, Firefox, Opera, Safari 10.1+ */\r\n    color: rgba(255, 255, 255, 0.7) !important;\r\n    opacity: 1; /* Firefox */\r\n  }\r\n\r\n  input:-ms-input-placeholder {\r\n    /* Internet Explorer 10-11 */\r\n    color: rgba(255, 255, 255, 0.7) !important;\r\n  }\r\n\r\n  input::-ms-input-placeholder {\r\n    /* Microsoft Edge */\r\n    color: rgba(255, 255, 255, 0.7) !important;\r\n  }\r\n  position: relative;\r\n  #blur {\r\n    filter: blur(2px);\r\n  }\r\n  .sorry {\r\n    text-align: center;\r\n    font-weight: 300;\r\n  }\r\n  .inputCont {\r\n    position: relative;\r\n  }\r\n  .inputCont img {\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 5.5%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    transition: 0.2s ease;\r\n    &:hover {\r\n      opacity: 0.8;\r\n    }\r\n  }\r\n  .searchContainer {\r\n    display: flex;\r\n  }\r\n  .activeFilter {\r\n    background: #373864 !important;\r\n  }\r\n  .filter {\r\n    padding: 0.6rem 1.3rem;\r\n    background: rgb(48, 49, 89);\r\n    font-size: calc(0.85rem + 0.3vw);\r\n    border-radius: 10px;\r\n    transition: 0.13s ease;\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    .filterTitle {\r\n      pointer-events: none;\r\n      user-select: none;\r\n      color: rgba(255, 255, 255, 0.9) !important;\r\n    }\r\n\r\n    svg {\r\n      margin-left: 0.35rem;\r\n      transition: 0.08s ease;\r\n      width: 13px;\r\n      height: 13px;\r\n      pointer-events: none;\r\n    }\r\n    .value {\r\n      color: rgba(255, 255, 255, 1) !important;\r\n      pointer-events: none;\r\n    }\r\n    .filterDropDown {\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: 0;\r\n      transform: translate(0, 104%);\r\n      background: rgb(61, 62, 112);\r\n      box-shadow: rgba(29, 32, 62, 0.42) 0px 2px 10px;\r\n      border-radius: 10px;\r\n      width: 90%;\r\n      min-width: max-content;\r\n      font-size: calc(0.85rem + 0.3vw);\r\n      z-index: 4;\r\n      cursor: auto;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: stretch;\r\n      flex-direction: column;\r\n      padding: 1.35rem 1.75rem;\r\n\r\n      .sortValue {\r\n        display: flex;\r\n        padding: 0.6rem 1.1rem;\r\n        background: #373864;\r\n        border-radius: 10px;\r\n        cursor: pointer;\r\n        height: max-content;\r\n        p {\r\n          font-size: calc(0.8rem + 0.3vw) !important;\r\n          pointer-events: none;\r\n          user-select: none;\r\n          margin-right: 0 !important;\r\n          height: max-content;\r\n        }\r\n      }\r\n      .sortText {\r\n        margin-right: 0.45rem;\r\n      }\r\n      .sort img {\r\n        width: 20px;\r\n        height: 20px;\r\n        pointer-events: none;\r\n        user-select: none;\r\n        margin: 0 0.5rem;\r\n      }\r\n\r\n      .sort,\r\n      .brand,\r\n      .category {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        padding-bottom: 0.9rem;\r\n        p {\r\n          margin-right: 3.5rem;\r\n          font-size: calc(1rem + 0.3vw);\r\n        }\r\n        input {\r\n          margin-bottom: 0;\r\n          margin-right: 0;\r\n          width: calc(13.5rem + 3vw) !important;\r\n          background: rgba(77, 79, 142, 90%) !important;\r\n          transition: 0.2s ease;\r\n          &:focus {\r\n            background: rgb(71, 73, 131) !important;\r\n          }\r\n        }\r\n      }\r\n      .category {\r\n        padding-bottom: 0rem;\r\n      }\r\n      p {\r\n        color: rgba(255, 255, 255, 1) !important;\r\n      }\r\n    }\r\n  }\r\n  .sort p {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    img {\r\n      margin: 0rem !important;\r\n    }\r\n  }\r\n  .search {\r\n    display: flex;\r\n    //!Space-between\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 1rem;\r\n    margin-top: 0.8rem;\r\n    input {\r\n      padding: 0.6rem 1rem;\r\n      background: #373864;\r\n      color: white;\r\n      font-size: calc(0.85rem + 0.3vw);\r\n      border: none;\r\n      border-radius: 10px;\r\n      margin-right: 0.5rem;\r\n      width: calc(12rem + 5vw);\r\n      transition: 0.2s ease;\r\n      &:focus {\r\n        background: #33355f;\r\n      }\r\n    }\r\n    button {\r\n      display: flex;\r\n      padding: 0.725rem;\r\n      background: #373864;\r\n      border: none;\r\n      border-radius: 10px;\r\n      cursor: pointer;\r\n      transition: 0.2s ease;\r\n      &:hover {\r\n        background: #343660;\r\n      }\r\n      img {\r\n        width: 23px;\r\n        height: 23px;\r\n      }\r\n    }\r\n  }\r\n  .headers {\r\n    background: rgba(51, 52, 92, 31%);\r\n    padding: 0.5rem 2.1rem;\r\n    border-radius: 10px;\r\n    margin-bottom: 1rem;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    .name,\r\n    .id,\r\n    .Email,\r\n    .JoinedIn,\r\n    .Action {\r\n      p {\r\n        color: rgba(255, 255, 255, 0.9) !important;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        font-size: calc(0.8rem + 0.3vw);\r\n      }\r\n    }\r\n    .id {\r\n      min-width: 12%;\r\n      padding-right: 2vw;\r\n    }\r\n    .name {\r\n      min-width: 23%;\r\n      padding-right: 2vw;\r\n    }\r\n    .Price {\r\n      min-width: 10%;\r\n      padding-right: 2vw;\r\n    }\r\n    .Category {\r\n      min-width: 14%;\r\n      padding-right: 2vw;\r\n    }\r\n    .Brand {\r\n      padding-right: 2vw;\r\n      min-width: 14%;\r\n    }\r\n    .Stock {\r\n      padding-right: 2vw;\r\n      min-width: 9%;\r\n    }\r\n    .Actions {\r\n      min-width: 18%;\r\n    }\r\n  }\r\n\r\n  .title {\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  padding: calc(3rem + 0.5vh) calc(2.5rem + 0.5vh);\r\n  padding-bottom: 1rem;\r\n  h1 {\r\n    font-weight: 500;\r\n    font-size: calc(2.1rem + 0.3vw);\r\n  }\r\n  p {\r\n    padding: 0 !important;\r\n    color: rgba(255, 255, 255, 0.7) !important;\r\n    font-weight: 400;\r\n  }\r\n  #greybackground path {\r\n    stroke: #363761 !important;\r\n  }\r\n  .sort p img {\r\n    width: 16px !important;\r\n    height: 16px !important;\r\n  }\r\n  .sortType,\r\n  .sortValue {\r\n    width: calc((6.75rem + 1.5vw) - (0.5rem + 10px)) !important;\r\n    p {\r\n      display: block !important;\r\n      justify-content: flex-start !important;\r\n      overflow: hidden !important;\r\n      white-space: nowrap !important;\r\n      text-overflow: ellipsis !important;\r\n      justify-content: flex-start !important;\r\n    }\r\n  }\r\n`\r\n\r\nexport default DashboardProducts\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Scrollbars } from 'react-custom-scrollbars'\r\nimport {\r\n  useLocation,\r\n  useHistory,\r\n  Switch,\r\n  Route,\r\n  BrowserRouter,\r\n} from 'react-router-dom'\r\n\r\nimport { useSelector } from 'react-redux'\r\nimport { useLastLocation } from 'react-router-last-location'\r\nimport { v4 as uuid } from 'uuid'\r\nimport statistics from '../img/statistics.svg'\r\nimport orders from '../img/cartD.svg'\r\nimport categories from '../img/categories.svg'\r\nimport GeoMap from '../img/world.svg'\r\nimport Products from '../img/products.svg'\r\nimport discounts from '../img/discounts.svg'\r\nimport employees from '../img/employees.svg'\r\nimport customers from '../img/customers.svg'\r\nimport chat from '../img/chat.svg'\r\nimport emails from '../img/emails.svg'\r\nimport home from '../img/home.svg'\r\n\r\nimport DashboardTab from '../components/DashboardTab'\r\nimport DashboardCustomers from './DashboardCustomers'\r\nimport DashboardProducts from './DashboardProducts'\r\nimport { useRef } from 'react'\r\nimport Meta from '../components/Meta'\r\n\r\nconst main = [\r\n  { text: 'Statistics', i: statistics },\r\n  { text: 'Orders', i: orders },\r\n  { text: 'Categories', i: categories },\r\n  { text: 'GeoMap', i: GeoMap },\r\n  { text: 'Products', i: Products },\r\n  { text: 'Discounts', i: discounts },\r\n  { text: 'Employees', i: employees },\r\n  { text: 'Customers', i: customers },\r\n]\r\n\r\nconst communicate = [\r\n  { text: 'Notify', i: chat },\r\n  { text: 'Emails', i: emails },\r\n]\r\n\r\nconst Dashboard = ({ setDashboardScrollPosition, dashboardScrollPosition }) => {\r\n  const scrollRef = useRef(null)\r\n  const lastLocation = useLastLocation()\r\n  const location = useLocation()\r\n\r\n  const dashboardUsers = useSelector((state) => state.dashboardUsers)\r\n  const userActions = useSelector((state) => state.userActions)\r\n  const { user } = useSelector((state) => state.userInfo)\r\n  const productList = useSelector((state) => state.productList)\r\n\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    const firstChild = document.querySelector('.view')\r\n\r\n    if (!location.pathname.split('/')[3]) {\r\n      if ((!lastLocation || !lastLocation.pathname.split('/')[3]) && firstChild)\r\n        firstChild.scroll({\r\n          top: 0,\r\n        })\r\n    }\r\n\r\n    if (user.rank !== 'admin') {\r\n      history.push('/')\r\n    }\r\n    if (\r\n      location.pathname.split('/')[1] === 'dashboard' &&\r\n      !location.pathname.split('/')[2]\r\n    ) {\r\n      history.push('/dashboard/statistics')\r\n    }\r\n    if (\r\n      !location.pathname.split('/')[3] && lastLocation\r\n        ? !lastLocation.pathname.split('/')[3]\r\n        : false\r\n    ) {\r\n      dashboardUsers.loading = true\r\n\r\n      const content = document.querySelector('.view')\r\n      if (content)\r\n        content.scroll({\r\n          top: 0,\r\n          left: 0,\r\n        })\r\n    } else if (lastLocation ? lastLocation.pathname.split('/')[3] : false) {\r\n      userActions.loading = true\r\n    }\r\n  }, [location.pathname, lastLocation])\r\n\r\n  useEffect(() => {\r\n    const dashboardTabs = document.querySelector('.view2')\r\n    if (dashboardTabs)\r\n      dashboardTabs.scroll({\r\n        top: 0,\r\n        left: 0,\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (\r\n      lastLocation\r\n        ? lastLocation.pathname.split('/')[1] !== 'products'\r\n        : true || location.pathname.split('/')[1] !== 'products'\r\n    ) {\r\n      if (\r\n        location.pathname.split('/')[2] !== 'products' ||\r\n        (lastLocation\r\n          ? lastLocation.pathname.split('/')[2] !== 'products'\r\n          : false &&\r\n            location.pathname.split('/')[2] !== 'products' &&\r\n            !location.pathname.split('/')[3])\r\n      ) {\r\n        productList.loading = true\r\n        productList.success = false\r\n        productList.newError = null\r\n      }\r\n    }\r\n\r\n    if (location.pathname.split('/')[3] === 'add') {\r\n      const firstChild = document.querySelector('.view')\r\n      if (firstChild) firstChild.style.overflowY = 'hidden !important'\r\n    }\r\n  }, [location.pathname])\r\n\r\n  return (\r\n    <StyledDashboard>\r\n      <div className='sidebar'>\r\n        <Scrollbars\r\n          renderView={(props) => <div {...props} className='view2' />}\r\n          className='scrollable dashboardTabs'\r\n        >\r\n          <DashboardTab\r\n            providedClassName='backHome'\r\n            text={'Home'}\r\n            icon={home}\r\n          />\r\n          <p>Main</p>\r\n          {main.map((e) => (\r\n            <DashboardTab text={e.text} icon={e.i} />\r\n          ))}\r\n          <p className='last'>Communicate</p>\r\n          {communicate.map((e) => (\r\n            <DashboardTab text={e.text} icon={e.i} />\r\n          ))}\r\n        </Scrollbars>\r\n      </div>\r\n      <Scrollbars\r\n        ref={scrollRef}\r\n        renderTrackHorizontal={(props) => (\r\n          <div {...props} className='track-horizontal' />\r\n        )}\r\n        renderTrackVertical={(props) => (\r\n          <div {...props} className='track-vertical' />\r\n        )}\r\n        renderThumbHorizontal={(props) => (\r\n          <div {...props} className='thumb-horizontal' />\r\n        )}\r\n        renderThumbVertical={(props) => (\r\n          <div {...props} className='thumb-vertical' />\r\n        )}\r\n        renderView={(props) => <div {...props} className='view' id='view' />}\r\n        className='content large-scrollable-content'\r\n        marginWidth='-20px'\r\n        marginHeight='-20px'\r\n      >\r\n        <Switch>\r\n          <Route path='/dashboard/customers'>\r\n            <DashboardCustomers />\r\n          </Route>\r\n          <Route path='/dashboard/products'>\r\n            <DashboardProducts\r\n              scrollRef={scrollRef}\r\n              dashboardScrollPosition={dashboardScrollPosition}\r\n              setDashboardScrollPosition={setDashboardScrollPosition}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n      </Scrollbars>\r\n      <Meta\r\n        ogTitle={'Dashboard - Sick Market'}\r\n        title={'Dashboard - Sick Market'}\r\n      />\r\n    </StyledDashboard>\r\n  )\r\n}\r\n\r\nconst StyledDashboard = styled.div`\r\n  .view,\r\n  .view2 {\r\n    height: 100% !important;\r\n    overflow: auto !important;\r\n    position: absolute;\r\n    inset: 0px;\r\n    margin-right: -8px;\r\n    margin-bottom: -8px;\r\n  }\r\n  .thumb-horizontal {\r\n    position: relative;\r\n    display: block;\r\n    height: 100%;\r\n    cursor: pointer;\r\n    border-radius: inherit;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    width: 0px;\r\n  }\r\n  .track-horizontal {\r\n    position: absolute;\r\n    height: 6px;\r\n    right: 2px;\r\n    bottom: 2px;\r\n    left: 2px;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  .track-vertical {\r\n    position: absolute;\r\n    width: 6px;\r\n    right: 2px;\r\n    bottom: 2px;\r\n    top: 2px;\r\n    border-radius: 3px;\r\n  }\r\n  .thumb-vertical {\r\n    position: relative;\r\n    display: block;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    border-radius: inherit;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    height: 135px;\r\n    transform: translateY(0px);\r\n  }\r\n  .preventScrolling {\r\n    overflow-y: hidden !important;\r\n  }\r\n  .backHome {\r\n    padding: calc(0.45rem + 0.3vw) calc(1rem + 0.3vw);\r\n    margin-top: calc(1.5rem + 1vh);\r\n    padding-left: calc(2.25rem + 0.3vw);\r\n  }\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n  flex: 1 1 auto;\r\n  overflow-y: auto;\r\n  height: 0px;\r\n\r\n  p {\r\n    padding: calc(0.1rem + 0.1vw) calc(2.25rem + 0.3vw);\r\n    font-size: calc(0.85rem + 0.3vw);\r\n    color: rgba(255, 255, 255, 19%);\r\n    &.last {\r\n      padding-top: calc(0.1rem + 0.1vw);\r\n    }\r\n  }\r\n  .scrollable {\r\n    padding-right: calc(0.8rem + 0.3vw);\r\n    div:first-child {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n    }\r\n  }\r\n  .sidebar {\r\n    position: relative;\r\n    background: linear-gradient(280deg, #373965, #2a2b4a);\r\n    font-family: 'Poppins', sans-serif;\r\n    color: white;\r\n    min-width: calc(255px + 3vw);\r\n  }\r\n  .content {\r\n    flex: 1 1 auto;\r\n    background: linear-gradient(280deg, #1b203d, #1f203e);\r\n    overflow-y: auto;\r\n    color: white;\r\n  }\r\n  .title {\r\n    font-weight: 500;\r\n  }\r\n`\r\n\r\nexport default Dashboard\r\n"],"sourceRoot":""}